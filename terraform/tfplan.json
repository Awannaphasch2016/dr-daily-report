{"format_version":"1.2","terraform_version":"1.10.3","variables":{"AURORA_MASTER_PASSWORD":{"value":"AuroraDevDb2025SecureX1"},"LINE_CHANNEL_ACCESS_TOKEN":{"value":"cxxp26wwR/7Mi4/uIV/Uma9VioBm2IqDchSkZR9XbWRorvfz24Lj359QLFc8rSDoe0azQtH8fGXpVQcbTFNce+RUPBLtPtkFnoztFp5LXaXXSY2ozC+MHd98A1vG8XI6Jq5B1jvxx8lwPXIr86TgpQdB04t89/1O/w1cDnyilFU="},"LINE_CHANNEL_SECRET":{"value":"7af68e03b93401de6eb46f81bd87b267"},"OPENROUTER_API_KEY":{"value":"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"},"aurora_database_name":{"value":"ticker_data"},"aurora_enabled":{"value":true},"aurora_master_username":{"value":"admin"},"aurora_max_acu":{"value":2},"aurora_min_acu":{"value":0.5},"aws_region":{"value":"ap-southeast-1"},"cost_center":{"value":"engineering"},"ecr_repository_name":{"value":"line-bot-ticker-report"},"environment":{"value":"dev"},"function_name":{"value":"line-bot-ticker-report"},"lambda_image_tag":{"value":"v20251201182404"},"lambda_memory":{"value":512},"lambda_timeout":{"value":120},"langsmith_api_key":{"value":""},"langsmith_tracing_enabled":{"value":false},"log_retention_days":{"value":7},"owner":{"value":"data-team"},"project_name":{"value":"dr-daily-report"},"telegram_app_hash":{"value":""},"telegram_app_id":{"value":""},"telegram_bot_token":{"value":""},"telegram_webapp_url":{"value":"https://demjoigiw6myp.cloudfront.net"},"telegram_webapp_urls":{"value":[]}},"planned_values":{"outputs":{"aurora_cluster_endpoint":{"sensitive":false,"type":"string","value":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com"},"aurora_cluster_port":{"sensitive":false,"type":"number","value":3306},"aurora_cluster_reader_endpoint":{"sensitive":false,"type":"string","value":"dr-daily-report-aurora-dev.cluster-ro-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com"},"aurora_credentials_secret_arn":{"sensitive":false,"type":"string","value":"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT"},"aurora_security_group_id":{"sensitive":false,"type":"string","value":"sg-090e3e8630b0902e5"},"cloudfront_distribution_domain":{"sensitive":false,"type":"string","value":"demjoigiw6myp.cloudfront.net"},"cloudfront_distribution_id":{"sensitive":false,"type":"string","value":"E2E287IAR2D3IG"},"cloudfront_test_distribution_domain":{"sensitive":false,"type":"string","value":"d24cidhj2eghux.cloudfront.net"},"cloudfront_test_distribution_id":{"sensitive":false,"type":"string","value":"E3D4ZF0OMC5OI1"},"deployment_summary":{"sensitive":false,"type":["object",{"environment":"string","function_name":"string","region":"string","webhook_url":"string"}],"value":{"environment":"dev","function_name":"line-bot-ticker-report","region":"ap-southeast-1","webhook_url":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/"}},"ecr_repository_url":{"sensitive":false,"type":"string","value":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev"},"lambda_aurora_security_group_id":{"sensitive":false,"type":"string","value":"sg-0185a0d8d92968d03"},"lambda_function_arn":{"sensitive":false,"type":"string","value":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report"},"lambda_function_name":{"sensitive":false,"type":"string","value":"line-bot-ticker-report"},"lambda_function_version":{"sensitive":false,"type":"string","value":"$LATEST"},"pdf_storage_bucket":{"sensitive":false,"type":"string","value":"line-bot-pdf-reports-755283537543"},"report_jobs_dlq_url":{"sensitive":false,"type":"string","value":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev"},"report_jobs_queue_arn":{"sensitive":false,"type":"string","value":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev"},"report_jobs_queue_url":{"sensitive":false,"type":"string","value":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev"},"report_jobs_table_arn":{"sensitive":false,"type":"string","value":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev"},"report_jobs_table_name":{"sensitive":false,"type":"string","value":"dr-daily-report-telegram-jobs-dev"},"report_worker_function_arn":{"sensitive":false,"type":"string","value":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev"},"report_worker_function_name":{"sensitive":false,"type":"string","value":"dr-daily-report-report-worker-dev"},"sns_alerts_topic_arn":{"sensitive":false,"type":"string","value":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"},"telegram_api_gateway_id":{"sensitive":false,"type":"string","value":"ou0ivives1"},"telegram_api_gateway_url":{"sensitive":false,"type":"string","value":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com"},"telegram_api_invoke_url":{"sensitive":false,"type":"string","value":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com/api/v1"},"telegram_lambda_alias_arn":{"sensitive":false,"type":"string","value":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live"},"telegram_lambda_function_arn":{"sensitive":false,"type":"string","value":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev"},"telegram_lambda_function_name":{"sensitive":false,"type":"string","value":"dr-daily-report-telegram-api-dev"},"telegram_lambda_role_arn":{"sensitive":false,"type":"string","value":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev"},"telegram_lambda_version":{"sensitive":false,"type":"string","value":"34"},"ticker_scheduler_enabled":{"sensitive":false,"type":"bool","value":true},"ticker_scheduler_eventbridge_rule":{"sensitive":false,"type":"string","value":"dr-daily-report-daily-ticker-fetch-dev"},"ticker_scheduler_function_arn":{"sensitive":false,"type":"string","value":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev"},"ticker_scheduler_function_name":{"sensitive":false,"type":"string","value":"dr-daily-report-ticker-scheduler-dev"},"watchlist_table_arn":{"sensitive":false,"type":"string","value":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev"},"watchlist_table_name":{"sensitive":false,"type":"string","value":"dr-daily-report-telegram-watchlist-dev"},"webapp_bucket_arn":{"sensitive":false,"type":"string","value":"arn:aws:s3:::dr-daily-report-webapp-dev"},"webapp_bucket_name":{"sensitive":false,"type":"string","value":"dr-daily-report-webapp-dev"},"webapp_test_url":{"sensitive":false,"type":"string","value":"https://d24cidhj2eghux.cloudfront.net"},"webapp_url":{"sensitive":false,"type":"string","value":"https://demjoigiw6myp.cloudfront.net"},"webhook_url":{"sensitive":false,"type":"string","value":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/"}},"root_module":{"resources":[{"address":"aws_apigatewayv2_api.telegram_api","mode":"managed","type":"aws_apigatewayv2_api","name":"telegram_api","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_endpoint":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com","api_key_selection_expression":"$request.header.x-api-key","arn":"arn:aws:apigateway:ap-southeast-1::/apis/ou0ivives1","body":null,"cors_configuration":[{"allow_credentials":false,"allow_headers":["authorization","content-type","x-telegram-init-data","x-telegram-user-id"],"allow_methods":["DELETE","GET","OPTIONS","POST","PUT"],"allow_origins":["https://d24cidhj2eghux.cloudfront.net","https://demjoigiw6myp.cloudfront.net","https://t.me","https://web.telegram.org"],"expose_headers":["x-request-id"],"max_age":300}],"credentials_arn":null,"description":"REST API for Telegram Mini App - ticker analysis and reports","disable_execute_api_endpoint":false,"execution_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1","fail_on_warnings":null,"id":"ou0ivives1","ip_address_type":"ipv4","name":"dr-daily-report-telegram-api-dev","protocol_type":"HTTP","route_key":null,"route_selection_expression":"$request.method $request.path","tags":{"App":"telegram-api","Component":"api-gateway","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"api-gateway","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"target":null,"version":""},"sensitive_values":{"cors_configuration":[{"allow_headers":[false,false,false,false],"allow_methods":[false,false,false,false,false],"allow_origins":[false,false,false,false],"expose_headers":[false]}],"tags":{},"tags_all":{}}},{"address":"aws_apigatewayv2_integration.telegram_lambda","mode":"managed","type":"aws_apigatewayv2_integration","name":"telegram_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","connection_id":"","connection_type":"INTERNET","content_handling_strategy":"","credentials_arn":"","description":"Lambda integration for Telegram Mini App API (via 'live' alias)","id":"goqnxp4","integration_method":"POST","integration_response_selection_expression":"","integration_subtype":"","integration_type":"AWS_PROXY","integration_uri":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live/invocations","passthrough_behavior":"","payload_format_version":"2.0","request_parameters":{},"request_templates":{},"response_parameters":[],"template_selection_expression":"","timeout_milliseconds":30000,"tls_config":[]},"sensitive_values":{"request_parameters":{},"request_templates":{},"response_parameters":[],"tls_config":[]}},{"address":"aws_apigatewayv2_route.health","mode":"managed","type":"aws_apigatewayv2_route","name":"health","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"jcmgqkg","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/health","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}},{"address":"aws_apigatewayv2_route.rankings","mode":"managed","type":"aws_apigatewayv2_route","name":"rankings","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"dw2jatn","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/rankings","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}},{"address":"aws_apigatewayv2_route.report","mode":"managed","type":"aws_apigatewayv2_route","name":"report","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"c8o14m9","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/report/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}},{"address":"aws_apigatewayv2_route.report_async","mode":"managed","type":"aws_apigatewayv2_route","name":"report_async","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"l6xfusf","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"POST /api/v1/report/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}},{"address":"aws_apigatewayv2_route.report_status","mode":"managed","type":"aws_apigatewayv2_route","name":"report_status","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"nqdpehp","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/report/status/{job_id}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}},{"address":"aws_apigatewayv2_route.search","mode":"managed","type":"aws_apigatewayv2_route","name":"search","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"0oxllai","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/search","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}},{"address":"aws_apigatewayv2_route.telegram_default","mode":"managed","type":"aws_apigatewayv2_route","name":"telegram_default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"yt2o0k0","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"$default","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}},{"address":"aws_apigatewayv2_route.watchlist_delete","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_delete","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"4mtprf1","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"DELETE /api/v1/watchlist/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}},{"address":"aws_apigatewayv2_route.watchlist_get","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_get","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"nrnb18l","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/watchlist","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}},{"address":"aws_apigatewayv2_route.watchlist_post","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_post","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"9re469s","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"POST /api/v1/watchlist","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}},{"address":"aws_apigatewayv2_stage.telegram_default","mode":"managed","type":"aws_apigatewayv2_stage","name":"telegram_default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_log_settings":[],"api_id":"ou0ivives1","arn":"arn:aws:apigateway:ap-southeast-1::/apis/ou0ivives1/stages/$default","auto_deploy":true,"client_certificate_id":"","default_route_settings":[{"data_trace_enabled":false,"detailed_metrics_enabled":true,"logging_level":"","throttling_burst_limit":100,"throttling_rate_limit":50}],"deployment_id":"vstlc5","description":"","execution_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1/$default","id":"$default","invoke_url":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com/","name":"$default","route_settings":[],"stage_variables":{},"tags":{"App":"telegram-api","Component":"api-gateway-stage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-stage-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"api-gateway-stage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-stage-dev","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"access_log_settings":[],"default_route_settings":[{}],"route_settings":[],"stage_variables":{},"tags":{},"tags_all":{}}},{"address":"aws_cloudfront_distribution.webapp","mode":"managed","type":"aws_cloudfront_distribution","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"aliases":[],"arn":"arn:aws:cloudfront::755283537543:distribution/E2E287IAR2D3IG","caller_reference":"terraform-20251127164303156000000002","comment":"Telegram Mini App - dev","continuous_deployment_policy_id":"","custom_error_response":[{"error_caching_min_ttl":0,"error_code":403,"response_code":200,"response_page_path":"/index.html"},{"error_caching_min_ttl":0,"error_code":404,"response_code":200,"response_page_path":"/index.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":3600,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":86400,"min_ttl":0,"origin_request_policy_id":"","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"default_root_object":"index.html","domain_name":"demjoigiw6myp.cloudfront.net","enabled":true,"etag":"E1Z3GXR3SKI4SZ","hosted_zone_id":"Z2FDTNDATAQYW2","http_version":"http2","id":"E2E287IAR2D3IG","in_progress_validation_batches":0,"is_ipv6_enabled":true,"last_modified_time":"2025-11-27 16:43:03.394 +0000 UTC","logging_config":[],"ordered_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":300,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":3600,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.html","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.js","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.css","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","origin_access_control_id":"","origin_id":"S3-webapp","origin_path":"","origin_shield":[],"s3_origin_config":[{"origin_access_identity":"origin-access-identity/cloudfront/E3TW52UDU2O6GX"}],"vpc_origin_config":[]}],"origin_group":[],"price_class":"PriceClass_200","restrictions":[{"geo_restriction":[{"locations":[],"restriction_type":"none"}]}],"retain_on_delete":false,"staging":false,"status":"Deployed","tags":{"App":"telegram-api","Component":"frontend-cdn","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"frontend-cdn","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report"},"trusted_key_groups":[{"enabled":false,"items":[]}],"trusted_signers":[{"enabled":false,"items":[]}],"viewer_certificate":[{"acm_certificate_arn":"","cloudfront_default_certificate":true,"iam_certificate_id":"","minimum_protocol_version":"TLSv1","ssl_support_method":""}],"wait_for_deployment":true,"web_acl_id":""},"sensitive_values":{"aliases":[],"custom_error_response":[{},{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"logging_config":[],"ordered_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"origin":[{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[{}],"vpc_origin_config":[]}],"origin_group":[],"restrictions":[{"geo_restriction":[{"locations":[]}]}],"tags":{},"tags_all":{},"trusted_key_groups":[{"items":[]}],"trusted_signers":[{"items":[]}],"viewer_certificate":[{}]}},{"address":"aws_cloudfront_distribution.webapp_test","mode":"managed","type":"aws_cloudfront_distribution","name":"webapp_test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"aliases":[],"arn":"arn:aws:cloudfront::755283537543:distribution/E3D4ZF0OMC5OI1","caller_reference":"terraform-20251130165524021200000001","comment":"Telegram Mini App TEST - dev (E2E testing)","continuous_deployment_policy_id":"","custom_error_response":[{"error_caching_min_ttl":0,"error_code":403,"response_code":200,"response_page_path":"/index.html"},{"error_caching_min_ttl":0,"error_code":404,"response_code":200,"response_page_path":"/index.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":3600,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":86400,"min_ttl":0,"origin_request_policy_id":"","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"default_root_object":"index.html","domain_name":"d24cidhj2eghux.cloudfront.net","enabled":true,"etag":"E2HXBFICS8BU85","hosted_zone_id":"Z2FDTNDATAQYW2","http_version":"http2","id":"E3D4ZF0OMC5OI1","in_progress_validation_batches":0,"is_ipv6_enabled":true,"last_modified_time":"2025-11-30 16:55:25.024 +0000 UTC","logging_config":[],"ordered_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":300,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":3600,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.html","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.js","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.css","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","origin_access_control_id":"","origin_id":"S3-webapp-test","origin_path":"","origin_shield":[],"s3_origin_config":[{"origin_access_identity":"origin-access-identity/cloudfront/E3TW52UDU2O6GX"}],"vpc_origin_config":[]}],"origin_group":[],"price_class":"PriceClass_200","restrictions":[{"geo_restriction":[{"locations":[],"restriction_type":"none"}]}],"retain_on_delete":false,"staging":false,"status":"Deployed","tags":{"App":"telegram-api","Component":"frontend-cdn-test","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-test-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report","Purpose":"e2e-testing"},"tags_all":{"App":"telegram-api","Component":"frontend-cdn-test","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-test-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report","Purpose":"e2e-testing"},"trusted_key_groups":[{"enabled":false,"items":[]}],"trusted_signers":[{"enabled":false,"items":[]}],"viewer_certificate":[{"acm_certificate_arn":"","cloudfront_default_certificate":true,"iam_certificate_id":"","minimum_protocol_version":"TLSv1","ssl_support_method":""}],"wait_for_deployment":true,"web_acl_id":""},"sensitive_values":{"aliases":[],"custom_error_response":[{},{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"logging_config":[],"ordered_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"origin":[{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[{}],"vpc_origin_config":[]}],"origin_group":[],"restrictions":[{"geo_restriction":[{"locations":[]}]}],"tags":{},"tags_all":{},"trusted_key_groups":[{"items":[]}],"trusted_signers":[{"items":[]}],"viewer_certificate":[{}]}},{"address":"aws_cloudfront_origin_access_identity.webapp","mode":"managed","type":"aws_cloudfront_origin_access_identity","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:cloudfront::755283537543:origin-access-identity/E3TW52UDU2O6GX","caller_reference":"terraform-20251127164301314600000001","cloudfront_access_identity_path":"origin-access-identity/cloudfront/E3TW52UDU2O6GX","comment":"OAI for dr-daily-report Telegram WebApp","etag":"E3UN6WX5RRO2AG","iam_arn":"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX","id":"E3TW52UDU2O6GX","s3_canonical_user_id":"b3f24f0623370da2a9961116b57ce34f1a50226b5ddf7a30d4e9aeaf057d65675c648567d3b8ccf9e59435ff05e57bab"},"sensitive_values":{}},{"address":"aws_cloudwatch_event_rule.daily_ticker_fetch","mode":"managed","type":"aws_cloudwatch_event_rule","name":"daily_ticker_fetch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:events:ap-southeast-1:755283537543:rule/dr-daily-report-daily-ticker-fetch-dev","description":"Fetch ticker data daily at 8 AM Bangkok time (UTC+7)","event_bus_name":"default","event_pattern":null,"force_destroy":false,"id":"dr-daily-report-daily-ticker-fetch-dev","is_enabled":true,"name":"dr-daily-report-daily-ticker-fetch-dev","name_prefix":"","role_arn":"","schedule_expression":"cron(0 1 * * ? *)","state":"ENABLED","tags":{"App":"telegram-api","Component":"scheduler-trigger","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-daily-ticker-fetch-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"tags_all":{"App":"telegram-api","Component":"scheduler-trigger","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-daily-ticker-fetch-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_cloudwatch_event_target.ticker_scheduler","mode":"managed","type":"aws_cloudwatch_event_target","name":"ticker_scheduler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"appsync_target":[],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev","batch_target":[],"dead_letter_config":[],"ecs_target":[],"event_bus_name":"default","force_destroy":false,"http_target":[],"id":"dr-daily-report-daily-ticker-fetch-dev-ticker-scheduler-lambda","input":"{\"action\":\"precompute\",\"include_report\":true}","input_path":"","input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"role_arn":"","rule":"dr-daily-report-daily-ticker-fetch-dev","run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[],"target_id":"ticker-scheduler-lambda"},"sensitive_values":{"appsync_target":[],"batch_target":[],"dead_letter_config":[],"ecs_target":[],"http_target":[],"input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[]}},{"address":"aws_cloudwatch_log_group.telegram_api_gateway_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"telegram_api_gateway_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/apigateway/dr-daily-report-telegram-api-dev","id":"/aws/apigateway/dr-daily-report-telegram-api-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/apigateway/dr-daily-report-telegram-api-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-gateway-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-gateway-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_cloudwatch_log_group.telegram_api_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"telegram_api_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/lambda/dr-daily-report-telegram-api-dev","id":"/aws/lambda/dr-daily-report-telegram-api-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/lambda/dr-daily-report-telegram-api-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_cloudwatch_log_group.ticker_scheduler_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"ticker_scheduler_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/lambda/dr-daily-report-ticker-scheduler-dev","id":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"scheduler-logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"scheduler-logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_cloudwatch_metric_alarm.api_4xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_4xx_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"API Gateway 4xx error rate is high (\u003e50 errors in 15 minutes)","alarm_name":"dr-daily-report-api-4xx-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-api-4xx-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"ApiId":"ou0ivives1"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":3,"extended_statistic":"","id":"dr-daily-report-api-4xx-dev","insufficient_data_actions":[],"metric_name":"4xx","metric_query":[],"namespace":"AWS/ApiGateway","ok_actions":[],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-4xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-4xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":50,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}}},{"address":"aws_cloudwatch_metric_alarm.api_5xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_5xx_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"API Gateway 5xx error rate is high (\u003e10 errors in 5 minutes)","alarm_name":"dr-daily-report-api-5xx-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-api-5xx-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"ApiId":"ou0ivives1"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-api-5xx-dev","insufficient_data_actions":[],"metric_name":"5xx","metric_query":[],"namespace":"AWS/ApiGateway","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-5xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-5xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":10,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}}},{"address":"aws_cloudwatch_metric_alarm.dlq_messages","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"dlq_messages","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Messages in DLQ - report jobs are failing","alarm_name":"dr-daily-report-dlq-messages-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-dlq-messages-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"QueueName":"dr-daily-report-report-jobs-dlq-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":1,"extended_statistic":"","id":"dr-daily-report-dlq-messages-dev","insufficient_data_actions":[],"metric_name":"ApproximateNumberOfMessagesVisible","metric_query":[],"namespace":"AWS/SQS","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dlq-messages-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dlq-messages-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":1,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}}},{"address":"aws_cloudwatch_metric_alarm.report_worker_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"report_worker_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Report Worker Lambda error rate is high (\u003e3 errors in 5 minutes)","alarm_name":"dr-daily-report-report-worker-errors-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-report-worker-errors-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-report-worker-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-report-worker-errors-dev","insufficient_data_actions":[],"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":3,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}}},{"address":"aws_cloudwatch_metric_alarm.telegram_api_duration","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"telegram_api_duration","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Telegram API Lambda average duration is approaching timeout","alarm_name":"dr-daily-report-telegram-api-duration-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-telegram-api-duration-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-telegram-api-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-telegram-api-duration-dev","insufficient_data_actions":[],"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Average","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-duration-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-duration-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":45000,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}}},{"address":"aws_cloudwatch_metric_alarm.telegram_api_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"telegram_api_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Telegram API Lambda error rate is high (\u003e5 errors in 5 minutes)","alarm_name":"dr-daily-report-telegram-api-errors-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-telegram-api-errors-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-telegram-api-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-telegram-api-errors-dev","insufficient_data_actions":[],"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":5,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}}},{"address":"aws_db_subnet_group.aurora[0]","mode":"managed","type":"aws_db_subnet_group","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:rds:ap-southeast-1:755283537543:subgrp:dr-daily-report-aurora-dev","description":"Subnet group for Aurora cluster","id":"dr-daily-report-aurora-dev","name":"dr-daily-report-aurora-dev","name_prefix":"","subnet_ids":["subnet-012d60cbb95430cd6","subnet-030760a3f13e4eacc","subnet-0bfaf6ef0e1a456a6","subnet-0da9ef11b7da7ce3a","subnet-0e3861e4ea942da39","subnet-0ef493a1aae3b4af4"],"supported_network_types":["IPV4"],"tags":{"App":"shared","Component":"aurora-subnet-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-subnet-group","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-subnet-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-subnet-group","Owner":"data-team","Project":"dr-daily-report"},"vpc_id":"vpc-0fb04b10ef8c3d18b"},"sensitive_values":{"subnet_ids":[false,false,false,false,false,false],"supported_network_types":[false],"tags":{},"tags_all":{}}},{"address":"aws_dynamodb_table.report_jobs","mode":"managed","type":"aws_dynamodb_table","name":"report_jobs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev","attribute":[{"name":"job_id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"job_id","id":"dr-daily-report-telegram-jobs-dev","import_table":[],"local_secondary_index":[],"name":"dr-daily-report-telegram-jobs-dev","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":null,"read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"App":"telegram-api","Component":"job-storage","CostCenter":"engineering","DataType":"async-jobs","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"job-storage","CostCenter":"engineering","DataType":"async-jobs","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"ttl":[{"attribute_name":"ttl","enabled":true}],"write_capacity":0},"sensitive_values":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]}},{"address":"aws_dynamodb_table.telegram_watchlist","mode":"managed","type":"aws_dynamodb_table","name":"telegram_watchlist","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev","attribute":[{"name":"ticker","type":"S"},{"name":"user_id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"user_id","id":"dr-daily-report-telegram-watchlist-dev","import_table":[],"local_secondary_index":[],"name":"dr-daily-report-telegram-watchlist-dev","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":"ticker","read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"App":"telegram-api","Component":"watchlist-storage","CostCenter":"engineering","DataType":"user-preferences","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-watchlist-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"watchlist-storage","CostCenter":"engineering","DataType":"user-preferences","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-watchlist-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"ttl":[{"attribute_name":"ttl","enabled":true}],"write_capacity":0},"sensitive_values":{"attribute":[{},{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]}},{"address":"aws_ecr_lifecycle_policy.lambda","mode":"managed","type":"aws_ecr_lifecycle_policy","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-lambda-dev","policy":"{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 20 versioned images for rollback\",\"rulePriority\":1,\"selection\":{\"countNumber\":20,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\",\"sha-\"],\"tagStatus\":\"tagged\"}},{\"action\":{\"type\":\"expire\"},\"description\":\"Expire untagged images after 1 day\",\"rulePriority\":2,\"selection\":{\"countNumber\":1,\"countType\":\"sinceImagePushed\",\"countUnit\":\"days\",\"tagStatus\":\"untagged\"}}]}","registry_id":"755283537543","repository":"dr-daily-report-lambda-dev"},"sensitive_values":{}},{"address":"aws_ecr_repository.lambda","mode":"managed","type":"aws_ecr_repository","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ecr:ap-southeast-1:755283537543:repository/dr-daily-report-lambda-dev","encryption_configuration":[{"encryption_type":"AES256","kms_key":""}],"force_delete":null,"id":"dr-daily-report-lambda-dev","image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"IMMUTABLE","name":"dr-daily-report-lambda-dev","registry_id":"755283537543","repository_url":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev","tags":{"Component":"container-registry","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"Component":"container-registry","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null},"sensitive_values":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags":{},"tags_all":{}}},{"address":"aws_ecr_repository_policy.lambda","mode":"managed","type":"aws_ecr_repository_policy","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-lambda-dev","policy":"{\"Statement\":[{\"Action\":[\"ecr:BatchGetImage\",\"ecr:GetDownloadUrlForLayer\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"LambdaECRImageRetrievalPolicy\"}],\"Version\":\"2012-10-17\"}","registry_id":"755283537543","repository":"dr-daily-report-lambda-dev"},"sensitive_values":{}},{"address":"aws_iam_policy.dynamodb_access","mode":"managed","type":"aws_iam_policy","name":"dynamodb_access","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","attachment_count":2,"description":"Allow Lambda to access DynamoDB tables for Telegram Mini App","id":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","name":"dr-daily-report-dynamodb-access-dev","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\",\"dynamodb:DeleteItem\",\"dynamodb:Query\",\"dynamodb:Scan\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev\"]}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA27WTIF2D7ZYGM7XCJ","tags":{"App":"telegram-api","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dynamodb-access-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dynamodb-access-dev","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_policy.lambda_aurora_access[0]","mode":"managed","type":"aws_iam_policy","name":"lambda_aurora_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","attachment_count":2,"description":"Allow Lambda to access Aurora cluster","id":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","name":"dr-daily-report-lambda-aurora-access-dev","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"rds:DescribeDBClusters\",\"rds:DescribeDBInstances\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:rds:ap-southeast-1:755283537543:cluster:dr-daily-report-aurora-dev\"},{\"Action\":[\"ec2:CreateNetworkInterface\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DeleteNetworkInterface\",\"ec2:AssignPrivateIpAddresses\",\"ec2:UnassignPrivateIpAddresses\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA27WTIF2D27LU7R5RW","tags":{"App":"shared","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-policy","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-policy","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_role.lambda_role","mode":"managed","type":"aws_iam_role","name":"lambda_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::755283537543:role/line-bot-ticker-report-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-09T11:18:50Z","description":"","force_detach_policies":false,"id":"line-bot-ticker-report-role","inline_policy":[{"name":"line-bot-ticker-report-custom-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-ticker-deploy-20251030/python-libs/*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-staging","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"],"max_session_duration":3600,"name":"line-bot-ticker-report-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"line-bot","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-ticker-report-role","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"line-bot","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-ticker-report-role","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DZASRHSVNV"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[false,false,false,false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role.report_worker_role","mode":"managed","type":"aws_iam_role","name":"report_worker_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::755283537543:role/dr-daily-report-report-worker-role-dev","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-30T23:41:16Z","description":"","force_detach_policies":false,"id":"dr-daily-report-report-worker-role-dev","inline_policy":[{"name":"dr-daily-report-report-worker-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"],"max_session_duration":3600,"name":"dr-daily-report-report-worker-role-dev","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-role-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-role-dev","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DQFNXZHPU3"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[false,false,false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role.telegram_lambda_role","mode":"managed","type":"aws_iam_role","name":"telegram_lambda_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-30T23:41:16Z","description":"","force_detach_policies":false,"id":"dr-daily-report-telegram-api-role-dev","inline_policy":[{"name":"dr-daily-report-scheduler-secrets-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT\"}]}"},{"name":"dr-daily-report-telegram-api-async-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\",\"sqs:GetQueueUrl\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"}]}"},{"name":"dr-daily-report-telegram-api-custom-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"max_session_duration":3600,"name":"dr-daily-report-telegram-api-role-dev","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-role-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-role-dev","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DS7W4AE6FV"},"sensitive_values":{"inline_policy":[{},{},{}],"managed_policy_arns":[false,false,false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role_policy.lambda_custom","mode":"managed","type":"aws_iam_role_policy","name":"lambda_custom","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"line-bot-ticker-report-role:line-bot-ticker-report-custom-policy","name":"line-bot-ticker-report-custom-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-ticker-deploy-20251030/python-libs/*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"line-bot-ticker-report-role"},"sensitive_values":{}},{"address":"aws_iam_role_policy.report_worker_policy","mode":"managed","type":"aws_iam_role_policy","name":"report_worker_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-report-worker-role-dev:dr-daily-report-report-worker-policy-dev","name":"dr-daily-report-report-worker-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"}]}","role":"dr-daily-report-report-worker-role-dev"},"sensitive_values":{}},{"address":"aws_iam_role_policy.scheduler_secrets_access[0]","mode":"managed","type":"aws_iam_role_policy","name":"scheduler_secrets_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-scheduler-secrets-dev","name":"dr-daily-report-scheduler-secrets-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{}},{"address":"aws_iam_role_policy.telegram_api_async_policy","mode":"managed","type":"aws_iam_role_policy","name":"telegram_api_async_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-telegram-api-async-policy-dev","name":"dr-daily-report-telegram-api-async-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\",\"sqs:GetQueueUrl\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{}},{"address":"aws_iam_role_policy.telegram_lambda_custom","mode":"managed","type":"aws_iam_role_policy","name":"telegram_lambda_custom","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-telegram-api-custom-policy-dev","name":"dr-daily-report-telegram-api-custom-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.lambda_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"line-bot-ticker-report-role-20251124172528934200000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"line-bot-ticker-report-role"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.lambda_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"line-bot-ticker-report-role-20251201093319494900000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","role":"line-bot-ticker-report-role"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.report_worker_aurora_access[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_aurora_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-report-worker-role-dev-20251202035458961100000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","role":"dr-daily-report-report-worker-role-dev"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.report_worker_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-report-worker-role-dev-20251201092614130100000001","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"dr-daily-report-report-worker-role-dev"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.report_worker_vpc[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_vpc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-report-worker-role-dev-20251202035458990000000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"dr-daily-report-report-worker-role-dev"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.scheduler_aurora_access[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"scheduler_aurora_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev-20251201102155921900000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.telegram_lambda_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"telegram_lambda_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev-20251201092614155200000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{}},{"address":"aws_iam_role_policy_attachment.telegram_lambda_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"telegram_lambda_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev-20251201093319495100000002","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{}},{"address":"aws_lambda_alias.report_worker_live","mode":"managed","type":"aws_lambda_alias","name":"report_worker_live","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","description":"Production alias for report worker - update to rollback","function_name":"dr-daily-report-report-worker-dev","function_version":"23","id":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live/invocations","name":"live","routing_config":[]},"sensitive_values":{"routing_config":[]}},{"address":"aws_lambda_alias.telegram_api_live","mode":"managed","type":"aws_lambda_alias","name":"telegram_api_live","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live","description":"Production traffic alias - update to rollback","function_name":"dr-daily-report-telegram-api-dev","function_version":"32","id":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live/invocations","name":"live","routing_config":[]},"sensitive_values":{"routing_config":[]}},{"address":"aws_lambda_event_source_mapping.report_jobs_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"report_jobs_trigger","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:event-source-mapping:455b7398-b7b4-4305-a243-a5b40ec0466a","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","filter_criteria":[],"function_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","function_name":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","function_response_types":[],"id":"455b7398-b7b4-4305-a243-a5b40ec0466a","kms_key_arn":"","last_modified":"2025-11-30T23:42:26Z","last_processing_result":"","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":0,"maximum_retry_attempts":0,"metrics_config":[],"parallelization_factor":0,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"USER_INITIATED","tags":{},"tags_all":{},"topics":[],"tumbling_window_in_seconds":0,"uuid":"455b7398-b7b4-4305-a243-a5b40ec0466a"},"sensitive_values":{"amazon_managed_kafka_event_source_config":[],"destination_config":[],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]}},{"address":"aws_lambda_function.line_bot","mode":"managed","type":"aws_lambda_function","name":"line_bot","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"CACHE_BACKEND":"hybrid","CACHE_TTL_HOURS":"24","LINE_CHANNEL_ACCESS_TOKEN":"cxxp26wwR/7Mi4/uIV/Uma9VioBm2IqDchSkZR9XbWRorvfz24Lj359QLFc8rSDoe0azQtH8fGXpVQcbTFNce+RUPBLtPtkFnoztFp5LXaXXSY2ozC+MHd98A1vG8XI6Jq5B1jvxx8lwPXIr86TgpQdB04t89/1O/w1cDnyilFU=","LINE_CHANNEL_SECRET":"7af68e03b93401de6eb46f81bd87b267","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543","PDF_URL_EXPIRATION_HOURS":"24"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"line-bot-ticker-report","handler":"","id":"line-bot-ticker-report","image_config":[{"command":["lambda_handler.lambda_handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/line-bot-ticker-report","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":false,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/line-bot-ticker-report-role","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"line-bot","Component":"webhook-handler","CostCenter":"engineering","Environment":"dev","Interface":"function-url","ManagedBy":"Terraform","Name":"line-bot-ticker-report","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"line-bot","Component":"webhook-handler","CostCenter":"engineering","Environment":"dev","Interface":"function-url","ManagedBy":"Terraform","Name":"line-bot-ticker-report","Owner":"data-team","Project":"dr-daily-report"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"LINE_CHANNEL_ACCESS_TOKEN":true,"LINE_CHANNEL_SECRET":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}},{"address":"aws_lambda_function.report_worker","mode":"managed","type":"aws_lambda_function","name":"report_worker","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"AURORA_DATABASE":"ticker_data","AURORA_HOST":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","AURORA_PASSWORD":"AuroraDevDb2025SecureX1","AURORA_PORT":"3306","AURORA_USER":"admin","JOBS_TABLE_NAME":"dr-daily-report-telegram-jobs-dev","LANGSMITH_API_KEY":"","LANGSMITH_TRACING_V2":"false","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-report-worker-dev","handler":"","id":"dr-daily-report-report-worker-dev","image_config":[{"command":["report_worker_handler.handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-report-worker-dev","system_log_level":""}],"memory_size":1024,"package_type":"Image","publish":true,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-report-worker-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"report-worker","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-dev","Owner":"data-team","Project":"dr-daily-report","Trigger":"sqs"},"tags_all":{"App":"telegram-api","Component":"report-worker","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-dev","Owner":"data-team","Project":"dr-daily-report","Trigger":"sqs"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false,"security_group_ids":["sg-0185a0d8d92968d03"],"subnet_ids":["subnet-012d60cbb95430cd6","subnet-0bfaf6ef0e1a456a6","subnet-0ef493a1aae3b4af4"],"vpc_id":"vpc-0fb04b10ef8c3d18b"}]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"AURORA_PASSWORD":true,"LANGSMITH_API_KEY":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[false],"subnet_ids":[false,false,false]}]}},{"address":"aws_lambda_function.telegram_api","mode":"managed","type":"aws_lambda_function","name":"telegram_api","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"CACHE_BACKEND":"hybrid","CACHE_TTL_HOURS":"24","DYNAMODB_WATCHLIST_TABLE":"dr-daily-report-telegram-watchlist-dev","ENVIRONMENT":"dev","JOBS_TABLE_NAME":"dr-daily-report-telegram-jobs-dev","LANGSMITH_API_KEY":"","LANGSMITH_TRACING_V2":"false","LOG_LEVEL":"INFO","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543","PDF_URL_EXPIRATION_HOURS":"24","REPORT_JOBS_QUEUE_URL":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","TELEGRAM_APP_HASH":"","TELEGRAM_APP_ID":"","TELEGRAM_BOT_TOKEN":"","TELEGRAM_WEBAPP_URL":"https://demjoigiw6myp.cloudfront.net"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-telegram-api-dev","handler":"","id":"dr-daily-report-telegram-api-dev","image_config":[{"command":["telegram_lambda_handler.handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-telegram-api-dev","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":true,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:34","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:34/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"rest-api","CostCenter":"engineering","Environment":"dev","Interface":"api-gateway","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"rest-api","CostCenter":"engineering","Environment":"dev","Interface":"api-gateway","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"34","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"LANGSMITH_API_KEY":true,"OPENROUTER_API_KEY":true,"TELEGRAM_APP_HASH":true,"TELEGRAM_APP_ID":true,"TELEGRAM_BOT_TOKEN":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}},{"address":"aws_lambda_function.ticker_scheduler","mode":"managed","type":"aws_lambda_function","name":"ticker_scheduler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"AURORA_DATABASE":"ticker_data","AURORA_HOST":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","AURORA_PASSWORD":"AuroraDevDb2025SecureX1","AURORA_PORT":"3306","AURORA_USER":"admin","ENVIRONMENT":"dev","LOG_LEVEL":"INFO","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-ticker-scheduler-dev","handler":"","id":"dr-daily-report-ticker-scheduler-dev","image_config":[{"command":["src.scheduler.handler.lambda_handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":false,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"scheduler","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"tags_all":{"App":"telegram-api","Component":"scheduler","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[{"ipv6_allowed_for_dual_stack":false,"security_group_ids":["sg-0185a0d8d92968d03"],"subnet_ids":["subnet-012d60cbb95430cd6","subnet-0bfaf6ef0e1a456a6","subnet-0ef493a1aae3b4af4"],"vpc_id":"vpc-0fb04b10ef8c3d18b"}]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"AURORA_PASSWORD":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[false],"subnet_ids":[false,false,false]}]}},{"address":"aws_lambda_function_url.line_webhook","mode":"managed","type":"aws_lambda_function_url","name":"line_webhook","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"authorization_type":"NONE","cors":[{"allow_credentials":false,"allow_headers":["*"],"allow_methods":["GET","POST"],"allow_origins":["*"],"expose_headers":[],"max_age":0}],"function_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report","function_name":"line-bot-ticker-report","function_url":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/","id":"line-bot-ticker-report","invoke_mode":"BUFFERED","qualifier":"","timeouts":null,"url_id":"h53gesnt3xw5ggnqx6dywbc2640ffpnp"},"sensitive_values":{"cors":[{"allow_headers":[false],"allow_methods":[false,false],"allow_origins":[false],"expose_headers":[]}]}},{"address":"aws_lambda_permission.eventbridge_invoke_scheduler","mode":"managed","type":"aws_lambda_permission","name":"eventbridge_invoke_scheduler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-ticker-scheduler-dev","function_url_auth_type":null,"id":"AllowEventBridgeInvoke","principal":"events.amazonaws.com","principal_org_id":null,"qualifier":"","source_account":null,"source_arn":"arn:aws:events:ap-southeast-1:755283537543:rule/dr-daily-report-daily-ticker-fetch-dev","statement_id":"AllowEventBridgeInvoke","statement_id_prefix":""},"sensitive_values":{}},{"address":"aws_lambda_permission.report_worker_sqs","mode":"managed","type":"aws_lambda_permission","name":"report_worker_sqs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-report-worker-dev","function_url_auth_type":null,"id":"AllowSQSInvoke","principal":"sqs.amazonaws.com","principal_org_id":null,"qualifier":"live","source_account":null,"source_arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","statement_id":"AllowSQSInvoke","statement_id_prefix":""},"sensitive_values":{}},{"address":"aws_lambda_permission.telegram_api_gateway","mode":"managed","type":"aws_lambda_permission","name":"telegram_api_gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-telegram-api-dev","function_url_auth_type":null,"id":"AllowAPIGatewayInvoke","principal":"apigateway.amazonaws.com","principal_org_id":null,"qualifier":"live","source_account":null,"source_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1/*/*","statement_id":"AllowAPIGatewayInvoke","statement_id_prefix":""},"sensitive_values":{}},{"address":"aws_rds_cluster.aurora[0]","mode":"managed","type":"aws_rds_cluster","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"allocated_storage":1,"allow_major_version_upgrade":null,"apply_immediately":null,"arn":"arn:aws:rds:ap-southeast-1:755283537543:cluster:dr-daily-report-aurora-dev","availability_zones":["ap-southeast-1a","ap-southeast-1b","ap-southeast-1c"],"backtrack_window":0,"backup_retention_period":7,"ca_certificate_identifier":null,"ca_certificate_valid_till":null,"cluster_identifier":"dr-daily-report-aurora-dev","cluster_identifier_prefix":"","cluster_members":["dr-daily-report-aurora-instance-dev"],"cluster_resource_id":"cluster-HZWPMPCG6MDP34DFU2QTN4JXD4","cluster_scalability_type":"","copy_tags_to_snapshot":false,"database_insights_mode":"standard","database_name":"ticker_data","db_cluster_instance_class":"","db_cluster_parameter_group_name":"default.aurora-mysql8.0","db_instance_parameter_group_name":null,"db_subnet_group_name":"dr-daily-report-aurora-dev","db_system_id":"","delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_iam_role_name":"","enable_global_write_forwarding":false,"enable_http_endpoint":false,"enable_local_write_forwarding":false,"enabled_cloudwatch_logs_exports":["error","slowquery"],"endpoint":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","engine":"aurora-mysql","engine_lifecycle_support":"open-source-rds-extended-support","engine_mode":"provisioned","engine_version":"8.0.mysql_aurora.3.04.0","engine_version_actual":"8.0.mysql_aurora.3.04.0","final_snapshot_identifier":null,"global_cluster_identifier":"","hosted_zone_id":"Z2G0U3KFCY8NZ5","iam_database_authentication_enabled":false,"iam_roles":[],"id":"dr-daily-report-aurora-dev","iops":0,"kms_key_id":"","manage_master_user_password":null,"master_password":"AuroraDevDb2025SecureX1","master_password_wo":null,"master_password_wo_version":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"master_username":"admin","monitoring_interval":0,"monitoring_role_arn":"","network_type":"IPV4","performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"preferred_backup_window":"02:00-03:00","preferred_maintenance_window":"sun:15:47-sun:16:17","reader_endpoint":"dr-daily-report-aurora-dev.cluster-ro-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","replication_source_identifier":"","restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[{"max_capacity":2,"min_capacity":0.5,"seconds_until_auto_pause":0}],"skip_final_snapshot":true,"snapshot_identifier":null,"source_region":null,"storage_encrypted":false,"storage_type":"","tags":{"App":"shared","Component":"aurora-cluster","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-cluster","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-cluster","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-cluster","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_security_group_ids":["sg-090e3e8630b0902e5"]},"sensitive_values":{"availability_zones":[false,false,false],"cluster_members":[false],"enabled_cloudwatch_logs_exports":[false,false],"iam_roles":[],"master_password":true,"master_password_wo":true,"master_user_secret":[],"restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[{}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}},{"address":"aws_rds_cluster_instance.aurora[0]","mode":"managed","type":"aws_rds_cluster_instance","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"apply_immediately":null,"arn":"arn:aws:rds:ap-southeast-1:755283537543:db:dr-daily-report-aurora-instance-dev","auto_minor_version_upgrade":true,"availability_zone":"ap-southeast-1c","ca_cert_identifier":"rds-ca-rsa2048-g1","cluster_identifier":"dr-daily-report-aurora-dev","copy_tags_to_snapshot":false,"custom_iam_instance_profile":"","db_parameter_group_name":"default.aurora-mysql8.0","db_subnet_group_name":"dr-daily-report-aurora-dev","dbi_resource_id":"db-UCIWAUSHZHTGROON7CZBMVMUEA","endpoint":"dr-daily-report-aurora-instance-dev.c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","engine":"aurora-mysql","engine_version":"8.0.mysql_aurora.3.04.0","engine_version_actual":"8.0.mysql_aurora.3.04.0","force_destroy":null,"id":"dr-daily-report-aurora-instance-dev","identifier":"dr-daily-report-aurora-instance-dev","identifier_prefix":"","instance_class":"db.serverless","kms_key_id":"","monitoring_interval":0,"monitoring_role_arn":"","network_type":"IPV4","performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"preferred_backup_window":"02:00-03:00","preferred_maintenance_window":"wed:15:42-wed:16:12","promotion_tier":0,"publicly_accessible":false,"storage_encrypted":false,"tags":{"App":"shared","Component":"aurora-instance","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-instance","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-instance","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-instance","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"writer":true},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_s3_bucket.pdf_reports","mode":"managed","type":"aws_s3_bucket","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::line-bot-pdf-reports-755283537543","bucket":"line-bot-pdf-reports-755283537543","bucket_domain_name":"line-bot-pdf-reports-755283537543.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"line-bot-pdf-reports-755283537543.s3.ap-southeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"96092fbd02b598ed3a3c97f4a42cbd5c01bfdf3dc995dde83fe1996a26386e9f","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3O0J2DXBE1FTB","id":"line-bot-pdf-reports-755283537543","lifecycle_rule":[{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":30,"expired_object_delete_marker":false}],"id":"delete_old_pdfs","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"reports/","tags":{},"transition":[]},{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":1,"expired_object_delete_marker":false}],"id":"delete_old_cache","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"cache/","tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"ap-southeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"App":"shared","Component":"pdf-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-pdf-reports","Owner":"data-team","Project":"dr-daily-report","SharedBy":"line-bot_telegram-api"},"tags_all":{"App":"shared","Component":"pdf-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-pdf-reports","Owner":"data-team","Project":"dr-daily-report","SharedBy":"line-bot_telegram-api"},"timeouts":null,"versioning":[{"enabled":true,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_values":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]},{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]}},{"address":"aws_s3_bucket.webapp","mode":"managed","type":"aws_s3_bucket","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::dr-daily-report-webapp-dev","bucket":"dr-daily-report-webapp-dev","bucket_domain_name":"dr-daily-report-webapp-dev.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"96092fbd02b598ed3a3c97f4a42cbd5c01bfdf3dc995dde83fe1996a26386e9f","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3O0J2DXBE1FTB","id":"dr-daily-report-webapp-dev","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX\"},\"Resource\":\"arn:aws:s3:::dr-daily-report-webapp-dev/*\",\"Sid\":\"AllowCloudFrontOAI\"}],\"Version\":\"2012-10-17\"}","region":"ap-southeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"App":"telegram-api","Component":"frontend-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"frontend-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_values":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]}},{"address":"aws_s3_bucket_lifecycle_configuration.pdf_reports","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"bucket":"line-bot-pdf-reports-755283537543","expected_bucket_owner":"","id":"line-bot-pdf-reports-755283537543","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":30,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"reports/","tag":[]}],"id":"delete_old_pdfs","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]},{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":1,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"cache/","tag":[]}],"id":"delete_old_cache","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]},{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]}]}},{"address":"aws_s3_bucket_policy.webapp","mode":"managed","type":"aws_s3_bucket_policy","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"dr-daily-report-webapp-dev","id":"dr-daily-report-webapp-dev","policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX\"},\"Resource\":\"arn:aws:s3:::dr-daily-report-webapp-dev/*\",\"Sid\":\"AllowCloudFrontOAI\"}],\"Version\":\"2012-10-17\"}"},"sensitive_values":{}},{"address":"aws_s3_bucket_public_access_block.pdf_reports","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"bucket":"line-bot-pdf-reports-755283537543","id":"line-bot-pdf-reports-755283537543","ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{}},{"address":"aws_s3_bucket_public_access_block.webapp","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"bucket":"dr-daily-report-webapp-dev","id":"dr-daily-report-webapp-dev","ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{}},{"address":"aws_s3_bucket_versioning.pdf_reports","mode":"managed","type":"aws_s3_bucket_versioning","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"line-bot-pdf-reports-755283537543","expected_bucket_owner":"","id":"line-bot-pdf-reports-755283537543","mfa":null,"versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}},{"address":"aws_secretsmanager_secret.aurora_credentials[0]","mode":"managed","type":"aws_secretsmanager_secret","name":"aurora_credentials","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT","description":"Aurora MySQL credentials for dr-daily-report","force_overwrite_replica_secret":false,"id":"dr-daily-report/aurora/dev","kms_key_id":"","name":"dr-daily-report/aurora/dev","name_prefix":"","policy":"","recovery_window_in_days":30,"replica":[],"tags":{"App":"shared","Component":"secrets-manager","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-credentials","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"secrets-manager","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-credentials","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"replica":[],"tags":{},"tags_all":{}}},{"address":"aws_secretsmanager_secret_version.aurora_credentials[0]","mode":"managed","type":"aws_secretsmanager_secret_version","name":"aurora_credentials","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT","has_secret_string_wo":null,"id":"dr-daily-report/aurora/dev|terraform-20251201093349393500000003","secret_binary":"","secret_id":"dr-daily-report/aurora/dev","secret_string":"{\"database\":\"ticker_data\",\"host\":\"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com\",\"password\":\"AuroraDevDb2025SecureX1\",\"port\":3306,\"username\":\"admin\"}","secret_string_wo":null,"secret_string_wo_version":null,"version_id":"terraform-20251201093349393500000003","version_stages":["AWSCURRENT"]},"sensitive_values":{"secret_binary":true,"secret_string":true,"secret_string_wo":true,"version_stages":[false]}},{"address":"aws_security_group.aurora[0]","mode":"managed","type":"aws_security_group","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-southeast-1:755283537543:security-group/sg-090e3e8630b0902e5","description":"Security group for Aurora MySQL cluster","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"All outbound traffic","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-090e3e8630b0902e5","ingress":[{"cidr_blocks":["172.31.0.0/16"],"description":"MySQL from VPC","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306},{"cidr_blocks":[],"description":"MySQL from Lambda","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0185a0d8d92968d03"],"self":false,"to_port":3306}],"name":"dr-daily-report-aurora-dev","name_prefix":"","owner_id":"755283537543","revoke_rules_on_delete":null,"tags":{"App":"shared","Component":"aurora-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_id":"vpc-0fb04b10ef8c3d18b"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}}},{"address":"aws_security_group.lambda_aurora[0]","mode":"managed","type":"aws_security_group","name":"lambda_aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-southeast-1:755283537543:security-group/sg-0185a0d8d92968d03","description":"Security group for Lambda functions accessing Aurora","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"All outbound traffic","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0185a0d8d92968d03","ingress":[],"name":"dr-daily-report-lambda-aurora-dev","name_prefix":"","owner_id":"755283537543","revoke_rules_on_delete":false,"tags":{"App":"shared","Component":"lambda-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"lambda-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_id":"vpc-0fb04b10ef8c3d18b"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[],"tags":{},"tags_all":{}}},{"address":"aws_sns_topic.telegram_alerts","mode":"managed","type":"aws_sns_topic","name":"telegram_alerts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":0,"archive_policy":"","arn":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev","beginning_archive_time":"","content_based_deduplication":false,"delivery_policy":"","display_name":"","fifo_throughput_scope":"","fifo_topic":false,"firehose_failure_feedback_role_arn":"","firehose_success_feedback_role_arn":"","firehose_success_feedback_sample_rate":0,"http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":0,"id":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":0,"name":"dr-daily-report-telegram-alerts-dev","name_prefix":"","owner":"755283537543","policy":"{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"755283537543\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2008-10-17\"}","signature_version":0,"sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":0,"tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-alerts-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-alerts-dev","Owner":"data-team","Project":"dr-daily-report"},"tracing_config":""},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_sqs_queue.report_jobs","mode":"managed","type":"aws_sqs_queue","name":"report_jobs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":3600,"name":"dr-daily-report-report-jobs-dev","name_prefix":"","policy":"","receive_wait_time_seconds":10,"redrive_allow_policy":"","redrive_policy":"{\"deadLetterTargetArn\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dlq-dev\",\"maxReceiveCount\":1}","sqs_managed_sse_enabled":true,"tags":{"App":"telegram-api","Component":"job-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"job-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"url":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","visibility_timeout_seconds":120},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_sqs_queue.report_jobs_dlq","mode":"managed","type":"aws_sqs_queue","name":"report_jobs_dlq","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dlq-dev","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":1209600,"name":"dr-daily-report-report-jobs-dlq-dev","name_prefix":"","policy":"","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"","sqs_managed_sse_enabled":true,"tags":{"App":"telegram-api","Component":"dead-letter-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dlq-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"dead-letter-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dlq-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"url":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev","visibility_timeout_seconds":60},"sensitive_values":{"tags":{},"tags_all":{}}}]}},"resource_changes":[{"address":"aws_apigatewayv2_api.telegram_api","mode":"managed","type":"aws_apigatewayv2_api","name":"telegram_api","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_endpoint":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com","api_key_selection_expression":"$request.header.x-api-key","arn":"arn:aws:apigateway:ap-southeast-1::/apis/ou0ivives1","body":null,"cors_configuration":[{"allow_credentials":false,"allow_headers":["authorization","content-type","x-telegram-init-data","x-telegram-user-id"],"allow_methods":["DELETE","GET","OPTIONS","POST","PUT"],"allow_origins":["https://d24cidhj2eghux.cloudfront.net","https://demjoigiw6myp.cloudfront.net","https://t.me","https://web.telegram.org"],"expose_headers":["x-request-id"],"max_age":300}],"credentials_arn":null,"description":"REST API for Telegram Mini App - ticker analysis and reports","disable_execute_api_endpoint":false,"execution_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1","fail_on_warnings":null,"id":"ou0ivives1","ip_address_type":"ipv4","name":"dr-daily-report-telegram-api-dev","protocol_type":"HTTP","route_key":null,"route_selection_expression":"$request.method $request.path","tags":{"App":"telegram-api","Component":"api-gateway","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"api-gateway","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"target":null,"version":""},"after":{"api_endpoint":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com","api_key_selection_expression":"$request.header.x-api-key","arn":"arn:aws:apigateway:ap-southeast-1::/apis/ou0ivives1","body":null,"cors_configuration":[{"allow_credentials":false,"allow_headers":["authorization","content-type","x-telegram-init-data","x-telegram-user-id"],"allow_methods":["DELETE","GET","OPTIONS","POST","PUT"],"allow_origins":["https://d24cidhj2eghux.cloudfront.net","https://demjoigiw6myp.cloudfront.net","https://t.me","https://web.telegram.org"],"expose_headers":["x-request-id"],"max_age":300}],"credentials_arn":null,"description":"REST API for Telegram Mini App - ticker analysis and reports","disable_execute_api_endpoint":false,"execution_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1","fail_on_warnings":null,"id":"ou0ivives1","ip_address_type":"ipv4","name":"dr-daily-report-telegram-api-dev","protocol_type":"HTTP","route_key":null,"route_selection_expression":"$request.method $request.path","tags":{"App":"telegram-api","Component":"api-gateway","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"api-gateway","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"target":null,"version":""},"after_unknown":{},"before_sensitive":{"cors_configuration":[{"allow_headers":[false,false,false,false],"allow_methods":[false,false,false,false,false],"allow_origins":[false,false,false,false],"expose_headers":[false]}],"tags":{},"tags_all":{}},"after_sensitive":{"cors_configuration":[{"allow_headers":[false,false,false,false],"allow_methods":[false,false,false,false,false],"allow_origins":[false,false,false,false],"expose_headers":[false]}],"tags":{},"tags_all":{}}}},{"address":"aws_apigatewayv2_integration.telegram_lambda","mode":"managed","type":"aws_apigatewayv2_integration","name":"telegram_lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_id":"ou0ivives1","connection_id":"","connection_type":"INTERNET","content_handling_strategy":"","credentials_arn":"","description":"Lambda integration for Telegram Mini App API (via 'live' alias)","id":"goqnxp4","integration_method":"POST","integration_response_selection_expression":"","integration_subtype":"","integration_type":"AWS_PROXY","integration_uri":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live/invocations","passthrough_behavior":"","payload_format_version":"2.0","request_parameters":{},"request_templates":{},"response_parameters":[],"template_selection_expression":"","timeout_milliseconds":30000,"tls_config":[]},"after":{"api_id":"ou0ivives1","connection_id":"","connection_type":"INTERNET","content_handling_strategy":"","credentials_arn":"","description":"Lambda integration for Telegram Mini App API (via 'live' alias)","id":"goqnxp4","integration_method":"POST","integration_response_selection_expression":"","integration_subtype":"","integration_type":"AWS_PROXY","integration_uri":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live/invocations","passthrough_behavior":"","payload_format_version":"2.0","request_parameters":{},"request_templates":{},"response_parameters":[],"template_selection_expression":"","timeout_milliseconds":30000,"tls_config":[]},"after_unknown":{},"before_sensitive":{"request_parameters":{},"request_templates":{},"response_parameters":[],"tls_config":[]},"after_sensitive":{"request_parameters":{},"request_templates":{},"response_parameters":[],"tls_config":[]}}},{"address":"aws_apigatewayv2_route.health","mode":"managed","type":"aws_apigatewayv2_route","name":"health","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"jcmgqkg","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/health","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"jcmgqkg","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/health","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after_unknown":{},"before_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"after_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}}},{"address":"aws_apigatewayv2_route.rankings","mode":"managed","type":"aws_apigatewayv2_route","name":"rankings","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"dw2jatn","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/rankings","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"dw2jatn","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/rankings","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after_unknown":{},"before_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"after_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}}},{"address":"aws_apigatewayv2_route.report","mode":"managed","type":"aws_apigatewayv2_route","name":"report","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"c8o14m9","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/report/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"c8o14m9","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/report/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after_unknown":{},"before_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"after_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}}},{"address":"aws_apigatewayv2_route.report_async","mode":"managed","type":"aws_apigatewayv2_route","name":"report_async","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"l6xfusf","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"POST /api/v1/report/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"l6xfusf","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"POST /api/v1/report/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after_unknown":{},"before_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"after_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}}},{"address":"aws_apigatewayv2_route.report_status","mode":"managed","type":"aws_apigatewayv2_route","name":"report_status","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"nqdpehp","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/report/status/{job_id}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"nqdpehp","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/report/status/{job_id}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after_unknown":{},"before_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"after_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}}},{"address":"aws_apigatewayv2_route.search","mode":"managed","type":"aws_apigatewayv2_route","name":"search","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"0oxllai","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/search","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"0oxllai","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/search","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after_unknown":{},"before_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"after_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}}},{"address":"aws_apigatewayv2_route.telegram_default","mode":"managed","type":"aws_apigatewayv2_route","name":"telegram_default","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"yt2o0k0","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"$default","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"yt2o0k0","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"$default","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after_unknown":{},"before_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"after_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}}},{"address":"aws_apigatewayv2_route.watchlist_delete","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_delete","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"4mtprf1","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"DELETE /api/v1/watchlist/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"4mtprf1","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"DELETE /api/v1/watchlist/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after_unknown":{},"before_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"after_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}}},{"address":"aws_apigatewayv2_route.watchlist_get","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_get","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"nrnb18l","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/watchlist","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"nrnb18l","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/watchlist","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after_unknown":{},"before_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"after_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}}},{"address":"aws_apigatewayv2_route.watchlist_post","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_post","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"9re469s","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"POST /api/v1/watchlist","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"9re469s","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"POST /api/v1/watchlist","route_response_selection_expression":"","target":"integrations/goqnxp4"},"after_unknown":{},"before_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"after_sensitive":{"authorization_scopes":[],"request_models":{},"request_parameter":[]}}},{"address":"aws_apigatewayv2_stage.telegram_default","mode":"managed","type":"aws_apigatewayv2_stage","name":"telegram_default","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"access_log_settings":[],"api_id":"ou0ivives1","arn":"arn:aws:apigateway:ap-southeast-1::/apis/ou0ivives1/stages/$default","auto_deploy":true,"client_certificate_id":"","default_route_settings":[{"data_trace_enabled":false,"detailed_metrics_enabled":true,"logging_level":"","throttling_burst_limit":100,"throttling_rate_limit":50}],"deployment_id":"vstlc5","description":"","execution_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1/$default","id":"$default","invoke_url":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com/","name":"$default","route_settings":[],"stage_variables":{},"tags":{"App":"telegram-api","Component":"api-gateway-stage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-stage-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"api-gateway-stage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-stage-dev","Owner":"data-team","Project":"dr-daily-report"}},"after":{"access_log_settings":[],"api_id":"ou0ivives1","arn":"arn:aws:apigateway:ap-southeast-1::/apis/ou0ivives1/stages/$default","auto_deploy":true,"client_certificate_id":"","default_route_settings":[{"data_trace_enabled":false,"detailed_metrics_enabled":true,"logging_level":"","throttling_burst_limit":100,"throttling_rate_limit":50}],"deployment_id":"vstlc5","description":"","execution_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1/$default","id":"$default","invoke_url":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com/","name":"$default","route_settings":[],"stage_variables":{},"tags":{"App":"telegram-api","Component":"api-gateway-stage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-stage-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"api-gateway-stage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-stage-dev","Owner":"data-team","Project":"dr-daily-report"}},"after_unknown":{},"before_sensitive":{"access_log_settings":[],"default_route_settings":[{}],"route_settings":[],"stage_variables":{},"tags":{},"tags_all":{}},"after_sensitive":{"access_log_settings":[],"default_route_settings":[{}],"route_settings":[],"stage_variables":{},"tags":{},"tags_all":{}}}},{"address":"aws_cloudfront_distribution.webapp","mode":"managed","type":"aws_cloudfront_distribution","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"aliases":[],"arn":"arn:aws:cloudfront::755283537543:distribution/E2E287IAR2D3IG","caller_reference":"terraform-20251127164303156000000002","comment":"Telegram Mini App - dev","continuous_deployment_policy_id":"","custom_error_response":[{"error_caching_min_ttl":0,"error_code":403,"response_code":200,"response_page_path":"/index.html"},{"error_caching_min_ttl":0,"error_code":404,"response_code":200,"response_page_path":"/index.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":3600,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":86400,"min_ttl":0,"origin_request_policy_id":"","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"default_root_object":"index.html","domain_name":"demjoigiw6myp.cloudfront.net","enabled":true,"etag":"E1Z3GXR3SKI4SZ","hosted_zone_id":"Z2FDTNDATAQYW2","http_version":"http2","id":"E2E287IAR2D3IG","in_progress_validation_batches":0,"is_ipv6_enabled":true,"last_modified_time":"2025-11-27 16:43:03.394 +0000 UTC","logging_config":[],"ordered_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":300,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":3600,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.html","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.js","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.css","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","origin_access_control_id":"","origin_id":"S3-webapp","origin_path":"","origin_shield":[],"s3_origin_config":[{"origin_access_identity":"origin-access-identity/cloudfront/E3TW52UDU2O6GX"}],"vpc_origin_config":[]}],"origin_group":[],"price_class":"PriceClass_200","restrictions":[{"geo_restriction":[{"locations":[],"restriction_type":"none"}]}],"retain_on_delete":false,"staging":false,"status":"Deployed","tags":{"App":"telegram-api","Component":"frontend-cdn","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"frontend-cdn","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report"},"trusted_key_groups":[{"enabled":false,"items":[]}],"trusted_signers":[{"enabled":false,"items":[]}],"viewer_certificate":[{"acm_certificate_arn":"","cloudfront_default_certificate":true,"iam_certificate_id":"","minimum_protocol_version":"TLSv1","ssl_support_method":""}],"wait_for_deployment":true,"web_acl_id":""},"after":{"aliases":[],"arn":"arn:aws:cloudfront::755283537543:distribution/E2E287IAR2D3IG","caller_reference":"terraform-20251127164303156000000002","comment":"Telegram Mini App - dev","continuous_deployment_policy_id":"","custom_error_response":[{"error_caching_min_ttl":0,"error_code":403,"response_code":200,"response_page_path":"/index.html"},{"error_caching_min_ttl":0,"error_code":404,"response_code":200,"response_page_path":"/index.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":3600,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":86400,"min_ttl":0,"origin_request_policy_id":"","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"default_root_object":"index.html","domain_name":"demjoigiw6myp.cloudfront.net","enabled":true,"etag":"E1Z3GXR3SKI4SZ","hosted_zone_id":"Z2FDTNDATAQYW2","http_version":"http2","id":"E2E287IAR2D3IG","in_progress_validation_batches":0,"is_ipv6_enabled":true,"last_modified_time":"2025-11-27 16:43:03.394 +0000 UTC","logging_config":[],"ordered_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":300,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":3600,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.html","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.js","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.css","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","origin_access_control_id":"","origin_id":"S3-webapp","origin_path":"","origin_shield":[],"s3_origin_config":[{"origin_access_identity":"origin-access-identity/cloudfront/E3TW52UDU2O6GX"}],"vpc_origin_config":[]}],"origin_group":[],"price_class":"PriceClass_200","restrictions":[{"geo_restriction":[{"locations":[],"restriction_type":"none"}]}],"retain_on_delete":false,"staging":false,"status":"Deployed","tags":{"App":"telegram-api","Component":"frontend-cdn","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"frontend-cdn","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report"},"trusted_key_groups":[{"enabled":false,"items":[]}],"trusted_signers":[{"enabled":false,"items":[]}],"viewer_certificate":[{"acm_certificate_arn":"","cloudfront_default_certificate":true,"iam_certificate_id":"","minimum_protocol_version":"TLSv1","ssl_support_method":""}],"wait_for_deployment":true,"web_acl_id":""},"after_unknown":{},"before_sensitive":{"aliases":[],"custom_error_response":[{},{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"logging_config":[],"ordered_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"origin":[{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[{}],"vpc_origin_config":[]}],"origin_group":[],"restrictions":[{"geo_restriction":[{"locations":[]}]}],"tags":{},"tags_all":{},"trusted_key_groups":[{"items":[]}],"trusted_signers":[{"items":[]}],"viewer_certificate":[{}]},"after_sensitive":{"aliases":[],"custom_error_response":[{},{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"logging_config":[],"ordered_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"origin":[{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[{}],"vpc_origin_config":[]}],"origin_group":[],"restrictions":[{"geo_restriction":[{"locations":[]}]}],"tags":{},"tags_all":{},"trusted_key_groups":[{"items":[]}],"trusted_signers":[{"items":[]}],"viewer_certificate":[{}]}}},{"address":"aws_cloudfront_distribution.webapp_test","mode":"managed","type":"aws_cloudfront_distribution","name":"webapp_test","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"aliases":[],"arn":"arn:aws:cloudfront::755283537543:distribution/E3D4ZF0OMC5OI1","caller_reference":"terraform-20251130165524021200000001","comment":"Telegram Mini App TEST - dev (E2E testing)","continuous_deployment_policy_id":"","custom_error_response":[{"error_caching_min_ttl":0,"error_code":403,"response_code":200,"response_page_path":"/index.html"},{"error_caching_min_ttl":0,"error_code":404,"response_code":200,"response_page_path":"/index.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":3600,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":86400,"min_ttl":0,"origin_request_policy_id":"","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"default_root_object":"index.html","domain_name":"d24cidhj2eghux.cloudfront.net","enabled":true,"etag":"E2HXBFICS8BU85","hosted_zone_id":"Z2FDTNDATAQYW2","http_version":"http2","id":"E3D4ZF0OMC5OI1","in_progress_validation_batches":0,"is_ipv6_enabled":true,"last_modified_time":"2025-11-30 16:55:25.024 +0000 UTC","logging_config":[],"ordered_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":300,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":3600,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.html","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.js","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.css","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","origin_access_control_id":"","origin_id":"S3-webapp-test","origin_path":"","origin_shield":[],"s3_origin_config":[{"origin_access_identity":"origin-access-identity/cloudfront/E3TW52UDU2O6GX"}],"vpc_origin_config":[]}],"origin_group":[],"price_class":"PriceClass_200","restrictions":[{"geo_restriction":[{"locations":[],"restriction_type":"none"}]}],"retain_on_delete":false,"staging":false,"status":"Deployed","tags":{"App":"telegram-api","Component":"frontend-cdn-test","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-test-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report","Purpose":"e2e-testing"},"tags_all":{"App":"telegram-api","Component":"frontend-cdn-test","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-test-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report","Purpose":"e2e-testing"},"trusted_key_groups":[{"enabled":false,"items":[]}],"trusted_signers":[{"enabled":false,"items":[]}],"viewer_certificate":[{"acm_certificate_arn":"","cloudfront_default_certificate":true,"iam_certificate_id":"","minimum_protocol_version":"TLSv1","ssl_support_method":""}],"wait_for_deployment":true,"web_acl_id":""},"after":{"aliases":[],"arn":"arn:aws:cloudfront::755283537543:distribution/E3D4ZF0OMC5OI1","caller_reference":"terraform-20251130165524021200000001","comment":"Telegram Mini App TEST - dev (E2E testing)","continuous_deployment_policy_id":"","custom_error_response":[{"error_caching_min_ttl":0,"error_code":403,"response_code":200,"response_page_path":"/index.html"},{"error_caching_min_ttl":0,"error_code":404,"response_code":200,"response_page_path":"/index.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":3600,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":86400,"min_ttl":0,"origin_request_policy_id":"","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"default_root_object":"index.html","domain_name":"d24cidhj2eghux.cloudfront.net","enabled":true,"etag":"E2HXBFICS8BU85","hosted_zone_id":"Z2FDTNDATAQYW2","http_version":"http2","id":"E3D4ZF0OMC5OI1","in_progress_validation_batches":0,"is_ipv6_enabled":true,"last_modified_time":"2025-11-30 16:55:25.024 +0000 UTC","logging_config":[],"ordered_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":300,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":3600,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.html","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.js","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.css","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","origin_access_control_id":"","origin_id":"S3-webapp-test","origin_path":"","origin_shield":[],"s3_origin_config":[{"origin_access_identity":"origin-access-identity/cloudfront/E3TW52UDU2O6GX"}],"vpc_origin_config":[]}],"origin_group":[],"price_class":"PriceClass_200","restrictions":[{"geo_restriction":[{"locations":[],"restriction_type":"none"}]}],"retain_on_delete":false,"staging":false,"status":"Deployed","tags":{"App":"telegram-api","Component":"frontend-cdn-test","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-test-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report","Purpose":"e2e-testing"},"tags_all":{"App":"telegram-api","Component":"frontend-cdn-test","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-test-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report","Purpose":"e2e-testing"},"trusted_key_groups":[{"enabled":false,"items":[]}],"trusted_signers":[{"enabled":false,"items":[]}],"viewer_certificate":[{"acm_certificate_arn":"","cloudfront_default_certificate":true,"iam_certificate_id":"","minimum_protocol_version":"TLSv1","ssl_support_method":""}],"wait_for_deployment":true,"web_acl_id":""},"after_unknown":{},"before_sensitive":{"aliases":[],"custom_error_response":[{},{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"logging_config":[],"ordered_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"origin":[{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[{}],"vpc_origin_config":[]}],"origin_group":[],"restrictions":[{"geo_restriction":[{"locations":[]}]}],"tags":{},"tags_all":{},"trusted_key_groups":[{"items":[]}],"trusted_signers":[{"items":[]}],"viewer_certificate":[{}]},"after_sensitive":{"aliases":[],"custom_error_response":[{},{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"logging_config":[],"ordered_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"origin":[{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[{}],"vpc_origin_config":[]}],"origin_group":[],"restrictions":[{"geo_restriction":[{"locations":[]}]}],"tags":{},"tags_all":{},"trusted_key_groups":[{"items":[]}],"trusted_signers":[{"items":[]}],"viewer_certificate":[{}]}}},{"address":"aws_cloudfront_origin_access_identity.webapp","mode":"managed","type":"aws_cloudfront_origin_access_identity","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:cloudfront::755283537543:origin-access-identity/E3TW52UDU2O6GX","caller_reference":"terraform-20251127164301314600000001","cloudfront_access_identity_path":"origin-access-identity/cloudfront/E3TW52UDU2O6GX","comment":"OAI for dr-daily-report Telegram WebApp","etag":"E3UN6WX5RRO2AG","iam_arn":"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX","id":"E3TW52UDU2O6GX","s3_canonical_user_id":"b3f24f0623370da2a9961116b57ce34f1a50226b5ddf7a30d4e9aeaf057d65675c648567d3b8ccf9e59435ff05e57bab"},"after":{"arn":"arn:aws:cloudfront::755283537543:origin-access-identity/E3TW52UDU2O6GX","caller_reference":"terraform-20251127164301314600000001","cloudfront_access_identity_path":"origin-access-identity/cloudfront/E3TW52UDU2O6GX","comment":"OAI for dr-daily-report Telegram WebApp","etag":"E3UN6WX5RRO2AG","iam_arn":"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX","id":"E3TW52UDU2O6GX","s3_canonical_user_id":"b3f24f0623370da2a9961116b57ce34f1a50226b5ddf7a30d4e9aeaf057d65675c648567d3b8ccf9e59435ff05e57bab"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_cloudwatch_event_rule.daily_ticker_fetch","mode":"managed","type":"aws_cloudwatch_event_rule","name":"daily_ticker_fetch","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:events:ap-southeast-1:755283537543:rule/dr-daily-report-daily-ticker-fetch-dev","description":"Fetch ticker data daily at 8 AM Bangkok time (UTC+7)","event_bus_name":"default","event_pattern":null,"force_destroy":false,"id":"dr-daily-report-daily-ticker-fetch-dev","is_enabled":true,"name":"dr-daily-report-daily-ticker-fetch-dev","name_prefix":"","role_arn":"","schedule_expression":"cron(0 1 * * ? *)","state":"ENABLED","tags":{"App":"telegram-api","Component":"scheduler-trigger","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-daily-ticker-fetch-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"tags_all":{"App":"telegram-api","Component":"scheduler-trigger","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-daily-ticker-fetch-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"}},"after":{"arn":"arn:aws:events:ap-southeast-1:755283537543:rule/dr-daily-report-daily-ticker-fetch-dev","description":"Fetch ticker data daily at 8 AM Bangkok time (UTC+7)","event_bus_name":"default","event_pattern":null,"force_destroy":false,"id":"dr-daily-report-daily-ticker-fetch-dev","is_enabled":true,"name":"dr-daily-report-daily-ticker-fetch-dev","name_prefix":"","role_arn":"","schedule_expression":"cron(0 1 * * ? *)","state":"ENABLED","tags":{"App":"telegram-api","Component":"scheduler-trigger","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-daily-ticker-fetch-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"tags_all":{"App":"telegram-api","Component":"scheduler-trigger","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-daily-ticker-fetch-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_cloudwatch_event_target.ticker_scheduler","mode":"managed","type":"aws_cloudwatch_event_target","name":"ticker_scheduler","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"appsync_target":[],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev","batch_target":[],"dead_letter_config":[],"ecs_target":[],"event_bus_name":"default","force_destroy":false,"http_target":[],"id":"dr-daily-report-daily-ticker-fetch-dev-ticker-scheduler-lambda","input":"{\"action\":\"precompute\",\"include_report\":true}","input_path":"","input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"role_arn":"","rule":"dr-daily-report-daily-ticker-fetch-dev","run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[],"target_id":"ticker-scheduler-lambda"},"after":{"appsync_target":[],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev","batch_target":[],"dead_letter_config":[],"ecs_target":[],"event_bus_name":"default","force_destroy":false,"http_target":[],"id":"dr-daily-report-daily-ticker-fetch-dev-ticker-scheduler-lambda","input":"{\"action\":\"precompute\",\"include_report\":true}","input_path":"","input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"role_arn":"","rule":"dr-daily-report-daily-ticker-fetch-dev","run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[],"target_id":"ticker-scheduler-lambda"},"after_unknown":{},"before_sensitive":{"appsync_target":[],"batch_target":[],"dead_letter_config":[],"ecs_target":[],"http_target":[],"input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[]},"after_sensitive":{"appsync_target":[],"batch_target":[],"dead_letter_config":[],"ecs_target":[],"http_target":[],"input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[]}}},{"address":"aws_cloudwatch_log_group.telegram_api_gateway_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"telegram_api_gateway_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/apigateway/dr-daily-report-telegram-api-dev","id":"/aws/apigateway/dr-daily-report-telegram-api-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/apigateway/dr-daily-report-telegram-api-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-gateway-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-gateway-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"after":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/apigateway/dr-daily-report-telegram-api-dev","id":"/aws/apigateway/dr-daily-report-telegram-api-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/apigateway/dr-daily-report-telegram-api-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-gateway-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-gateway-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_cloudwatch_log_group.telegram_api_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"telegram_api_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/lambda/dr-daily-report-telegram-api-dev","id":"/aws/lambda/dr-daily-report-telegram-api-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/lambda/dr-daily-report-telegram-api-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"after":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/lambda/dr-daily-report-telegram-api-dev","id":"/aws/lambda/dr-daily-report-telegram-api-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/lambda/dr-daily-report-telegram-api-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_cloudwatch_log_group.ticker_scheduler_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"ticker_scheduler_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/lambda/dr-daily-report-ticker-scheduler-dev","id":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"scheduler-logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"scheduler-logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"after":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/lambda/dr-daily-report-ticker-scheduler-dev","id":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"scheduler-logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"scheduler-logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_cloudwatch_metric_alarm.api_4xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_4xx_errors","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"API Gateway 4xx error rate is high (\u003e50 errors in 15 minutes)","alarm_name":"dr-daily-report-api-4xx-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-api-4xx-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"ApiId":"ou0ivives1"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":3,"extended_statistic":"","id":"dr-daily-report-api-4xx-dev","insufficient_data_actions":[],"metric_name":"4xx","metric_query":[],"namespace":"AWS/ApiGateway","ok_actions":[],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-4xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-4xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":50,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"API Gateway 4xx error rate is high (\u003e50 errors in 15 minutes)","alarm_name":"dr-daily-report-api-4xx-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-api-4xx-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"ApiId":"ou0ivives1"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":3,"extended_statistic":"","id":"dr-daily-report-api-4xx-dev","insufficient_data_actions":[],"metric_name":"4xx","metric_query":[],"namespace":"AWS/ApiGateway","ok_actions":[],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-4xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-4xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":50,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after_unknown":{},"before_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}},"after_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}}}},{"address":"aws_cloudwatch_metric_alarm.api_5xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_5xx_errors","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"API Gateway 5xx error rate is high (\u003e10 errors in 5 minutes)","alarm_name":"dr-daily-report-api-5xx-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-api-5xx-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"ApiId":"ou0ivives1"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-api-5xx-dev","insufficient_data_actions":[],"metric_name":"5xx","metric_query":[],"namespace":"AWS/ApiGateway","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-5xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-5xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":10,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"API Gateway 5xx error rate is high (\u003e10 errors in 5 minutes)","alarm_name":"dr-daily-report-api-5xx-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-api-5xx-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"ApiId":"ou0ivives1"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-api-5xx-dev","insufficient_data_actions":[],"metric_name":"5xx","metric_query":[],"namespace":"AWS/ApiGateway","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-5xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-5xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":10,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after_unknown":{},"before_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}},"after_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}}}},{"address":"aws_cloudwatch_metric_alarm.dlq_messages","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"dlq_messages","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Messages in DLQ - report jobs are failing","alarm_name":"dr-daily-report-dlq-messages-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-dlq-messages-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"QueueName":"dr-daily-report-report-jobs-dlq-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":1,"extended_statistic":"","id":"dr-daily-report-dlq-messages-dev","insufficient_data_actions":[],"metric_name":"ApproximateNumberOfMessagesVisible","metric_query":[],"namespace":"AWS/SQS","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dlq-messages-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dlq-messages-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":1,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Messages in DLQ - report jobs are failing","alarm_name":"dr-daily-report-dlq-messages-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-dlq-messages-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"QueueName":"dr-daily-report-report-jobs-dlq-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":1,"extended_statistic":"","id":"dr-daily-report-dlq-messages-dev","insufficient_data_actions":[],"metric_name":"ApproximateNumberOfMessagesVisible","metric_query":[],"namespace":"AWS/SQS","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dlq-messages-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dlq-messages-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":1,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after_unknown":{},"before_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}},"after_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}}}},{"address":"aws_cloudwatch_metric_alarm.report_worker_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"report_worker_errors","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Report Worker Lambda error rate is high (\u003e3 errors in 5 minutes)","alarm_name":"dr-daily-report-report-worker-errors-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-report-worker-errors-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-report-worker-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-report-worker-errors-dev","insufficient_data_actions":[],"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":3,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Report Worker Lambda error rate is high (\u003e3 errors in 5 minutes)","alarm_name":"dr-daily-report-report-worker-errors-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-report-worker-errors-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-report-worker-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-report-worker-errors-dev","insufficient_data_actions":[],"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":3,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after_unknown":{},"before_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}},"after_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}}}},{"address":"aws_cloudwatch_metric_alarm.telegram_api_duration","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"telegram_api_duration","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Telegram API Lambda average duration is approaching timeout","alarm_name":"dr-daily-report-telegram-api-duration-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-telegram-api-duration-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-telegram-api-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-telegram-api-duration-dev","insufficient_data_actions":[],"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Average","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-duration-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-duration-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":45000,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Telegram API Lambda average duration is approaching timeout","alarm_name":"dr-daily-report-telegram-api-duration-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-telegram-api-duration-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-telegram-api-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-telegram-api-duration-dev","insufficient_data_actions":[],"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Average","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-duration-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-duration-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":45000,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after_unknown":{},"before_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}},"after_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}}}},{"address":"aws_cloudwatch_metric_alarm.telegram_api_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"telegram_api_errors","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Telegram API Lambda error rate is high (\u003e5 errors in 5 minutes)","alarm_name":"dr-daily-report-telegram-api-errors-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-telegram-api-errors-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-telegram-api-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-telegram-api-errors-dev","insufficient_data_actions":[],"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":5,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Telegram API Lambda error rate is high (\u003e5 errors in 5 minutes)","alarm_name":"dr-daily-report-telegram-api-errors-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-telegram-api-errors-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-telegram-api-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-telegram-api-errors-dev","insufficient_data_actions":[],"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":5,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"after_unknown":{},"before_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}},"after_sensitive":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}}}},{"address":"aws_db_subnet_group.aurora[0]","mode":"managed","type":"aws_db_subnet_group","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:rds:ap-southeast-1:755283537543:subgrp:dr-daily-report-aurora-dev","description":"Subnet group for Aurora cluster","id":"dr-daily-report-aurora-dev","name":"dr-daily-report-aurora-dev","name_prefix":"","subnet_ids":["subnet-012d60cbb95430cd6","subnet-030760a3f13e4eacc","subnet-0bfaf6ef0e1a456a6","subnet-0da9ef11b7da7ce3a","subnet-0e3861e4ea942da39","subnet-0ef493a1aae3b4af4"],"supported_network_types":["IPV4"],"tags":{"App":"shared","Component":"aurora-subnet-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-subnet-group","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-subnet-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-subnet-group","Owner":"data-team","Project":"dr-daily-report"},"vpc_id":"vpc-0fb04b10ef8c3d18b"},"after":{"arn":"arn:aws:rds:ap-southeast-1:755283537543:subgrp:dr-daily-report-aurora-dev","description":"Subnet group for Aurora cluster","id":"dr-daily-report-aurora-dev","name":"dr-daily-report-aurora-dev","name_prefix":"","subnet_ids":["subnet-012d60cbb95430cd6","subnet-030760a3f13e4eacc","subnet-0bfaf6ef0e1a456a6","subnet-0da9ef11b7da7ce3a","subnet-0e3861e4ea942da39","subnet-0ef493a1aae3b4af4"],"supported_network_types":["IPV4"],"tags":{"App":"shared","Component":"aurora-subnet-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-subnet-group","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-subnet-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-subnet-group","Owner":"data-team","Project":"dr-daily-report"},"vpc_id":"vpc-0fb04b10ef8c3d18b"},"after_unknown":{},"before_sensitive":{"subnet_ids":[false,false,false,false,false,false],"supported_network_types":[false],"tags":{},"tags_all":{}},"after_sensitive":{"subnet_ids":[false,false,false,false,false,false],"supported_network_types":[false],"tags":{},"tags_all":{}}}},{"address":"aws_dynamodb_table.report_jobs","mode":"managed","type":"aws_dynamodb_table","name":"report_jobs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev","attribute":[{"name":"job_id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"job_id","id":"dr-daily-report-telegram-jobs-dev","import_table":[],"local_secondary_index":[],"name":"dr-daily-report-telegram-jobs-dev","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":null,"read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"App":"telegram-api","Component":"job-storage","CostCenter":"engineering","DataType":"async-jobs","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"job-storage","CostCenter":"engineering","DataType":"async-jobs","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"ttl":[{"attribute_name":"ttl","enabled":true}],"write_capacity":0},"after":{"arn":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev","attribute":[{"name":"job_id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"job_id","id":"dr-daily-report-telegram-jobs-dev","import_table":[],"local_secondary_index":[],"name":"dr-daily-report-telegram-jobs-dev","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":null,"read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"App":"telegram-api","Component":"job-storage","CostCenter":"engineering","DataType":"async-jobs","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"job-storage","CostCenter":"engineering","DataType":"async-jobs","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"ttl":[{"attribute_name":"ttl","enabled":true}],"write_capacity":0},"after_unknown":{},"before_sensitive":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]},"after_sensitive":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]}}},{"address":"aws_dynamodb_table.telegram_watchlist","mode":"managed","type":"aws_dynamodb_table","name":"telegram_watchlist","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev","attribute":[{"name":"ticker","type":"S"},{"name":"user_id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"user_id","id":"dr-daily-report-telegram-watchlist-dev","import_table":[],"local_secondary_index":[],"name":"dr-daily-report-telegram-watchlist-dev","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":"ticker","read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"App":"telegram-api","Component":"watchlist-storage","CostCenter":"engineering","DataType":"user-preferences","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-watchlist-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"watchlist-storage","CostCenter":"engineering","DataType":"user-preferences","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-watchlist-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"ttl":[{"attribute_name":"ttl","enabled":true}],"write_capacity":0},"after":{"arn":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev","attribute":[{"name":"ticker","type":"S"},{"name":"user_id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"user_id","id":"dr-daily-report-telegram-watchlist-dev","import_table":[],"local_secondary_index":[],"name":"dr-daily-report-telegram-watchlist-dev","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":"ticker","read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"App":"telegram-api","Component":"watchlist-storage","CostCenter":"engineering","DataType":"user-preferences","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-watchlist-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"watchlist-storage","CostCenter":"engineering","DataType":"user-preferences","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-watchlist-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"ttl":[{"attribute_name":"ttl","enabled":true}],"write_capacity":0},"after_unknown":{},"before_sensitive":{"attribute":[{},{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]},"after_sensitive":{"attribute":[{},{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]}}},{"address":"aws_ecr_lifecycle_policy.lambda","mode":"managed","type":"aws_ecr_lifecycle_policy","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-lambda-dev","policy":"{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 20 versioned images for rollback\",\"rulePriority\":1,\"selection\":{\"countNumber\":20,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\",\"sha-\"],\"tagStatus\":\"tagged\"}},{\"action\":{\"type\":\"expire\"},\"description\":\"Expire untagged images after 1 day\",\"rulePriority\":2,\"selection\":{\"countNumber\":1,\"countType\":\"sinceImagePushed\",\"countUnit\":\"days\",\"tagStatus\":\"untagged\"}}]}","registry_id":"755283537543","repository":"dr-daily-report-lambda-dev"},"after":{"id":"dr-daily-report-lambda-dev","policy":"{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 20 versioned images for rollback\",\"rulePriority\":1,\"selection\":{\"countNumber\":20,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\",\"sha-\"],\"tagStatus\":\"tagged\"}},{\"action\":{\"type\":\"expire\"},\"description\":\"Expire untagged images after 1 day\",\"rulePriority\":2,\"selection\":{\"countNumber\":1,\"countType\":\"sinceImagePushed\",\"countUnit\":\"days\",\"tagStatus\":\"untagged\"}}]}","registry_id":"755283537543","repository":"dr-daily-report-lambda-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_ecr_repository.lambda","mode":"managed","type":"aws_ecr_repository","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ecr:ap-southeast-1:755283537543:repository/dr-daily-report-lambda-dev","encryption_configuration":[{"encryption_type":"AES256","kms_key":""}],"force_delete":null,"id":"dr-daily-report-lambda-dev","image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"IMMUTABLE","name":"dr-daily-report-lambda-dev","registry_id":"755283537543","repository_url":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev","tags":{"Component":"container-registry","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"Component":"container-registry","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null},"after":{"arn":"arn:aws:ecr:ap-southeast-1:755283537543:repository/dr-daily-report-lambda-dev","encryption_configuration":[{"encryption_type":"AES256","kms_key":""}],"force_delete":null,"id":"dr-daily-report-lambda-dev","image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"IMMUTABLE","name":"dr-daily-report-lambda-dev","registry_id":"755283537543","repository_url":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev","tags":{"Component":"container-registry","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"Component":"container-registry","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null},"after_unknown":{},"before_sensitive":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags":{},"tags_all":{}}}},{"address":"aws_ecr_repository_policy.lambda","mode":"managed","type":"aws_ecr_repository_policy","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-lambda-dev","policy":"{\"Statement\":[{\"Action\":[\"ecr:BatchGetImage\",\"ecr:GetDownloadUrlForLayer\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"LambdaECRImageRetrievalPolicy\"}],\"Version\":\"2012-10-17\"}","registry_id":"755283537543","repository":"dr-daily-report-lambda-dev"},"after":{"id":"dr-daily-report-lambda-dev","policy":"{\"Statement\":[{\"Action\":[\"ecr:BatchGetImage\",\"ecr:GetDownloadUrlForLayer\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"LambdaECRImageRetrievalPolicy\"}],\"Version\":\"2012-10-17\"}","registry_id":"755283537543","repository":"dr-daily-report-lambda-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_policy.dynamodb_access","mode":"managed","type":"aws_iam_policy","name":"dynamodb_access","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","attachment_count":2,"description":"Allow Lambda to access DynamoDB tables for Telegram Mini App","id":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","name":"dr-daily-report-dynamodb-access-dev","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\",\"dynamodb:DeleteItem\",\"dynamodb:Query\",\"dynamodb:Scan\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev\"]}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA27WTIF2D7ZYGM7XCJ","tags":{"App":"telegram-api","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dynamodb-access-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dynamodb-access-dev","Owner":"data-team","Project":"dr-daily-report"}},"after":{"arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","attachment_count":2,"description":"Allow Lambda to access DynamoDB tables for Telegram Mini App","id":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","name":"dr-daily-report-dynamodb-access-dev","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\",\"dynamodb:DeleteItem\",\"dynamodb:Query\",\"dynamodb:Scan\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev\"]}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA27WTIF2D7ZYGM7XCJ","tags":{"App":"telegram-api","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dynamodb-access-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dynamodb-access-dev","Owner":"data-team","Project":"dr-daily-report"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_iam_policy.lambda_aurora_access[0]","mode":"managed","type":"aws_iam_policy","name":"lambda_aurora_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","attachment_count":2,"description":"Allow Lambda to access Aurora cluster","id":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","name":"dr-daily-report-lambda-aurora-access-dev","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"rds:DescribeDBClusters\",\"rds:DescribeDBInstances\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:rds:ap-southeast-1:755283537543:cluster:dr-daily-report-aurora-dev\"},{\"Action\":[\"ec2:CreateNetworkInterface\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DeleteNetworkInterface\",\"ec2:AssignPrivateIpAddresses\",\"ec2:UnassignPrivateIpAddresses\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA27WTIF2D27LU7R5RW","tags":{"App":"shared","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-policy","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-policy","Owner":"data-team","Project":"dr-daily-report"}},"after":{"arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","attachment_count":2,"description":"Allow Lambda to access Aurora cluster","id":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","name":"dr-daily-report-lambda-aurora-access-dev","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"rds:DescribeDBClusters\",\"rds:DescribeDBInstances\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:rds:ap-southeast-1:755283537543:cluster:dr-daily-report-aurora-dev\"},{\"Action\":[\"ec2:CreateNetworkInterface\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DeleteNetworkInterface\",\"ec2:AssignPrivateIpAddresses\",\"ec2:UnassignPrivateIpAddresses\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA27WTIF2D27LU7R5RW","tags":{"App":"shared","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-policy","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-policy","Owner":"data-team","Project":"dr-daily-report"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_iam_role.lambda_role","mode":"managed","type":"aws_iam_role","name":"lambda_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::755283537543:role/line-bot-ticker-report-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-09T11:18:50Z","description":"","force_detach_policies":false,"id":"line-bot-ticker-report-role","inline_policy":[{"name":"line-bot-ticker-report-custom-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-ticker-deploy-20251030/python-libs/*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-staging","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"],"max_session_duration":3600,"name":"line-bot-ticker-report-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"line-bot","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-ticker-report-role","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"line-bot","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-ticker-report-role","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DZASRHSVNV"},"after":{"arn":"arn:aws:iam::755283537543:role/line-bot-ticker-report-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-09T11:18:50Z","description":"","force_detach_policies":false,"id":"line-bot-ticker-report-role","inline_policy":[{"name":"line-bot-ticker-report-custom-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-ticker-deploy-20251030/python-libs/*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-staging","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"],"max_session_duration":3600,"name":"line-bot-ticker-report-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"line-bot","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-ticker-report-role","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"line-bot","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-ticker-report-role","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DZASRHSVNV"},"after_unknown":{},"before_sensitive":{"inline_policy":[{}],"managed_policy_arns":[false,false,false,false],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[{}],"managed_policy_arns":[false,false,false,false],"tags":{},"tags_all":{}}}},{"address":"aws_iam_role.report_worker_role","mode":"managed","type":"aws_iam_role","name":"report_worker_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::755283537543:role/dr-daily-report-report-worker-role-dev","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-30T23:41:16Z","description":"","force_detach_policies":false,"id":"dr-daily-report-report-worker-role-dev","inline_policy":[{"name":"dr-daily-report-report-worker-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"],"max_session_duration":3600,"name":"dr-daily-report-report-worker-role-dev","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-role-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-role-dev","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DQFNXZHPU3"},"after":{"arn":"arn:aws:iam::755283537543:role/dr-daily-report-report-worker-role-dev","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-30T23:41:16Z","description":"","force_detach_policies":false,"id":"dr-daily-report-report-worker-role-dev","inline_policy":[{"name":"dr-daily-report-report-worker-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"],"max_session_duration":3600,"name":"dr-daily-report-report-worker-role-dev","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-role-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-role-dev","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DQFNXZHPU3"},"after_unknown":{},"before_sensitive":{"inline_policy":[{}],"managed_policy_arns":[false,false,false],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[{}],"managed_policy_arns":[false,false,false],"tags":{},"tags_all":{}}}},{"address":"aws_iam_role.telegram_lambda_role","mode":"managed","type":"aws_iam_role","name":"telegram_lambda_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-30T23:41:16Z","description":"","force_detach_policies":false,"id":"dr-daily-report-telegram-api-role-dev","inline_policy":[{"name":"dr-daily-report-scheduler-secrets-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT\"}]}"},{"name":"dr-daily-report-telegram-api-async-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\",\"sqs:GetQueueUrl\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"}]}"},{"name":"dr-daily-report-telegram-api-custom-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"max_session_duration":3600,"name":"dr-daily-report-telegram-api-role-dev","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-role-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-role-dev","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DS7W4AE6FV"},"after":{"arn":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-30T23:41:16Z","description":"","force_detach_policies":false,"id":"dr-daily-report-telegram-api-role-dev","inline_policy":[{"name":"dr-daily-report-scheduler-secrets-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT\"}]}"},{"name":"dr-daily-report-telegram-api-async-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\",\"sqs:GetQueueUrl\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"}]}"},{"name":"dr-daily-report-telegram-api-custom-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"max_session_duration":3600,"name":"dr-daily-report-telegram-api-role-dev","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-role-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-role-dev","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DS7W4AE6FV"},"after_unknown":{},"before_sensitive":{"inline_policy":[{},{},{}],"managed_policy_arns":[false,false,false],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[{},{},{}],"managed_policy_arns":[false,false,false],"tags":{},"tags_all":{}}}},{"address":"aws_iam_role_policy.lambda_custom","mode":"managed","type":"aws_iam_role_policy","name":"lambda_custom","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"line-bot-ticker-report-role:line-bot-ticker-report-custom-policy","name":"line-bot-ticker-report-custom-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-ticker-deploy-20251030/python-libs/*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"line-bot-ticker-report-role"},"after":{"id":"line-bot-ticker-report-role:line-bot-ticker-report-custom-policy","name":"line-bot-ticker-report-custom-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-ticker-deploy-20251030/python-libs/*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"line-bot-ticker-report-role"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy.report_worker_policy","mode":"managed","type":"aws_iam_role_policy","name":"report_worker_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-report-worker-role-dev:dr-daily-report-report-worker-policy-dev","name":"dr-daily-report-report-worker-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"}]}","role":"dr-daily-report-report-worker-role-dev"},"after":{"id":"dr-daily-report-report-worker-role-dev:dr-daily-report-report-worker-policy-dev","name":"dr-daily-report-report-worker-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"}]}","role":"dr-daily-report-report-worker-role-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy.scheduler_secrets_access[0]","mode":"managed","type":"aws_iam_role_policy","name":"scheduler_secrets_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-scheduler-secrets-dev","name":"dr-daily-report-scheduler-secrets-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"after":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-scheduler-secrets-dev","name":"dr-daily-report-scheduler-secrets-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy.telegram_api_async_policy","mode":"managed","type":"aws_iam_role_policy","name":"telegram_api_async_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-telegram-api-async-policy-dev","name":"dr-daily-report-telegram-api-async-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\",\"sqs:GetQueueUrl\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"after":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-telegram-api-async-policy-dev","name":"dr-daily-report-telegram-api-async-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\",\"sqs:GetQueueUrl\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy.telegram_lambda_custom","mode":"managed","type":"aws_iam_role_policy","name":"telegram_lambda_custom","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-telegram-api-custom-policy-dev","name":"dr-daily-report-telegram-api-custom-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"after":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-telegram-api-custom-policy-dev","name":"dr-daily-report-telegram-api-custom-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.lambda_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_basic","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"line-bot-ticker-report-role-20251124172528934200000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"line-bot-ticker-report-role"},"after":{"id":"line-bot-ticker-report-role-20251124172528934200000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"line-bot-ticker-report-role"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.lambda_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"line-bot-ticker-report-role-20251201093319494900000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","role":"line-bot-ticker-report-role"},"after":{"id":"line-bot-ticker-report-role-20251201093319494900000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","role":"line-bot-ticker-report-role"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.report_worker_aurora_access[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_aurora_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-report-worker-role-dev-20251202035458961100000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","role":"dr-daily-report-report-worker-role-dev"},"after":{"id":"dr-daily-report-report-worker-role-dev-20251202035458961100000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","role":"dr-daily-report-report-worker-role-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.report_worker_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_basic","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-report-worker-role-dev-20251201092614130100000001","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"dr-daily-report-report-worker-role-dev"},"after":{"id":"dr-daily-report-report-worker-role-dev-20251201092614130100000001","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"dr-daily-report-report-worker-role-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.report_worker_vpc[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_vpc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-report-worker-role-dev-20251202035458990000000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"dr-daily-report-report-worker-role-dev"},"after":{"id":"dr-daily-report-report-worker-role-dev-20251202035458990000000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"dr-daily-report-report-worker-role-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.scheduler_aurora_access[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"scheduler_aurora_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-telegram-api-role-dev-20251201102155921900000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","role":"dr-daily-report-telegram-api-role-dev"},"after":{"id":"dr-daily-report-telegram-api-role-dev-20251201102155921900000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","role":"dr-daily-report-telegram-api-role-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.telegram_lambda_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"telegram_lambda_basic","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-telegram-api-role-dev-20251201092614155200000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"dr-daily-report-telegram-api-role-dev"},"after":{"id":"dr-daily-report-telegram-api-role-dev-20251201092614155200000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"dr-daily-report-telegram-api-role-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy_attachment.telegram_lambda_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"telegram_lambda_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"dr-daily-report-telegram-api-role-dev-20251201093319495100000002","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","role":"dr-daily-report-telegram-api-role-dev"},"after":{"id":"dr-daily-report-telegram-api-role-dev-20251201093319495100000002","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","role":"dr-daily-report-telegram-api-role-dev"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_lambda_alias.report_worker_live","mode":"managed","type":"aws_lambda_alias","name":"report_worker_live","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","description":"Production alias for report worker - update to rollback","function_name":"dr-daily-report-report-worker-dev","function_version":"23","id":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live/invocations","name":"live","routing_config":[]},"after":{"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","description":"Production alias for report worker - update to rollback","function_name":"dr-daily-report-report-worker-dev","function_version":"23","id":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live/invocations","name":"live","routing_config":[]},"after_unknown":{},"before_sensitive":{"routing_config":[]},"after_sensitive":{"routing_config":[]}}},{"address":"aws_lambda_alias.telegram_api_live","mode":"managed","type":"aws_lambda_alias","name":"telegram_api_live","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live","description":"Production traffic alias - update to rollback","function_name":"dr-daily-report-telegram-api-dev","function_version":"32","id":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live/invocations","name":"live","routing_config":[]},"after":{"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live","description":"Production traffic alias - update to rollback","function_name":"dr-daily-report-telegram-api-dev","function_version":"32","id":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live/invocations","name":"live","routing_config":[]},"after_unknown":{},"before_sensitive":{"routing_config":[]},"after_sensitive":{"routing_config":[]}}},{"address":"aws_lambda_event_source_mapping.report_jobs_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"report_jobs_trigger","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:event-source-mapping:455b7398-b7b4-4305-a243-a5b40ec0466a","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","filter_criteria":[],"function_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","function_name":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","function_response_types":[],"id":"455b7398-b7b4-4305-a243-a5b40ec0466a","kms_key_arn":"","last_modified":"2025-11-30T23:42:26Z","last_processing_result":"","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":0,"maximum_retry_attempts":0,"metrics_config":[],"parallelization_factor":0,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"USER_INITIATED","tags":{},"tags_all":{},"topics":[],"tumbling_window_in_seconds":0,"uuid":"455b7398-b7b4-4305-a243-a5b40ec0466a"},"after":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:event-source-mapping:455b7398-b7b4-4305-a243-a5b40ec0466a","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","filter_criteria":[],"function_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","function_name":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","function_response_types":[],"id":"455b7398-b7b4-4305-a243-a5b40ec0466a","kms_key_arn":"","last_modified":"2025-11-30T23:42:26Z","last_processing_result":"","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":0,"maximum_retry_attempts":0,"metrics_config":[],"parallelization_factor":0,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"USER_INITIATED","tags":{},"tags_all":{},"topics":[],"tumbling_window_in_seconds":0,"uuid":"455b7398-b7b4-4305-a243-a5b40ec0466a"},"after_unknown":{},"before_sensitive":{"amazon_managed_kafka_event_source_config":[],"destination_config":[],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]},"after_sensitive":{"amazon_managed_kafka_event_source_config":[],"destination_config":[],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]}}},{"address":"aws_lambda_function.line_bot","mode":"managed","type":"aws_lambda_function","name":"line_bot","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"CACHE_BACKEND":"hybrid","CACHE_TTL_HOURS":"24","LINE_CHANNEL_ACCESS_TOKEN":"cxxp26wwR/7Mi4/uIV/Uma9VioBm2IqDchSkZR9XbWRorvfz24Lj359QLFc8rSDoe0azQtH8fGXpVQcbTFNce+RUPBLtPtkFnoztFp5LXaXXSY2ozC+MHd98A1vG8XI6Jq5B1jvxx8lwPXIr86TgpQdB04t89/1O/w1cDnyilFU=","LINE_CHANNEL_SECRET":"7af68e03b93401de6eb46f81bd87b267","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543","PDF_URL_EXPIRATION_HOURS":"24"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"line-bot-ticker-report","handler":"","id":"line-bot-ticker-report","image_config":[{"command":["lambda_handler.lambda_handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/line-bot-ticker-report","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":false,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/line-bot-ticker-report-role","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"line-bot","Component":"webhook-handler","CostCenter":"engineering","Environment":"dev","Interface":"function-url","ManagedBy":"Terraform","Name":"line-bot-ticker-report","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"line-bot","Component":"webhook-handler","CostCenter":"engineering","Environment":"dev","Interface":"function-url","ManagedBy":"Terraform","Name":"line-bot-ticker-report","Owner":"data-team","Project":"dr-daily-report"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"CACHE_BACKEND":"hybrid","CACHE_TTL_HOURS":"24","LINE_CHANNEL_ACCESS_TOKEN":"cxxp26wwR/7Mi4/uIV/Uma9VioBm2IqDchSkZR9XbWRorvfz24Lj359QLFc8rSDoe0azQtH8fGXpVQcbTFNce+RUPBLtPtkFnoztFp5LXaXXSY2ozC+MHd98A1vG8XI6Jq5B1jvxx8lwPXIr86TgpQdB04t89/1O/w1cDnyilFU=","LINE_CHANNEL_SECRET":"7af68e03b93401de6eb46f81bd87b267","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543","PDF_URL_EXPIRATION_HOURS":"24"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"line-bot-ticker-report","handler":"","id":"line-bot-ticker-report","image_config":[{"command":["lambda_handler.lambda_handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/line-bot-ticker-report","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":false,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/line-bot-ticker-report-role","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"line-bot","Component":"webhook-handler","CostCenter":"engineering","Environment":"dev","Interface":"function-url","ManagedBy":"Terraform","Name":"line-bot-ticker-report","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"line-bot","Component":"webhook-handler","CostCenter":"engineering","Environment":"dev","Interface":"function-url","ManagedBy":"Terraform","Name":"line-bot-ticker-report","Owner":"data-team","Project":"dr-daily-report"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"after_unknown":{},"before_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"LINE_CHANNEL_ACCESS_TOKEN":true,"LINE_CHANNEL_SECRET":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"LINE_CHANNEL_ACCESS_TOKEN":true,"LINE_CHANNEL_SECRET":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}}},{"address":"aws_lambda_function.report_worker","mode":"managed","type":"aws_lambda_function","name":"report_worker","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"AURORA_DATABASE":"ticker_data","AURORA_HOST":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","AURORA_PASSWORD":"AuroraDevDb2025SecureX1","AURORA_PORT":"3306","AURORA_USER":"admin","JOBS_TABLE_NAME":"dr-daily-report-telegram-jobs-dev","LANGSMITH_API_KEY":"","LANGSMITH_TRACING_V2":"false","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-report-worker-dev","handler":"","id":"dr-daily-report-report-worker-dev","image_config":[{"command":["report_worker_handler.handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-report-worker-dev","system_log_level":""}],"memory_size":1024,"package_type":"Image","publish":true,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:25","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:25/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-report-worker-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"report-worker","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-dev","Owner":"data-team","Project":"dr-daily-report","Trigger":"sqs"},"tags_all":{"App":"telegram-api","Component":"report-worker","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-dev","Owner":"data-team","Project":"dr-daily-report","Trigger":"sqs"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"25","vpc_config":[{"ipv6_allowed_for_dual_stack":false,"security_group_ids":["sg-0185a0d8d92968d03"],"subnet_ids":["subnet-012d60cbb95430cd6","subnet-030760a3f13e4eacc","subnet-0bfaf6ef0e1a456a6","subnet-0da9ef11b7da7ce3a","subnet-0e3861e4ea942da39","subnet-0ef493a1aae3b4af4"],"vpc_id":"vpc-0fb04b10ef8c3d18b"}]},"after":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"AURORA_DATABASE":"ticker_data","AURORA_HOST":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","AURORA_PASSWORD":"AuroraDevDb2025SecureX1","AURORA_PORT":"3306","AURORA_USER":"admin","JOBS_TABLE_NAME":"dr-daily-report-telegram-jobs-dev","LANGSMITH_API_KEY":"","LANGSMITH_TRACING_V2":"false","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-report-worker-dev","handler":"","id":"dr-daily-report-report-worker-dev","image_config":[{"command":["report_worker_handler.handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-report-worker-dev","system_log_level":""}],"memory_size":1024,"package_type":"Image","publish":true,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-report-worker-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"report-worker","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-dev","Owner":"data-team","Project":"dr-daily-report","Trigger":"sqs"},"tags_all":{"App":"telegram-api","Component":"report-worker","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-dev","Owner":"data-team","Project":"dr-daily-report","Trigger":"sqs"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false,"security_group_ids":["sg-0185a0d8d92968d03"],"subnet_ids":["subnet-012d60cbb95430cd6","subnet-0bfaf6ef0e1a456a6","subnet-0ef493a1aae3b4af4"],"vpc_id":"vpc-0fb04b10ef8c3d18b"}]},"after_unknown":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"qualified_arn":true,"qualified_invoke_arn":true,"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"version":true,"vpc_config":[{"security_group_ids":[false],"subnet_ids":[false,false,false]}]},"before_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"AURORA_PASSWORD":true,"LANGSMITH_API_KEY":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[false],"subnet_ids":[false,false,false,false,false,false]}]},"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"AURORA_PASSWORD":true,"LANGSMITH_API_KEY":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[false],"subnet_ids":[false,false,false]}]}}},{"address":"aws_lambda_function.telegram_api","mode":"managed","type":"aws_lambda_function","name":"telegram_api","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"CACHE_BACKEND":"hybrid","CACHE_TTL_HOURS":"24","DYNAMODB_WATCHLIST_TABLE":"dr-daily-report-telegram-watchlist-dev","ENVIRONMENT":"dev","JOBS_TABLE_NAME":"dr-daily-report-telegram-jobs-dev","LANGSMITH_API_KEY":"","LANGSMITH_TRACING_V2":"false","LOG_LEVEL":"INFO","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543","PDF_URL_EXPIRATION_HOURS":"24","REPORT_JOBS_QUEUE_URL":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","TELEGRAM_APP_HASH":"","TELEGRAM_APP_ID":"","TELEGRAM_BOT_TOKEN":"","TELEGRAM_WEBAPP_URL":"https://demjoigiw6myp.cloudfront.net"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-telegram-api-dev","handler":"","id":"dr-daily-report-telegram-api-dev","image_config":[{"command":["telegram_lambda_handler.handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-telegram-api-dev","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":true,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:34","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:34/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"rest-api","CostCenter":"engineering","Environment":"dev","Interface":"api-gateway","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"rest-api","CostCenter":"engineering","Environment":"dev","Interface":"api-gateway","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"34","vpc_config":[]},"after":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"CACHE_BACKEND":"hybrid","CACHE_TTL_HOURS":"24","DYNAMODB_WATCHLIST_TABLE":"dr-daily-report-telegram-watchlist-dev","ENVIRONMENT":"dev","JOBS_TABLE_NAME":"dr-daily-report-telegram-jobs-dev","LANGSMITH_API_KEY":"","LANGSMITH_TRACING_V2":"false","LOG_LEVEL":"INFO","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543","PDF_URL_EXPIRATION_HOURS":"24","REPORT_JOBS_QUEUE_URL":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","TELEGRAM_APP_HASH":"","TELEGRAM_APP_ID":"","TELEGRAM_BOT_TOKEN":"","TELEGRAM_WEBAPP_URL":"https://demjoigiw6myp.cloudfront.net"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-telegram-api-dev","handler":"","id":"dr-daily-report-telegram-api-dev","image_config":[{"command":["telegram_lambda_handler.handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-telegram-api-dev","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":true,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:34","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:34/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"rest-api","CostCenter":"engineering","Environment":"dev","Interface":"api-gateway","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"rest-api","CostCenter":"engineering","Environment":"dev","Interface":"api-gateway","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"34","vpc_config":[]},"after_unknown":{},"before_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"LANGSMITH_API_KEY":true,"OPENROUTER_API_KEY":true,"TELEGRAM_APP_HASH":true,"TELEGRAM_APP_ID":true,"TELEGRAM_BOT_TOKEN":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"LANGSMITH_API_KEY":true,"OPENROUTER_API_KEY":true,"TELEGRAM_APP_HASH":true,"TELEGRAM_APP_ID":true,"TELEGRAM_BOT_TOKEN":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}}},{"address":"aws_lambda_function.ticker_scheduler","mode":"managed","type":"aws_lambda_function","name":"ticker_scheduler","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"AURORA_DATABASE":"ticker_data","AURORA_HOST":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","AURORA_PASSWORD":"AuroraDevDb2025SecureX1","AURORA_PORT":"3306","AURORA_USER":"admin","ENVIRONMENT":"dev","LOG_LEVEL":"INFO","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-ticker-scheduler-dev","handler":"","id":"dr-daily-report-ticker-scheduler-dev","image_config":[{"command":["src.scheduler.handler.lambda_handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":false,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"scheduler","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"tags_all":{"App":"telegram-api","Component":"scheduler","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[{"ipv6_allowed_for_dual_stack":false,"security_group_ids":["sg-0185a0d8d92968d03"],"subnet_ids":["subnet-012d60cbb95430cd6","subnet-030760a3f13e4eacc","subnet-0bfaf6ef0e1a456a6","subnet-0da9ef11b7da7ce3a","subnet-0e3861e4ea942da39","subnet-0ef493a1aae3b4af4"],"vpc_id":"vpc-0fb04b10ef8c3d18b"}]},"after":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"AURORA_DATABASE":"ticker_data","AURORA_HOST":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","AURORA_PASSWORD":"AuroraDevDb2025SecureX1","AURORA_PORT":"3306","AURORA_USER":"admin","ENVIRONMENT":"dev","LOG_LEVEL":"INFO","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-ticker-scheduler-dev","handler":"","id":"dr-daily-report-ticker-scheduler-dev","image_config":[{"command":["src.scheduler.handler.lambda_handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":false,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"scheduler","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"tags_all":{"App":"telegram-api","Component":"scheduler","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[{"ipv6_allowed_for_dual_stack":false,"security_group_ids":["sg-0185a0d8d92968d03"],"subnet_ids":["subnet-012d60cbb95430cd6","subnet-0bfaf6ef0e1a456a6","subnet-0ef493a1aae3b4af4"],"vpc_id":"vpc-0fb04b10ef8c3d18b"}]},"after_unknown":{},"before_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"AURORA_PASSWORD":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[false],"subnet_ids":[false,false,false,false,false,false]}]},"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"AURORA_PASSWORD":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[false],"subnet_ids":[false,false,false]}]}}},{"address":"aws_lambda_function_url.line_webhook","mode":"managed","type":"aws_lambda_function_url","name":"line_webhook","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"authorization_type":"NONE","cors":[{"allow_credentials":false,"allow_headers":["*"],"allow_methods":["GET","POST"],"allow_origins":["*"],"expose_headers":[],"max_age":0}],"function_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report","function_name":"line-bot-ticker-report","function_url":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/","id":"line-bot-ticker-report","invoke_mode":"BUFFERED","qualifier":"","timeouts":null,"url_id":"h53gesnt3xw5ggnqx6dywbc2640ffpnp"},"after":{"authorization_type":"NONE","cors":[{"allow_credentials":false,"allow_headers":["*"],"allow_methods":["GET","POST"],"allow_origins":["*"],"expose_headers":[],"max_age":0}],"function_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report","function_name":"line-bot-ticker-report","function_url":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/","id":"line-bot-ticker-report","invoke_mode":"BUFFERED","qualifier":"","timeouts":null,"url_id":"h53gesnt3xw5ggnqx6dywbc2640ffpnp"},"after_unknown":{},"before_sensitive":{"cors":[{"allow_headers":[false],"allow_methods":[false,false],"allow_origins":[false],"expose_headers":[]}]},"after_sensitive":{"cors":[{"allow_headers":[false],"allow_methods":[false,false],"allow_origins":[false],"expose_headers":[]}]}}},{"address":"aws_lambda_permission.eventbridge_invoke_scheduler","mode":"managed","type":"aws_lambda_permission","name":"eventbridge_invoke_scheduler","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-ticker-scheduler-dev","function_url_auth_type":null,"id":"AllowEventBridgeInvoke","principal":"events.amazonaws.com","principal_org_id":null,"qualifier":"","source_account":null,"source_arn":"arn:aws:events:ap-southeast-1:755283537543:rule/dr-daily-report-daily-ticker-fetch-dev","statement_id":"AllowEventBridgeInvoke","statement_id_prefix":""},"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-ticker-scheduler-dev","function_url_auth_type":null,"id":"AllowEventBridgeInvoke","principal":"events.amazonaws.com","principal_org_id":null,"qualifier":"","source_account":null,"source_arn":"arn:aws:events:ap-southeast-1:755283537543:rule/dr-daily-report-daily-ticker-fetch-dev","statement_id":"AllowEventBridgeInvoke","statement_id_prefix":""},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_lambda_permission.report_worker_sqs","mode":"managed","type":"aws_lambda_permission","name":"report_worker_sqs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-report-worker-dev","function_url_auth_type":null,"id":"AllowSQSInvoke","principal":"sqs.amazonaws.com","principal_org_id":null,"qualifier":"live","source_account":null,"source_arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","statement_id":"AllowSQSInvoke","statement_id_prefix":""},"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-report-worker-dev","function_url_auth_type":null,"id":"AllowSQSInvoke","principal":"sqs.amazonaws.com","principal_org_id":null,"qualifier":"live","source_account":null,"source_arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","statement_id":"AllowSQSInvoke","statement_id_prefix":""},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_lambda_permission.telegram_api_gateway","mode":"managed","type":"aws_lambda_permission","name":"telegram_api_gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-telegram-api-dev","function_url_auth_type":null,"id":"AllowAPIGatewayInvoke","principal":"apigateway.amazonaws.com","principal_org_id":null,"qualifier":"live","source_account":null,"source_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1/*/*","statement_id":"AllowAPIGatewayInvoke","statement_id_prefix":""},"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-telegram-api-dev","function_url_auth_type":null,"id":"AllowAPIGatewayInvoke","principal":"apigateway.amazonaws.com","principal_org_id":null,"qualifier":"live","source_account":null,"source_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1/*/*","statement_id":"AllowAPIGatewayInvoke","statement_id_prefix":""},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_rds_cluster.aurora[0]","mode":"managed","type":"aws_rds_cluster","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"allocated_storage":1,"allow_major_version_upgrade":null,"apply_immediately":null,"arn":"arn:aws:rds:ap-southeast-1:755283537543:cluster:dr-daily-report-aurora-dev","availability_zones":["ap-southeast-1a","ap-southeast-1b","ap-southeast-1c"],"backtrack_window":0,"backup_retention_period":7,"ca_certificate_identifier":null,"ca_certificate_valid_till":null,"cluster_identifier":"dr-daily-report-aurora-dev","cluster_identifier_prefix":"","cluster_members":["dr-daily-report-aurora-instance-dev"],"cluster_resource_id":"cluster-HZWPMPCG6MDP34DFU2QTN4JXD4","cluster_scalability_type":"","copy_tags_to_snapshot":false,"database_insights_mode":"standard","database_name":"ticker_data","db_cluster_instance_class":"","db_cluster_parameter_group_name":"default.aurora-mysql8.0","db_instance_parameter_group_name":null,"db_subnet_group_name":"dr-daily-report-aurora-dev","db_system_id":"","delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_iam_role_name":"","enable_global_write_forwarding":false,"enable_http_endpoint":false,"enable_local_write_forwarding":false,"enabled_cloudwatch_logs_exports":["error","slowquery"],"endpoint":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","engine":"aurora-mysql","engine_lifecycle_support":"open-source-rds-extended-support","engine_mode":"provisioned","engine_version":"8.0.mysql_aurora.3.04.0","engine_version_actual":"8.0.mysql_aurora.3.04.0","final_snapshot_identifier":null,"global_cluster_identifier":"","hosted_zone_id":"Z2G0U3KFCY8NZ5","iam_database_authentication_enabled":false,"iam_roles":[],"id":"dr-daily-report-aurora-dev","iops":0,"kms_key_id":"","manage_master_user_password":null,"master_password":"AuroraDevDb2025SecureX1","master_password_wo":null,"master_password_wo_version":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"master_username":"admin","monitoring_interval":0,"monitoring_role_arn":"","network_type":"IPV4","performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"preferred_backup_window":"02:00-03:00","preferred_maintenance_window":"sun:15:47-sun:16:17","reader_endpoint":"dr-daily-report-aurora-dev.cluster-ro-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","replication_source_identifier":"","restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[{"max_capacity":2,"min_capacity":0.5,"seconds_until_auto_pause":0}],"skip_final_snapshot":true,"snapshot_identifier":null,"source_region":null,"storage_encrypted":false,"storage_type":"","tags":{"App":"shared","Component":"aurora-cluster","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-cluster","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-cluster","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-cluster","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_security_group_ids":["sg-090e3e8630b0902e5"]},"after":{"allocated_storage":1,"allow_major_version_upgrade":null,"apply_immediately":null,"arn":"arn:aws:rds:ap-southeast-1:755283537543:cluster:dr-daily-report-aurora-dev","availability_zones":["ap-southeast-1a","ap-southeast-1b","ap-southeast-1c"],"backtrack_window":0,"backup_retention_period":7,"ca_certificate_identifier":null,"ca_certificate_valid_till":null,"cluster_identifier":"dr-daily-report-aurora-dev","cluster_identifier_prefix":"","cluster_members":["dr-daily-report-aurora-instance-dev"],"cluster_resource_id":"cluster-HZWPMPCG6MDP34DFU2QTN4JXD4","cluster_scalability_type":"","copy_tags_to_snapshot":false,"database_insights_mode":"standard","database_name":"ticker_data","db_cluster_instance_class":"","db_cluster_parameter_group_name":"default.aurora-mysql8.0","db_instance_parameter_group_name":null,"db_subnet_group_name":"dr-daily-report-aurora-dev","db_system_id":"","delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_iam_role_name":"","enable_global_write_forwarding":false,"enable_http_endpoint":false,"enable_local_write_forwarding":false,"enabled_cloudwatch_logs_exports":["error","slowquery"],"endpoint":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","engine":"aurora-mysql","engine_lifecycle_support":"open-source-rds-extended-support","engine_mode":"provisioned","engine_version":"8.0.mysql_aurora.3.04.0","engine_version_actual":"8.0.mysql_aurora.3.04.0","final_snapshot_identifier":null,"global_cluster_identifier":"","hosted_zone_id":"Z2G0U3KFCY8NZ5","iam_database_authentication_enabled":false,"iam_roles":[],"id":"dr-daily-report-aurora-dev","iops":0,"kms_key_id":"","manage_master_user_password":null,"master_password":"AuroraDevDb2025SecureX1","master_password_wo":null,"master_password_wo_version":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"master_username":"admin","monitoring_interval":0,"monitoring_role_arn":"","network_type":"IPV4","performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"preferred_backup_window":"02:00-03:00","preferred_maintenance_window":"sun:15:47-sun:16:17","reader_endpoint":"dr-daily-report-aurora-dev.cluster-ro-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","replication_source_identifier":"","restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[{"max_capacity":2,"min_capacity":0.5,"seconds_until_auto_pause":0}],"skip_final_snapshot":true,"snapshot_identifier":null,"source_region":null,"storage_encrypted":false,"storage_type":"","tags":{"App":"shared","Component":"aurora-cluster","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-cluster","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-cluster","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-cluster","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_security_group_ids":["sg-090e3e8630b0902e5"]},"after_unknown":{},"before_sensitive":{"availability_zones":[false,false,false],"cluster_members":[false],"enabled_cloudwatch_logs_exports":[false,false],"iam_roles":[],"master_password":true,"master_password_wo":true,"master_user_secret":[],"restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[{}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"after_sensitive":{"availability_zones":[false,false,false],"cluster_members":[false],"enabled_cloudwatch_logs_exports":[false,false],"iam_roles":[],"master_password":true,"master_password_wo":true,"master_user_secret":[],"restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[{}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]}}},{"address":"aws_rds_cluster_instance.aurora[0]","mode":"managed","type":"aws_rds_cluster_instance","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"apply_immediately":null,"arn":"arn:aws:rds:ap-southeast-1:755283537543:db:dr-daily-report-aurora-instance-dev","auto_minor_version_upgrade":true,"availability_zone":"ap-southeast-1c","ca_cert_identifier":"rds-ca-rsa2048-g1","cluster_identifier":"dr-daily-report-aurora-dev","copy_tags_to_snapshot":false,"custom_iam_instance_profile":"","db_parameter_group_name":"default.aurora-mysql8.0","db_subnet_group_name":"dr-daily-report-aurora-dev","dbi_resource_id":"db-UCIWAUSHZHTGROON7CZBMVMUEA","endpoint":"dr-daily-report-aurora-instance-dev.c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","engine":"aurora-mysql","engine_version":"8.0.mysql_aurora.3.04.0","engine_version_actual":"8.0.mysql_aurora.3.04.0","force_destroy":null,"id":"dr-daily-report-aurora-instance-dev","identifier":"dr-daily-report-aurora-instance-dev","identifier_prefix":"","instance_class":"db.serverless","kms_key_id":"","monitoring_interval":0,"monitoring_role_arn":"","network_type":"IPV4","performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"preferred_backup_window":"02:00-03:00","preferred_maintenance_window":"wed:15:42-wed:16:12","promotion_tier":0,"publicly_accessible":false,"storage_encrypted":false,"tags":{"App":"shared","Component":"aurora-instance","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-instance","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-instance","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-instance","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"writer":true},"after":{"apply_immediately":null,"arn":"arn:aws:rds:ap-southeast-1:755283537543:db:dr-daily-report-aurora-instance-dev","auto_minor_version_upgrade":true,"availability_zone":"ap-southeast-1c","ca_cert_identifier":"rds-ca-rsa2048-g1","cluster_identifier":"dr-daily-report-aurora-dev","copy_tags_to_snapshot":false,"custom_iam_instance_profile":"","db_parameter_group_name":"default.aurora-mysql8.0","db_subnet_group_name":"dr-daily-report-aurora-dev","dbi_resource_id":"db-UCIWAUSHZHTGROON7CZBMVMUEA","endpoint":"dr-daily-report-aurora-instance-dev.c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","engine":"aurora-mysql","engine_version":"8.0.mysql_aurora.3.04.0","engine_version_actual":"8.0.mysql_aurora.3.04.0","force_destroy":null,"id":"dr-daily-report-aurora-instance-dev","identifier":"dr-daily-report-aurora-instance-dev","identifier_prefix":"","instance_class":"db.serverless","kms_key_id":"","monitoring_interval":0,"monitoring_role_arn":"","network_type":"IPV4","performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"preferred_backup_window":"02:00-03:00","preferred_maintenance_window":"wed:15:42-wed:16:12","promotion_tier":0,"publicly_accessible":false,"storage_encrypted":false,"tags":{"App":"shared","Component":"aurora-instance","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-instance","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-instance","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-instance","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"writer":true},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_s3_bucket.pdf_reports","mode":"managed","type":"aws_s3_bucket","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::line-bot-pdf-reports-755283537543","bucket":"line-bot-pdf-reports-755283537543","bucket_domain_name":"line-bot-pdf-reports-755283537543.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"line-bot-pdf-reports-755283537543.s3.ap-southeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"96092fbd02b598ed3a3c97f4a42cbd5c01bfdf3dc995dde83fe1996a26386e9f","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3O0J2DXBE1FTB","id":"line-bot-pdf-reports-755283537543","lifecycle_rule":[{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":30,"expired_object_delete_marker":false}],"id":"delete_old_pdfs","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"reports/","tags":{},"transition":[]},{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":1,"expired_object_delete_marker":false}],"id":"delete_old_cache","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"cache/","tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"ap-southeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"App":"shared","Component":"pdf-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-pdf-reports","Owner":"data-team","Project":"dr-daily-report","SharedBy":"line-bot_telegram-api"},"tags_all":{"App":"shared","Component":"pdf-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-pdf-reports","Owner":"data-team","Project":"dr-daily-report","SharedBy":"line-bot_telegram-api"},"timeouts":null,"versioning":[{"enabled":true,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"after":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::line-bot-pdf-reports-755283537543","bucket":"line-bot-pdf-reports-755283537543","bucket_domain_name":"line-bot-pdf-reports-755283537543.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"line-bot-pdf-reports-755283537543.s3.ap-southeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"96092fbd02b598ed3a3c97f4a42cbd5c01bfdf3dc995dde83fe1996a26386e9f","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3O0J2DXBE1FTB","id":"line-bot-pdf-reports-755283537543","lifecycle_rule":[{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":30,"expired_object_delete_marker":false}],"id":"delete_old_pdfs","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"reports/","tags":{},"transition":[]},{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":1,"expired_object_delete_marker":false}],"id":"delete_old_cache","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"cache/","tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"ap-southeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"App":"shared","Component":"pdf-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-pdf-reports","Owner":"data-team","Project":"dr-daily-report","SharedBy":"line-bot_telegram-api"},"tags_all":{"App":"shared","Component":"pdf-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-pdf-reports","Owner":"data-team","Project":"dr-daily-report","SharedBy":"line-bot_telegram-api"},"timeouts":null,"versioning":[{"enabled":true,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"after_unknown":{},"before_sensitive":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]},{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]},"after_sensitive":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]},{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]}}},{"address":"aws_s3_bucket.webapp","mode":"managed","type":"aws_s3_bucket","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::dr-daily-report-webapp-dev","bucket":"dr-daily-report-webapp-dev","bucket_domain_name":"dr-daily-report-webapp-dev.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"96092fbd02b598ed3a3c97f4a42cbd5c01bfdf3dc995dde83fe1996a26386e9f","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3O0J2DXBE1FTB","id":"dr-daily-report-webapp-dev","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX\"},\"Resource\":\"arn:aws:s3:::dr-daily-report-webapp-dev/*\",\"Sid\":\"AllowCloudFrontOAI\"}],\"Version\":\"2012-10-17\"}","region":"ap-southeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"App":"telegram-api","Component":"frontend-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"frontend-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"after":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::dr-daily-report-webapp-dev","bucket":"dr-daily-report-webapp-dev","bucket_domain_name":"dr-daily-report-webapp-dev.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"96092fbd02b598ed3a3c97f4a42cbd5c01bfdf3dc995dde83fe1996a26386e9f","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3O0J2DXBE1FTB","id":"dr-daily-report-webapp-dev","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX\"},\"Resource\":\"arn:aws:s3:::dr-daily-report-webapp-dev/*\",\"Sid\":\"AllowCloudFrontOAI\"}],\"Version\":\"2012-10-17\"}","region":"ap-southeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"App":"telegram-api","Component":"frontend-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"frontend-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"after_unknown":{},"before_sensitive":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]},"after_sensitive":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]}}},{"address":"aws_s3_bucket_lifecycle_configuration.pdf_reports","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"bucket":"line-bot-pdf-reports-755283537543","expected_bucket_owner":"","id":"line-bot-pdf-reports-755283537543","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":30,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"reports/","tag":[]}],"id":"delete_old_pdfs","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]},{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":1,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"cache/","tag":[]}],"id":"delete_old_cache","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after":{"bucket":"line-bot-pdf-reports-755283537543","expected_bucket_owner":"","id":"line-bot-pdf-reports-755283537543","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":30,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"reports/","tag":[]}],"id":"delete_old_pdfs","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]},{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":1,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"cache/","tag":[]}],"id":"delete_old_cache","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{},"before_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]},{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]}]},"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]},{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]}]}}},{"address":"aws_s3_bucket_policy.webapp","mode":"managed","type":"aws_s3_bucket_policy","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"bucket":"dr-daily-report-webapp-dev","id":"dr-daily-report-webapp-dev","policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX\"},\"Resource\":\"arn:aws:s3:::dr-daily-report-webapp-dev/*\",\"Sid\":\"AllowCloudFrontOAI\"}],\"Version\":\"2012-10-17\"}"},"after":{"bucket":"dr-daily-report-webapp-dev","id":"dr-daily-report-webapp-dev","policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX\"},\"Resource\":\"arn:aws:s3:::dr-daily-report-webapp-dev/*\",\"Sid\":\"AllowCloudFrontOAI\"}],\"Version\":\"2012-10-17\"}"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_s3_bucket_public_access_block.pdf_reports","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"block_public_acls":true,"block_public_policy":true,"bucket":"line-bot-pdf-reports-755283537543","id":"line-bot-pdf-reports-755283537543","ignore_public_acls":true,"restrict_public_buckets":true},"after":{"block_public_acls":true,"block_public_policy":true,"bucket":"line-bot-pdf-reports-755283537543","id":"line-bot-pdf-reports-755283537543","ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_s3_bucket_public_access_block.webapp","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"block_public_acls":true,"block_public_policy":true,"bucket":"dr-daily-report-webapp-dev","id":"dr-daily-report-webapp-dev","ignore_public_acls":true,"restrict_public_buckets":true},"after":{"block_public_acls":true,"block_public_policy":true,"bucket":"dr-daily-report-webapp-dev","id":"dr-daily-report-webapp-dev","ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_s3_bucket_versioning.pdf_reports","mode":"managed","type":"aws_s3_bucket_versioning","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"bucket":"line-bot-pdf-reports-755283537543","expected_bucket_owner":"","id":"line-bot-pdf-reports-755283537543","mfa":null,"versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"after":{"bucket":"line-bot-pdf-reports-755283537543","expected_bucket_owner":"","id":"line-bot-pdf-reports-755283537543","mfa":null,"versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"after_unknown":{},"before_sensitive":{"versioning_configuration":[{}]},"after_sensitive":{"versioning_configuration":[{}]}}},{"address":"aws_secretsmanager_secret.aurora_credentials[0]","mode":"managed","type":"aws_secretsmanager_secret","name":"aurora_credentials","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT","description":"Aurora MySQL credentials for dr-daily-report","force_overwrite_replica_secret":false,"id":"dr-daily-report/aurora/dev","kms_key_id":"","name":"dr-daily-report/aurora/dev","name_prefix":"","policy":"","recovery_window_in_days":30,"replica":[],"tags":{"App":"shared","Component":"secrets-manager","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-credentials","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"secrets-manager","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-credentials","Owner":"data-team","Project":"dr-daily-report"}},"after":{"arn":"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT","description":"Aurora MySQL credentials for dr-daily-report","force_overwrite_replica_secret":false,"id":"dr-daily-report/aurora/dev","kms_key_id":"","name":"dr-daily-report/aurora/dev","name_prefix":"","policy":"","recovery_window_in_days":30,"replica":[],"tags":{"App":"shared","Component":"secrets-manager","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-credentials","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"secrets-manager","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-credentials","Owner":"data-team","Project":"dr-daily-report"}},"after_unknown":{},"before_sensitive":{"replica":[],"tags":{},"tags_all":{}},"after_sensitive":{"replica":[],"tags":{},"tags_all":{}}}},{"address":"aws_secretsmanager_secret_version.aurora_credentials[0]","mode":"managed","type":"aws_secretsmanager_secret_version","name":"aurora_credentials","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT","has_secret_string_wo":null,"id":"dr-daily-report/aurora/dev|terraform-20251201093349393500000003","secret_binary":"","secret_id":"dr-daily-report/aurora/dev","secret_string":"{\"database\":\"ticker_data\",\"host\":\"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com\",\"password\":\"AuroraDevDb2025SecureX1\",\"port\":3306,\"username\":\"admin\"}","secret_string_wo":null,"secret_string_wo_version":null,"version_id":"terraform-20251201093349393500000003","version_stages":["AWSCURRENT"]},"after":{"arn":"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT","has_secret_string_wo":null,"id":"dr-daily-report/aurora/dev|terraform-20251201093349393500000003","secret_binary":"","secret_id":"dr-daily-report/aurora/dev","secret_string":"{\"database\":\"ticker_data\",\"host\":\"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com\",\"password\":\"AuroraDevDb2025SecureX1\",\"port\":3306,\"username\":\"admin\"}","secret_string_wo":null,"secret_string_wo_version":null,"version_id":"terraform-20251201093349393500000003","version_stages":["AWSCURRENT"]},"after_unknown":{},"before_sensitive":{"secret_binary":true,"secret_string":true,"secret_string_wo":true,"version_stages":[false]},"after_sensitive":{"secret_binary":true,"secret_string":true,"secret_string_wo":true,"version_stages":[false]}}},{"address":"aws_security_group.aurora[0]","mode":"managed","type":"aws_security_group","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-southeast-1:755283537543:security-group/sg-090e3e8630b0902e5","description":"Security group for Aurora MySQL cluster","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"All outbound traffic","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-090e3e8630b0902e5","ingress":[{"cidr_blocks":["172.31.0.0/16"],"description":"MySQL from VPC","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306},{"cidr_blocks":[],"description":"MySQL from Lambda","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0185a0d8d92968d03"],"self":false,"to_port":3306}],"name":"dr-daily-report-aurora-dev","name_prefix":"","owner_id":"755283537543","revoke_rules_on_delete":null,"tags":{"App":"shared","Component":"aurora-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_id":"vpc-0fb04b10ef8c3d18b"},"after":{"arn":"arn:aws:ec2:ap-southeast-1:755283537543:security-group/sg-090e3e8630b0902e5","description":"Security group for Aurora MySQL cluster","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"All outbound traffic","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-090e3e8630b0902e5","ingress":[{"cidr_blocks":["172.31.0.0/16"],"description":"MySQL from VPC","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306},{"cidr_blocks":[],"description":"MySQL from Lambda","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0185a0d8d92968d03"],"self":false,"to_port":3306}],"name":"dr-daily-report-aurora-dev","name_prefix":"","owner_id":"755283537543","revoke_rules_on_delete":null,"tags":{"App":"shared","Component":"aurora-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_id":"vpc-0fb04b10ef8c3d18b"},"after_unknown":{},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}}}},{"address":"aws_security_group.lambda_aurora[0]","mode":"managed","type":"aws_security_group","name":"lambda_aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:ap-southeast-1:755283537543:security-group/sg-0185a0d8d92968d03","description":"Security group for Lambda functions accessing Aurora","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"All outbound traffic","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0185a0d8d92968d03","ingress":[],"name":"dr-daily-report-lambda-aurora-dev","name_prefix":"","owner_id":"755283537543","revoke_rules_on_delete":false,"tags":{"App":"shared","Component":"lambda-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"lambda-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_id":"vpc-0fb04b10ef8c3d18b"},"after":{"arn":"arn:aws:ec2:ap-southeast-1:755283537543:security-group/sg-0185a0d8d92968d03","description":"Security group for Lambda functions accessing Aurora","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"All outbound traffic","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0185a0d8d92968d03","ingress":[],"name":"dr-daily-report-lambda-aurora-dev","name_prefix":"","owner_id":"755283537543","revoke_rules_on_delete":false,"tags":{"App":"shared","Component":"lambda-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"lambda-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_id":"vpc-0fb04b10ef8c3d18b"},"after_unknown":{},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"aws_sns_topic.telegram_alerts","mode":"managed","type":"aws_sns_topic","name":"telegram_alerts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":0,"archive_policy":"","arn":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev","beginning_archive_time":"","content_based_deduplication":false,"delivery_policy":"","display_name":"","fifo_throughput_scope":"","fifo_topic":false,"firehose_failure_feedback_role_arn":"","firehose_success_feedback_role_arn":"","firehose_success_feedback_sample_rate":0,"http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":0,"id":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":0,"name":"dr-daily-report-telegram-alerts-dev","name_prefix":"","owner":"755283537543","policy":"{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"755283537543\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2008-10-17\"}","signature_version":0,"sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":0,"tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-alerts-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-alerts-dev","Owner":"data-team","Project":"dr-daily-report"},"tracing_config":""},"after":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":0,"archive_policy":"","arn":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev","beginning_archive_time":"","content_based_deduplication":false,"delivery_policy":"","display_name":"","fifo_throughput_scope":"","fifo_topic":false,"firehose_failure_feedback_role_arn":"","firehose_success_feedback_role_arn":"","firehose_success_feedback_sample_rate":0,"http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":0,"id":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":0,"name":"dr-daily-report-telegram-alerts-dev","name_prefix":"","owner":"755283537543","policy":"{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"755283537543\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2008-10-17\"}","signature_version":0,"sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":0,"tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-alerts-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-alerts-dev","Owner":"data-team","Project":"dr-daily-report"},"tracing_config":""},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_sqs_queue.report_jobs","mode":"managed","type":"aws_sqs_queue","name":"report_jobs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":3600,"name":"dr-daily-report-report-jobs-dev","name_prefix":"","policy":"","receive_wait_time_seconds":10,"redrive_allow_policy":"","redrive_policy":"{\"deadLetterTargetArn\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dlq-dev\",\"maxReceiveCount\":1}","sqs_managed_sse_enabled":true,"tags":{"App":"telegram-api","Component":"job-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"job-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"url":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","visibility_timeout_seconds":120},"after":{"arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":3600,"name":"dr-daily-report-report-jobs-dev","name_prefix":"","policy":"","receive_wait_time_seconds":10,"redrive_allow_policy":"","redrive_policy":"{\"deadLetterTargetArn\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dlq-dev\",\"maxReceiveCount\":1}","sqs_managed_sse_enabled":true,"tags":{"App":"telegram-api","Component":"job-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"job-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"url":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","visibility_timeout_seconds":120},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_sqs_queue.report_jobs_dlq","mode":"managed","type":"aws_sqs_queue","name":"report_jobs_dlq","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dlq-dev","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":1209600,"name":"dr-daily-report-report-jobs-dlq-dev","name_prefix":"","policy":"","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"","sqs_managed_sse_enabled":true,"tags":{"App":"telegram-api","Component":"dead-letter-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dlq-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"dead-letter-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dlq-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"url":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev","visibility_timeout_seconds":60},"after":{"arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dlq-dev","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":1209600,"name":"dr-daily-report-report-jobs-dlq-dev","name_prefix":"","policy":"","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"","sqs_managed_sse_enabled":true,"tags":{"App":"telegram-api","Component":"dead-letter-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dlq-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"dead-letter-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dlq-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"url":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev","visibility_timeout_seconds":60},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}}],"output_changes":{"aurora_cluster_endpoint":{"actions":["create"],"before":null,"after":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"aurora_cluster_port":{"actions":["create"],"before":null,"after":3306,"after_unknown":false,"before_sensitive":false,"after_sensitive":false},"aurora_cluster_reader_endpoint":{"actions":["create"],"before":null,"after":"dr-daily-report-aurora-dev.cluster-ro-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"aurora_credentials_secret_arn":{"actions":["create"],"before":null,"after":"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"aurora_security_group_id":{"actions":["create"],"before":null,"after":"sg-090e3e8630b0902e5","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"cloudfront_distribution_domain":{"actions":["no-op"],"before":"demjoigiw6myp.cloudfront.net","after":"demjoigiw6myp.cloudfront.net","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"cloudfront_distribution_id":{"actions":["no-op"],"before":"E2E287IAR2D3IG","after":"E2E287IAR2D3IG","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"cloudfront_test_distribution_domain":{"actions":["no-op"],"before":"d24cidhj2eghux.cloudfront.net","after":"d24cidhj2eghux.cloudfront.net","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"cloudfront_test_distribution_id":{"actions":["no-op"],"before":"E3D4ZF0OMC5OI1","after":"E3D4ZF0OMC5OI1","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"deployment_summary":{"actions":["update"],"before":{"environment":"prod","function_name":"line-bot-ticker-report","region":"ap-southeast-1","webhook_url":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/"},"after":{"environment":"dev","function_name":"line-bot-ticker-report","region":"ap-southeast-1","webhook_url":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/"},"after_unknown":false,"before_sensitive":false,"after_sensitive":false},"ecr_repository_url":{"actions":["no-op"],"before":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev","after":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"lambda_aurora_security_group_id":{"actions":["create"],"before":null,"after":"sg-0185a0d8d92968d03","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"lambda_function_arn":{"actions":["no-op"],"before":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report","after":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"lambda_function_name":{"actions":["no-op"],"before":"line-bot-ticker-report","after":"line-bot-ticker-report","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"lambda_function_version":{"actions":["no-op"],"before":"$LATEST","after":"$LATEST","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"pdf_storage_bucket":{"actions":["no-op"],"before":"line-bot-pdf-reports-755283537543","after":"line-bot-pdf-reports-755283537543","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"report_jobs_dlq_url":{"actions":["no-op"],"before":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev","after":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"report_jobs_queue_arn":{"actions":["no-op"],"before":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","after":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"report_jobs_queue_url":{"actions":["no-op"],"before":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","after":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"report_jobs_table_arn":{"actions":["no-op"],"before":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev","after":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"report_jobs_table_name":{"actions":["no-op"],"before":"dr-daily-report-telegram-jobs-dev","after":"dr-daily-report-telegram-jobs-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"report_worker_function_arn":{"actions":["no-op"],"before":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev","after":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"report_worker_function_name":{"actions":["no-op"],"before":"dr-daily-report-report-worker-dev","after":"dr-daily-report-report-worker-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"sns_alerts_topic_arn":{"actions":["no-op"],"before":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev","after":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"telegram_api_gateway_id":{"actions":["no-op"],"before":"ou0ivives1","after":"ou0ivives1","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"telegram_api_gateway_url":{"actions":["no-op"],"before":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com","after":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"telegram_api_invoke_url":{"actions":["no-op"],"before":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com/api/v1","after":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com/api/v1","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"telegram_lambda_alias_arn":{"actions":["no-op"],"before":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live","after":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"telegram_lambda_function_arn":{"actions":["no-op"],"before":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev","after":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"telegram_lambda_function_name":{"actions":["no-op"],"before":"dr-daily-report-telegram-api-dev","after":"dr-daily-report-telegram-api-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"telegram_lambda_role_arn":{"actions":["no-op"],"before":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","after":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"telegram_lambda_version":{"actions":["no-op"],"before":"34","after":"34","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"ticker_scheduler_enabled":{"actions":["no-op"],"before":true,"after":true,"after_unknown":false,"before_sensitive":false,"after_sensitive":false},"ticker_scheduler_eventbridge_rule":{"actions":["no-op"],"before":"dr-daily-report-daily-ticker-fetch-dev","after":"dr-daily-report-daily-ticker-fetch-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"ticker_scheduler_function_arn":{"actions":["no-op"],"before":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev","after":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"ticker_scheduler_function_name":{"actions":["no-op"],"before":"dr-daily-report-ticker-scheduler-dev","after":"dr-daily-report-ticker-scheduler-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"watchlist_table_arn":{"actions":["no-op"],"before":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev","after":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"watchlist_table_name":{"actions":["no-op"],"before":"dr-daily-report-telegram-watchlist-dev","after":"dr-daily-report-telegram-watchlist-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"webapp_bucket_arn":{"actions":["no-op"],"before":"arn:aws:s3:::dr-daily-report-webapp-dev","after":"arn:aws:s3:::dr-daily-report-webapp-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"webapp_bucket_name":{"actions":["no-op"],"before":"dr-daily-report-webapp-dev","after":"dr-daily-report-webapp-dev","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"webapp_test_url":{"actions":["no-op"],"before":"https://d24cidhj2eghux.cloudfront.net","after":"https://d24cidhj2eghux.cloudfront.net","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"webapp_url":{"actions":["no-op"],"before":"https://demjoigiw6myp.cloudfront.net","after":"https://demjoigiw6myp.cloudfront.net","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"webhook_url":{"actions":["no-op"],"before":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/","after":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/","after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.10.3","values":{"outputs":{"aurora_cluster_endpoint":{"sensitive":false,"value":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","type":"string"},"aurora_cluster_port":{"sensitive":false,"value":3306,"type":"number"},"aurora_cluster_reader_endpoint":{"sensitive":false,"value":"dr-daily-report-aurora-dev.cluster-ro-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","type":"string"},"aurora_credentials_secret_arn":{"sensitive":false,"value":"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT","type":"string"},"aurora_security_group_id":{"sensitive":false,"value":"sg-090e3e8630b0902e5","type":"string"},"cloudfront_distribution_domain":{"sensitive":false,"value":"demjoigiw6myp.cloudfront.net","type":"string"},"cloudfront_distribution_id":{"sensitive":false,"value":"E2E287IAR2D3IG","type":"string"},"cloudfront_test_distribution_domain":{"sensitive":false,"value":"d24cidhj2eghux.cloudfront.net","type":"string"},"cloudfront_test_distribution_id":{"sensitive":false,"value":"E3D4ZF0OMC5OI1","type":"string"},"deployment_summary":{"sensitive":false,"value":{"environment":"dev","function_name":"line-bot-ticker-report","region":"ap-southeast-1","webhook_url":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/"},"type":["object",{"environment":"string","function_name":"string","region":"string","webhook_url":"string"}]},"ecr_repository_url":{"sensitive":false,"value":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev","type":"string"},"lambda_aurora_security_group_id":{"sensitive":false,"value":"sg-0185a0d8d92968d03","type":"string"},"lambda_function_arn":{"sensitive":false,"value":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report","type":"string"},"lambda_function_name":{"sensitive":false,"value":"line-bot-ticker-report","type":"string"},"lambda_function_version":{"sensitive":false,"value":"$LATEST","type":"string"},"pdf_storage_bucket":{"sensitive":false,"value":"line-bot-pdf-reports-755283537543","type":"string"},"report_jobs_dlq_url":{"sensitive":false,"value":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev","type":"string"},"report_jobs_queue_arn":{"sensitive":false,"value":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","type":"string"},"report_jobs_queue_url":{"sensitive":false,"value":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","type":"string"},"report_jobs_table_arn":{"sensitive":false,"value":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev","type":"string"},"report_jobs_table_name":{"sensitive":false,"value":"dr-daily-report-telegram-jobs-dev","type":"string"},"report_worker_function_arn":{"sensitive":false,"value":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev","type":"string"},"report_worker_function_name":{"sensitive":false,"value":"dr-daily-report-report-worker-dev","type":"string"},"sns_alerts_topic_arn":{"sensitive":false,"value":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev","type":"string"},"telegram_api_gateway_id":{"sensitive":false,"value":"ou0ivives1","type":"string"},"telegram_api_gateway_url":{"sensitive":false,"value":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com","type":"string"},"telegram_api_invoke_url":{"sensitive":false,"value":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com/api/v1","type":"string"},"telegram_lambda_alias_arn":{"sensitive":false,"value":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live","type":"string"},"telegram_lambda_function_arn":{"sensitive":false,"value":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev","type":"string"},"telegram_lambda_function_name":{"sensitive":false,"value":"dr-daily-report-telegram-api-dev","type":"string"},"telegram_lambda_role_arn":{"sensitive":false,"value":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","type":"string"},"telegram_lambda_version":{"sensitive":false,"value":"34","type":"string"},"ticker_scheduler_enabled":{"sensitive":false,"value":true,"type":"bool"},"ticker_scheduler_eventbridge_rule":{"sensitive":false,"value":"dr-daily-report-daily-ticker-fetch-dev","type":"string"},"ticker_scheduler_function_arn":{"sensitive":false,"value":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev","type":"string"},"ticker_scheduler_function_name":{"sensitive":false,"value":"dr-daily-report-ticker-scheduler-dev","type":"string"},"watchlist_table_arn":{"sensitive":false,"value":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev","type":"string"},"watchlist_table_name":{"sensitive":false,"value":"dr-daily-report-telegram-watchlist-dev","type":"string"},"webapp_bucket_arn":{"sensitive":false,"value":"arn:aws:s3:::dr-daily-report-webapp-dev","type":"string"},"webapp_bucket_name":{"sensitive":false,"value":"dr-daily-report-webapp-dev","type":"string"},"webapp_test_url":{"sensitive":false,"value":"https://d24cidhj2eghux.cloudfront.net","type":"string"},"webapp_url":{"sensitive":false,"value":"https://demjoigiw6myp.cloudfront.net","type":"string"},"webhook_url":{"sensitive":false,"value":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/","type":"string"}},"root_module":{"resources":[{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"755283537543","arn":"arn:aws:iam::755283537543:user/anak","id":"755283537543","user_id":"AIDA27WTIF2DTJQYWHMNT"},"sensitive_values":{}},{"address":"data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Asia Pacific (Singapore)","endpoint":"ec2.ap-southeast-1.amazonaws.com","id":"ap-southeast-1","name":"ap-southeast-1"},"sensitive_values":{}},{"address":"data.aws_subnets.default","mode":"data","type":"aws_subnets","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"filter":[{"name":"vpc-id","values":["vpc-0fb04b10ef8c3d18b"]}],"id":"ap-southeast-1","ids":["subnet-0bfaf6ef0e1a456a6","subnet-012d60cbb95430cd6","subnet-030760a3f13e4eacc","subnet-0da9ef11b7da7ce3a","subnet-0e3861e4ea942da39","subnet-0ef493a1aae3b4af4"],"tags":null,"timeouts":null},"sensitive_values":{"filter":[{"values":[false]}],"ids":[false,false,false,false,false,false]}},{"address":"data.aws_vpc.default","mode":"data","type":"aws_vpc","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:ap-southeast-1:755283537543:vpc/vpc-0fb04b10ef8c3d18b","cidr_block":"172.31.0.0/16","cidr_block_associations":[{"association_id":"vpc-cidr-assoc-0d0bf2ab38cb843b7","cidr_block":"172.31.0.0/16","state":"associated"}],"default":true,"dhcp_options_id":"dopt-08df77bf24ea81b97","enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"filter":null,"id":"vpc-0fb04b10ef8c3d18b","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-0511d32769468291d","owner_id":"755283537543","state":null,"tags":{},"timeouts":null},"sensitive_values":{"cidr_block_associations":[{}],"tags":{}}},{"address":"aws_apigatewayv2_api.telegram_api","mode":"managed","type":"aws_apigatewayv2_api","name":"telegram_api","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_endpoint":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com","api_key_selection_expression":"$request.header.x-api-key","arn":"arn:aws:apigateway:ap-southeast-1::/apis/ou0ivives1","body":null,"cors_configuration":[{"allow_credentials":false,"allow_headers":["authorization","content-type","x-telegram-init-data","x-telegram-user-id"],"allow_methods":["DELETE","GET","OPTIONS","POST","PUT"],"allow_origins":["https://d24cidhj2eghux.cloudfront.net","https://demjoigiw6myp.cloudfront.net","https://t.me","https://web.telegram.org"],"expose_headers":["x-request-id"],"max_age":300}],"credentials_arn":null,"description":"REST API for Telegram Mini App - ticker analysis and reports","disable_execute_api_endpoint":false,"execution_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1","fail_on_warnings":null,"id":"ou0ivives1","ip_address_type":"ipv4","name":"dr-daily-report-telegram-api-dev","protocol_type":"HTTP","route_key":null,"route_selection_expression":"$request.method $request.path","tags":{"App":"telegram-api","Component":"api-gateway","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"api-gateway","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"target":null,"version":""},"sensitive_values":{"cors_configuration":[{"allow_headers":[false,false,false,false],"allow_methods":[false,false,false,false,false],"allow_origins":[false,false,false,false],"expose_headers":[false]}],"tags":{},"tags_all":{}},"depends_on":["aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_s3_bucket.webapp"]},{"address":"aws_apigatewayv2_integration.telegram_lambda","mode":"managed","type":"aws_apigatewayv2_integration","name":"telegram_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","connection_id":"","connection_type":"INTERNET","content_handling_strategy":"","credentials_arn":"","description":"Lambda integration for Telegram Mini App API (via 'live' alias)","id":"goqnxp4","integration_method":"POST","integration_response_selection_expression":"","integration_subtype":"","integration_type":"AWS_PROXY","integration_uri":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live/invocations","passthrough_behavior":"","payload_format_version":"2.0","request_parameters":{},"request_templates":{},"response_parameters":[],"template_selection_expression":"","timeout_milliseconds":30000,"tls_config":[]},"sensitive_values":{"request_parameters":{},"request_templates":{},"response_parameters":[],"tls_config":[]},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_apigatewayv2_route.health","mode":"managed","type":"aws_apigatewayv2_route","name":"health","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"jcmgqkg","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/health","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_apigatewayv2_integration.telegram_lambda","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_apigatewayv2_route.rankings","mode":"managed","type":"aws_apigatewayv2_route","name":"rankings","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"dw2jatn","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/rankings","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_apigatewayv2_integration.telegram_lambda","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_apigatewayv2_route.report","mode":"managed","type":"aws_apigatewayv2_route","name":"report","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"c8o14m9","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/report/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_apigatewayv2_integration.telegram_lambda","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_apigatewayv2_route.report_async","mode":"managed","type":"aws_apigatewayv2_route","name":"report_async","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"l6xfusf","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"POST /api/v1/report/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_apigatewayv2_integration.telegram_lambda","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_apigatewayv2_route.report_status","mode":"managed","type":"aws_apigatewayv2_route","name":"report_status","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"nqdpehp","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/report/status/{job_id}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_apigatewayv2_integration.telegram_lambda","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_apigatewayv2_route.search","mode":"managed","type":"aws_apigatewayv2_route","name":"search","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"0oxllai","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/search","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_apigatewayv2_integration.telegram_lambda","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_apigatewayv2_route.telegram_default","mode":"managed","type":"aws_apigatewayv2_route","name":"telegram_default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"yt2o0k0","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"$default","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_apigatewayv2_integration.telegram_lambda","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_apigatewayv2_route.watchlist_delete","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_delete","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"4mtprf1","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"DELETE /api/v1/watchlist/{ticker}","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_apigatewayv2_integration.telegram_lambda","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_apigatewayv2_route.watchlist_get","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_get","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"nrnb18l","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"GET /api/v1/watchlist","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_apigatewayv2_integration.telegram_lambda","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_apigatewayv2_route.watchlist_post","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_post","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_id":"ou0ivives1","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"9re469s","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"POST /api/v1/watchlist","route_response_selection_expression":"","target":"integrations/goqnxp4"},"sensitive_values":{"authorization_scopes":[],"request_models":{},"request_parameter":[]},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_apigatewayv2_integration.telegram_lambda","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_apigatewayv2_stage.telegram_default","mode":"managed","type":"aws_apigatewayv2_stage","name":"telegram_default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_log_settings":[],"api_id":"ou0ivives1","arn":"arn:aws:apigateway:ap-southeast-1::/apis/ou0ivives1/stages/$default","auto_deploy":true,"client_certificate_id":"","default_route_settings":[{"data_trace_enabled":false,"detailed_metrics_enabled":true,"logging_level":"","throttling_burst_limit":100,"throttling_rate_limit":50}],"deployment_id":"vstlc5","description":"","execution_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1/$default","id":"$default","invoke_url":"https://ou0ivives1.execute-api.ap-southeast-1.amazonaws.com/","name":"$default","route_settings":[],"stage_variables":{},"tags":{"App":"telegram-api","Component":"api-gateway-stage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-stage-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"api-gateway-stage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-stage-dev","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"access_log_settings":[],"default_route_settings":[{}],"route_settings":[],"stage_variables":{},"tags":{},"tags_all":{}},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_cloudwatch_log_group.telegram_api_gateway_logs","aws_s3_bucket.webapp"]},{"address":"aws_cloudfront_distribution.webapp","mode":"managed","type":"aws_cloudfront_distribution","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"aliases":[],"arn":"arn:aws:cloudfront::755283537543:distribution/E2E287IAR2D3IG","caller_reference":"terraform-20251127164303156000000002","comment":"Telegram Mini App - dev","continuous_deployment_policy_id":"","custom_error_response":[{"error_caching_min_ttl":0,"error_code":403,"response_code":200,"response_page_path":"/index.html"},{"error_caching_min_ttl":0,"error_code":404,"response_code":200,"response_page_path":"/index.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":3600,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":86400,"min_ttl":0,"origin_request_policy_id":"","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"default_root_object":"index.html","domain_name":"demjoigiw6myp.cloudfront.net","enabled":true,"etag":"E1Z3GXR3SKI4SZ","hosted_zone_id":"Z2FDTNDATAQYW2","http_version":"http2","id":"E2E287IAR2D3IG","in_progress_validation_batches":0,"is_ipv6_enabled":true,"last_modified_time":"2025-11-27 16:43:03.394 +0000 UTC","logging_config":[],"ordered_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":300,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":3600,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.html","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.js","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.css","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","origin_access_control_id":"","origin_id":"S3-webapp","origin_path":"","origin_shield":[],"s3_origin_config":[{"origin_access_identity":"origin-access-identity/cloudfront/E3TW52UDU2O6GX"}],"vpc_origin_config":[]}],"origin_group":[],"price_class":"PriceClass_200","restrictions":[{"geo_restriction":[{"locations":[],"restriction_type":"none"}]}],"retain_on_delete":false,"staging":false,"status":"Deployed","tags":{"App":"telegram-api","Component":"frontend-cdn","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"frontend-cdn","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report"},"trusted_key_groups":[{"enabled":false,"items":[]}],"trusted_signers":[{"enabled":false,"items":[]}],"viewer_certificate":[{"acm_certificate_arn":"","cloudfront_default_certificate":true,"iam_certificate_id":"","minimum_protocol_version":"TLSv1","ssl_support_method":""}],"wait_for_deployment":true,"web_acl_id":""},"sensitive_values":{"aliases":[],"custom_error_response":[{},{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"logging_config":[],"ordered_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"origin":[{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[{}],"vpc_origin_config":[]}],"origin_group":[],"restrictions":[{"geo_restriction":[{"locations":[]}]}],"tags":{},"tags_all":{},"trusted_key_groups":[{"items":[]}],"trusted_signers":[{"items":[]}],"viewer_certificate":[{}]},"depends_on":["aws_cloudfront_origin_access_identity.webapp","aws_s3_bucket.webapp"]},{"address":"aws_cloudfront_distribution.webapp_test","mode":"managed","type":"aws_cloudfront_distribution","name":"webapp_test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"aliases":[],"arn":"arn:aws:cloudfront::755283537543:distribution/E3D4ZF0OMC5OI1","caller_reference":"terraform-20251130165524021200000001","comment":"Telegram Mini App TEST - dev (E2E testing)","continuous_deployment_policy_id":"","custom_error_response":[{"error_caching_min_ttl":0,"error_code":403,"response_code":200,"response_page_path":"/index.html"},{"error_caching_min_ttl":0,"error_code":404,"response_code":200,"response_page_path":"/index.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":3600,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":86400,"min_ttl":0,"origin_request_policy_id":"","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"default_root_object":"index.html","domain_name":"d24cidhj2eghux.cloudfront.net","enabled":true,"etag":"E2HXBFICS8BU85","hosted_zone_id":"Z2FDTNDATAQYW2","http_version":"http2","id":"E3D4ZF0OMC5OI1","in_progress_validation_batches":0,"is_ipv6_enabled":true,"last_modified_time":"2025-11-30 16:55:25.024 +0000 UTC","logging_config":[],"ordered_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":300,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":3600,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.html","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.js","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"","cached_methods":["GET","HEAD"],"compress":true,"default_ttl":86400,"field_level_encryption_id":"","forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":[]}],"headers":[],"query_string":false,"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{"enabled":false}],"lambda_function_association":[],"max_ttl":604800,"min_ttl":0,"origin_request_policy_id":"","path_pattern":"*.css","realtime_log_config_arn":"","response_headers_policy_id":"","smooth_streaming":false,"target_origin_id":"S3-webapp-test","trusted_key_groups":[],"trusted_signers":[],"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","origin_access_control_id":"","origin_id":"S3-webapp-test","origin_path":"","origin_shield":[],"s3_origin_config":[{"origin_access_identity":"origin-access-identity/cloudfront/E3TW52UDU2O6GX"}],"vpc_origin_config":[]}],"origin_group":[],"price_class":"PriceClass_200","restrictions":[{"geo_restriction":[{"locations":[],"restriction_type":"none"}]}],"retain_on_delete":false,"staging":false,"status":"Deployed","tags":{"App":"telegram-api","Component":"frontend-cdn-test","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-test-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report","Purpose":"e2e-testing"},"tags_all":{"App":"telegram-api","Component":"frontend-cdn-test","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-test-cloudfront-dev","Owner":"data-team","Project":"dr-daily-report","Purpose":"e2e-testing"},"trusted_key_groups":[{"enabled":false,"items":[]}],"trusted_signers":[{"enabled":false,"items":[]}],"viewer_certificate":[{"acm_certificate_arn":"","cloudfront_default_certificate":true,"iam_certificate_id":"","minimum_protocol_version":"TLSv1","ssl_support_method":""}],"wait_for_deployment":true,"web_acl_id":""},"sensitive_values":{"aliases":[],"custom_error_response":[{},{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"logging_config":[],"ordered_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{"whitelisted_names":[]}],"headers":[],"query_string_cache_keys":[]}],"function_association":[],"grpc_config":[{}],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"origin":[{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[{}],"vpc_origin_config":[]}],"origin_group":[],"restrictions":[{"geo_restriction":[{"locations":[]}]}],"tags":{},"tags_all":{},"trusted_key_groups":[{"items":[]}],"trusted_signers":[{"items":[]}],"viewer_certificate":[{}]},"depends_on":["aws_cloudfront_origin_access_identity.webapp","aws_s3_bucket.webapp"]},{"address":"aws_cloudfront_origin_access_identity.webapp","mode":"managed","type":"aws_cloudfront_origin_access_identity","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:cloudfront::755283537543:origin-access-identity/E3TW52UDU2O6GX","caller_reference":"terraform-20251127164301314600000001","cloudfront_access_identity_path":"origin-access-identity/cloudfront/E3TW52UDU2O6GX","comment":"OAI for dr-daily-report Telegram WebApp","etag":"E3UN6WX5RRO2AG","iam_arn":"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX","id":"E3TW52UDU2O6GX","s3_canonical_user_id":"b3f24f0623370da2a9961116b57ce34f1a50226b5ddf7a30d4e9aeaf057d65675c648567d3b8ccf9e59435ff05e57bab"},"sensitive_values":{}},{"address":"aws_cloudwatch_event_rule.daily_ticker_fetch","mode":"managed","type":"aws_cloudwatch_event_rule","name":"daily_ticker_fetch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:events:ap-southeast-1:755283537543:rule/dr-daily-report-daily-ticker-fetch-dev","description":"Fetch ticker data daily at 8 AM Bangkok time (UTC+7)","event_bus_name":"default","event_pattern":null,"force_destroy":false,"id":"dr-daily-report-daily-ticker-fetch-dev","is_enabled":true,"name":"dr-daily-report-daily-ticker-fetch-dev","name_prefix":"","role_arn":"","schedule_expression":"cron(0 1 * * ? *)","state":"ENABLED","tags":{"App":"telegram-api","Component":"scheduler-trigger","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-daily-ticker-fetch-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"tags_all":{"App":"telegram-api","Component":"scheduler-trigger","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-daily-ticker-fetch-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_cloudwatch_event_target.ticker_scheduler","mode":"managed","type":"aws_cloudwatch_event_target","name":"ticker_scheduler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"appsync_target":[],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev","batch_target":[],"dead_letter_config":[],"ecs_target":[],"event_bus_name":"default","force_destroy":false,"http_target":[],"id":"dr-daily-report-daily-ticker-fetch-dev-ticker-scheduler-lambda","input":"{\"action\":\"precompute\",\"include_report\":true}","input_path":"","input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"role_arn":"","rule":"dr-daily-report-daily-ticker-fetch-dev","run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[],"target_id":"ticker-scheduler-lambda"},"sensitive_values":{"appsync_target":[],"batch_target":[],"dead_letter_config":[],"ecs_target":[],"http_target":[],"input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[]},"depends_on":["aws_cloudwatch_event_rule.daily_ticker_fetch","aws_db_subnet_group.aurora","aws_ecr_repository.lambda","aws_iam_role.telegram_lambda_role","aws_iam_role_policy.telegram_lambda_custom","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_lambda_function.ticker_scheduler","aws_rds_cluster.aurora","aws_s3_bucket.pdf_reports","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_caller_identity.current","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_cloudwatch_log_group.telegram_api_gateway_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"telegram_api_gateway_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/apigateway/dr-daily-report-telegram-api-dev","id":"/aws/apigateway/dr-daily-report-telegram-api-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/apigateway/dr-daily-report-telegram-api-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-gateway-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-gateway-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_cloudwatch_log_group.telegram_api_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"telegram_api_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/lambda/dr-daily-report-telegram-api-dev","id":"/aws/lambda/dr-daily-report-telegram-api-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/lambda/dr-daily-report-telegram-api-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_cloudwatch_log_group.ticker_scheduler_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"ticker_scheduler_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:logs:ap-southeast-1:755283537543:log-group:/aws/lambda/dr-daily-report-ticker-scheduler-dev","id":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","name_prefix":"","retention_in_days":7,"skip_destroy":false,"tags":{"App":"telegram-api","Component":"scheduler-logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-logs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"scheduler-logging","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-logs-dev","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["aws_db_subnet_group.aurora","aws_ecr_repository.lambda","aws_iam_role.telegram_lambda_role","aws_iam_role_policy.telegram_lambda_custom","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_lambda_function.ticker_scheduler","aws_rds_cluster.aurora","aws_s3_bucket.pdf_reports","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_caller_identity.current","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_cloudwatch_metric_alarm.api_4xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_4xx_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"API Gateway 4xx error rate is high (\u003e50 errors in 15 minutes)","alarm_name":"dr-daily-report-api-4xx-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-api-4xx-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"ApiId":"ou0ivives1"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":3,"extended_statistic":"","id":"dr-daily-report-api-4xx-dev","insufficient_data_actions":[],"metric_name":"4xx","metric_query":[],"namespace":"AWS/ApiGateway","ok_actions":[],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-4xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-4xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":50,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[],"tags":{},"tags_all":{}},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_s3_bucket.webapp","aws_sns_topic.telegram_alerts"]},{"address":"aws_cloudwatch_metric_alarm.api_5xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_5xx_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"API Gateway 5xx error rate is high (\u003e10 errors in 5 minutes)","alarm_name":"dr-daily-report-api-5xx-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-api-5xx-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"ApiId":"ou0ivives1"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-api-5xx-dev","insufficient_data_actions":[],"metric_name":"5xx","metric_query":[],"namespace":"AWS/ApiGateway","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-5xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-api-5xx-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":10,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_s3_bucket.webapp","aws_sns_topic.telegram_alerts"]},{"address":"aws_cloudwatch_metric_alarm.dlq_messages","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"dlq_messages","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Messages in DLQ - report jobs are failing","alarm_name":"dr-daily-report-dlq-messages-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-dlq-messages-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"QueueName":"dr-daily-report-report-jobs-dlq-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":1,"extended_statistic":"","id":"dr-daily-report-dlq-messages-dev","insufficient_data_actions":[],"metric_name":"ApproximateNumberOfMessagesVisible","metric_query":[],"namespace":"AWS/SQS","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dlq-messages-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dlq-messages-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":1,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}},"depends_on":["aws_sns_topic.telegram_alerts","aws_sqs_queue.report_jobs_dlq"]},{"address":"aws_cloudwatch_metric_alarm.report_worker_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"report_worker_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Report Worker Lambda error rate is high (\u003e3 errors in 5 minutes)","alarm_name":"dr-daily-report-report-worker-errors-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-report-worker-errors-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-report-worker-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-report-worker-errors-dev","insufficient_data_actions":[],"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":3,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}},"depends_on":["aws_db_subnet_group.aurora","aws_dynamodb_table.report_jobs","aws_ecr_repository.lambda","aws_iam_role.report_worker_role","aws_iam_role_policy_attachment.report_worker_basic","aws_lambda_function.report_worker","aws_rds_cluster.aurora","aws_s3_bucket.pdf_reports","aws_security_group.aurora","aws_security_group.lambda_aurora","aws_sns_topic.telegram_alerts","data.aws_caller_identity.current","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_cloudwatch_metric_alarm.telegram_api_duration","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"telegram_api_duration","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Telegram API Lambda average duration is approaching timeout","alarm_name":"dr-daily-report-telegram-api-duration-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-telegram-api-duration-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-telegram-api-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-telegram-api-duration-dev","insufficient_data_actions":[],"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Average","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-duration-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-duration-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":45000,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}},"depends_on":["aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_sns_topic.telegram_alerts","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_cloudwatch_metric_alarm.telegram_api_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"telegram_api_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"alarm_description":"Telegram API Lambda error rate is high (\u003e5 errors in 5 minutes)","alarm_name":"dr-daily-report-telegram-api-errors-dev","arn":"arn:aws:cloudwatch:ap-southeast-1:755283537543:alarm:dr-daily-report-telegram-api-errors-dev","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":0,"dimensions":{"FunctionName":"dr-daily-report-telegram-api-dev"},"evaluate_low_sample_count_percentiles":"","evaluation_periods":2,"extended_statistic":"","id":"dr-daily-report-telegram-api-errors-dev","insufficient_data_actions":[],"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":["arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev"],"period":300,"statistic":"Sum","tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-errors-alarm-dev","Owner":"data-team","Project":"dr-daily-report"},"threshold":5,"threshold_metric_id":"","treat_missing_data":"notBreaching","unit":""},"sensitive_values":{"alarm_actions":[false],"dimensions":{},"insufficient_data_actions":[],"metric_query":[],"ok_actions":[false],"tags":{},"tags_all":{}},"depends_on":["aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_sns_topic.telegram_alerts","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_db_subnet_group.aurora[0]","mode":"managed","type":"aws_db_subnet_group","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:rds:ap-southeast-1:755283537543:subgrp:dr-daily-report-aurora-dev","description":"Subnet group for Aurora cluster","id":"dr-daily-report-aurora-dev","name":"dr-daily-report-aurora-dev","name_prefix":"","subnet_ids":["subnet-012d60cbb95430cd6","subnet-030760a3f13e4eacc","subnet-0bfaf6ef0e1a456a6","subnet-0da9ef11b7da7ce3a","subnet-0e3861e4ea942da39","subnet-0ef493a1aae3b4af4"],"supported_network_types":["IPV4"],"tags":{"App":"shared","Component":"aurora-subnet-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-subnet-group","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-subnet-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-subnet-group","Owner":"data-team","Project":"dr-daily-report"},"vpc_id":"vpc-0fb04b10ef8c3d18b"},"sensitive_values":{"subnet_ids":[false,false,false,false,false,false],"supported_network_types":[false],"tags":{},"tags_all":{}},"depends_on":["data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_dynamodb_table.report_jobs","mode":"managed","type":"aws_dynamodb_table","name":"report_jobs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev","attribute":[{"name":"job_id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"job_id","id":"dr-daily-report-telegram-jobs-dev","import_table":[],"local_secondary_index":[],"name":"dr-daily-report-telegram-jobs-dev","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":null,"read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"App":"telegram-api","Component":"job-storage","CostCenter":"engineering","DataType":"async-jobs","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"job-storage","CostCenter":"engineering","DataType":"async-jobs","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"ttl":[{"attribute_name":"ttl","enabled":true}],"write_capacity":0},"sensitive_values":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]}},{"address":"aws_dynamodb_table.telegram_watchlist","mode":"managed","type":"aws_dynamodb_table","name":"telegram_watchlist","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev","attribute":[{"name":"ticker","type":"S"},{"name":"user_id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"user_id","id":"dr-daily-report-telegram-watchlist-dev","import_table":[],"local_secondary_index":[],"name":"dr-daily-report-telegram-watchlist-dev","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":"ticker","read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"App":"telegram-api","Component":"watchlist-storage","CostCenter":"engineering","DataType":"user-preferences","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-watchlist-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"watchlist-storage","CostCenter":"engineering","DataType":"user-preferences","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-watchlist-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"ttl":[{"attribute_name":"ttl","enabled":true}],"write_capacity":0},"sensitive_values":{"attribute":[{},{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[],"tags":{},"tags_all":{},"ttl":[{}]}},{"address":"aws_ecr_lifecycle_policy.lambda","mode":"managed","type":"aws_ecr_lifecycle_policy","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-lambda-dev","policy":"{\"rules\":[{\"action\":{\"type\":\"expire\"},\"description\":\"Keep last 20 versioned images for rollback\",\"rulePriority\":1,\"selection\":{\"countNumber\":20,\"countType\":\"imageCountMoreThan\",\"tagPrefixList\":[\"v\",\"sha-\"],\"tagStatus\":\"tagged\"}},{\"action\":{\"type\":\"expire\"},\"description\":\"Expire untagged images after 1 day\",\"rulePriority\":2,\"selection\":{\"countNumber\":1,\"countType\":\"sinceImagePushed\",\"countUnit\":\"days\",\"tagStatus\":\"untagged\"}}]}","registry_id":"755283537543","repository":"dr-daily-report-lambda-dev"},"sensitive_values":{},"depends_on":["aws_ecr_repository.lambda"]},{"address":"aws_ecr_repository.lambda","mode":"managed","type":"aws_ecr_repository","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ecr:ap-southeast-1:755283537543:repository/dr-daily-report-lambda-dev","encryption_configuration":[{"encryption_type":"AES256","kms_key":""}],"force_delete":null,"id":"dr-daily-report-lambda-dev","image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"IMMUTABLE","name":"dr-daily-report-lambda-dev","registry_id":"755283537543","repository_url":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev","tags":{"Component":"container-registry","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"Component":"container-registry","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null},"sensitive_values":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags":{},"tags_all":{}}},{"address":"aws_ecr_repository_policy.lambda","mode":"managed","type":"aws_ecr_repository_policy","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-lambda-dev","policy":"{\"Statement\":[{\"Action\":[\"ecr:BatchGetImage\",\"ecr:GetDownloadUrlForLayer\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"LambdaECRImageRetrievalPolicy\"}],\"Version\":\"2012-10-17\"}","registry_id":"755283537543","repository":"dr-daily-report-lambda-dev"},"sensitive_values":{},"depends_on":["aws_ecr_repository.lambda"]},{"address":"aws_iam_policy.dynamodb_access","mode":"managed","type":"aws_iam_policy","name":"dynamodb_access","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","attachment_count":2,"description":"Allow Lambda to access DynamoDB tables for Telegram Mini App","id":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","name":"dr-daily-report-dynamodb-access-dev","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\",\"dynamodb:DeleteItem\",\"dynamodb:Query\",\"dynamodb:Scan\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-watchlist-dev\"]}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA27WTIF2D7ZYGM7XCJ","tags":{"App":"telegram-api","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dynamodb-access-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-dynamodb-access-dev","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["aws_dynamodb_table.telegram_watchlist"]},{"address":"aws_iam_policy.lambda_aurora_access[0]","mode":"managed","type":"aws_iam_policy","name":"lambda_aurora_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","attachment_count":2,"description":"Allow Lambda to access Aurora cluster","id":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","name":"dr-daily-report-lambda-aurora-access-dev","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"rds:DescribeDBClusters\",\"rds:DescribeDBInstances\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:rds:ap-southeast-1:755283537543:cluster:dr-daily-report-aurora-dev\"},{\"Action\":[\"ec2:CreateNetworkInterface\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DeleteNetworkInterface\",\"ec2:AssignPrivateIpAddresses\",\"ec2:UnassignPrivateIpAddresses\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPA27WTIF2D27LU7R5RW","tags":{"App":"shared","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-policy","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"iam-policy","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-policy","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["aws_db_subnet_group.aurora","aws_rds_cluster.aurora","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_iam_role.lambda_role","mode":"managed","type":"aws_iam_role","name":"lambda_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::755283537543:role/line-bot-ticker-report-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-09T11:18:50Z","description":"","force_detach_policies":false,"id":"line-bot-ticker-report-role","inline_policy":[{"name":"line-bot-ticker-report-custom-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-ticker-deploy-20251030/python-libs/*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-staging","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"],"max_session_duration":3600,"name":"line-bot-ticker-report-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"line-bot","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-ticker-report-role","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"line-bot","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-ticker-report-role","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DZASRHSVNV"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[false,false,false,false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role.report_worker_role","mode":"managed","type":"aws_iam_role","name":"report_worker_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::755283537543:role/dr-daily-report-report-worker-role-dev","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-30T23:41:16Z","description":"","force_detach_policies":false,"id":"dr-daily-report-report-worker-role-dev","inline_policy":[{"name":"dr-daily-report-report-worker-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"],"max_session_duration":3600,"name":"dr-daily-report-report-worker-role-dev","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-role-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-role-dev","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DQFNXZHPU3"},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[false,false,false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role.telegram_lambda_role","mode":"managed","type":"aws_iam_role","name":"telegram_lambda_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-30T23:41:16Z","description":"","force_detach_policies":false,"id":"dr-daily-report-telegram-api-role-dev","inline_policy":[{"name":"dr-daily-report-scheduler-secrets-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT\"}]}"},{"name":"dr-daily-report-telegram-api-async-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\",\"sqs:GetQueueUrl\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"}]}"},{"name":"dr-daily-report-telegram-api-custom-policy-dev","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"}],"managed_policy_arns":["arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"max_session_duration":3600,"name":"dr-daily-report-telegram-api-role-dev","name_prefix":"","path":"/","permissions_boundary":"","tags":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-role-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"iam-role","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-role-dev","Owner":"data-team","Project":"dr-daily-report"},"unique_id":"AROA27WTIF2DS7W4AE6FV"},"sensitive_values":{"inline_policy":[{},{},{}],"managed_policy_arns":[false,false,false],"tags":{},"tags_all":{}}},{"address":"aws_iam_role_policy.lambda_custom","mode":"managed","type":"aws_iam_role_policy","name":"lambda_custom","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"line-bot-ticker-report-role:line-bot-ticker-report-custom-policy","name":"line-bot-ticker-report-custom-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-ticker-deploy-20251030/python-libs/*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"line-bot-ticker-report-role"},"sensitive_values":{},"depends_on":["aws_iam_role.lambda_role","aws_s3_bucket.pdf_reports","data.aws_caller_identity.current"]},{"address":"aws_iam_role_policy.report_worker_policy","mode":"managed","type":"aws_iam_role_policy","name":"report_worker_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-report-worker-role-dev:dr-daily-report-report-worker-policy-dev","name":"dr-daily-report-report-worker-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"}]}","role":"dr-daily-report-report-worker-role-dev"},"sensitive_values":{},"depends_on":["aws_dynamodb_table.report_jobs","aws_iam_role.report_worker_role","aws_s3_bucket.pdf_reports","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_iam_role_policy.scheduler_secrets_access[0]","mode":"managed","type":"aws_iam_role_policy","name":"scheduler_secrets_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-scheduler-secrets-dev","name":"dr-daily-report-scheduler-secrets-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{},"depends_on":["aws_iam_role.telegram_lambda_role","aws_secretsmanager_secret.aurora_credentials"]},{"address":"aws_iam_role_policy.telegram_api_async_policy","mode":"managed","type":"aws_iam_role_policy","name":"telegram_api_async_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-telegram-api-async-policy-dev","name":"dr-daily-report-telegram-api-async-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"sqs:SendMessage\",\"sqs:GetQueueUrl\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev\"},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\",\"dynamodb:UpdateItem\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:dynamodb:ap-southeast-1:755283537543:table/dr-daily-report-telegram-jobs-dev\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{},"depends_on":["aws_dynamodb_table.report_jobs","aws_iam_role.telegram_lambda_role","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq"]},{"address":"aws_iam_role_policy.telegram_lambda_custom","mode":"managed","type":"aws_iam_role_policy","name":"telegram_lambda_custom","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev:dr-daily-report-telegram-api-custom-policy-dev","name":"dr-daily-report-telegram-api-custom-policy-dev","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::line-bot-pdf-reports-755283537543\"},{\"Action\":[\"ecr:GetAuthorizationToken\",\"ecr:BatchCheckLayerAvailability\",\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{},"depends_on":["aws_iam_role.telegram_lambda_role","aws_s3_bucket.pdf_reports","data.aws_caller_identity.current"]},{"address":"aws_iam_role_policy_attachment.lambda_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"line-bot-ticker-report-role-20251124172528934200000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"line-bot-ticker-report-role"},"sensitive_values":{},"depends_on":["aws_iam_role.lambda_role"]},{"address":"aws_iam_role_policy_attachment.lambda_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"line-bot-ticker-report-role-20251201093319494900000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","role":"line-bot-ticker-report-role"},"sensitive_values":{},"depends_on":["aws_dynamodb_table.telegram_watchlist","aws_iam_policy.dynamodb_access","aws_iam_role.lambda_role"]},{"address":"aws_iam_role_policy_attachment.report_worker_aurora_access[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_aurora_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-report-worker-role-dev-20251202035458961100000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","role":"dr-daily-report-report-worker-role-dev"},"sensitive_values":{},"depends_on":["aws_db_subnet_group.aurora","aws_iam_policy.lambda_aurora_access","aws_iam_role.report_worker_role","aws_rds_cluster.aurora","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_iam_role_policy_attachment.report_worker_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-report-worker-role-dev-20251201092614130100000001","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"dr-daily-report-report-worker-role-dev"},"sensitive_values":{},"depends_on":["aws_iam_role.report_worker_role"]},{"address":"aws_iam_role_policy_attachment.report_worker_vpc[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_vpc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-report-worker-role-dev-20251202035458990000000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"dr-daily-report-report-worker-role-dev"},"sensitive_values":{},"depends_on":["aws_iam_role.report_worker_role"]},{"address":"aws_iam_role_policy_attachment.scheduler_aurora_access[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"scheduler_aurora_access","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev-20251201102155921900000001","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-lambda-aurora-access-dev","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{},"depends_on":["aws_db_subnet_group.aurora","aws_iam_policy.lambda_aurora_access","aws_iam_role.telegram_lambda_role","aws_rds_cluster.aurora","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_iam_role_policy_attachment.telegram_lambda_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"telegram_lambda_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev-20251201092614155200000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{},"depends_on":["aws_iam_role.telegram_lambda_role"]},{"address":"aws_iam_role_policy_attachment.telegram_lambda_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"telegram_lambda_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"dr-daily-report-telegram-api-role-dev-20251201093319495100000002","policy_arn":"arn:aws:iam::755283537543:policy/dr-daily-report-dynamodb-access-dev","role":"dr-daily-report-telegram-api-role-dev"},"sensitive_values":{},"depends_on":["aws_dynamodb_table.telegram_watchlist","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role"]},{"address":"aws_lambda_alias.report_worker_live","mode":"managed","type":"aws_lambda_alias","name":"report_worker_live","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","description":"Production alias for report worker - update to rollback","function_name":"dr-daily-report-report-worker-dev","function_version":"23","id":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live/invocations","name":"live","routing_config":[]},"sensitive_values":{"routing_config":[]},"depends_on":["aws_db_subnet_group.aurora","aws_dynamodb_table.report_jobs","aws_ecr_repository.lambda","aws_iam_role.report_worker_role","aws_iam_role_policy_attachment.report_worker_basic","aws_lambda_function.report_worker","aws_rds_cluster.aurora","aws_s3_bucket.pdf_reports","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_caller_identity.current","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_lambda_alias.telegram_api_live","mode":"managed","type":"aws_lambda_alias","name":"telegram_api_live","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live","description":"Production traffic alias - update to rollback","function_name":"dr-daily-report-telegram-api-dev","function_version":"32","id":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:live/invocations","name":"live","routing_config":[]},"sensitive_values":{"routing_config":[]},"depends_on":["aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_lambda_event_source_mapping.report_jobs_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"report_jobs_trigger","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:event-source-mapping:455b7398-b7b4-4305-a243-a5b40ec0466a","batch_size":1,"bisect_batch_on_function_error":false,"destination_config":[],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","filter_criteria":[],"function_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","function_name":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:live","function_response_types":[],"id":"455b7398-b7b4-4305-a243-a5b40ec0466a","kms_key_arn":"","last_modified":"2025-11-30T23:42:26Z","last_processing_result":"","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":0,"maximum_retry_attempts":0,"metrics_config":[],"parallelization_factor":0,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"USER_INITIATED","tags":{},"tags_all":{},"topics":[],"tumbling_window_in_seconds":0,"uuid":"455b7398-b7b4-4305-a243-a5b40ec0466a"},"sensitive_values":{"amazon_managed_kafka_event_source_config":[],"destination_config":[],"document_db_event_source_config":[],"filter_criteria":[],"function_response_types":[],"metrics_config":[],"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"tags":{},"tags_all":{},"topics":[]},"depends_on":["aws_db_subnet_group.aurora","aws_dynamodb_table.report_jobs","aws_ecr_repository.lambda","aws_iam_role.report_worker_role","aws_iam_role_policy.report_worker_policy","aws_iam_role_policy_attachment.report_worker_basic","aws_lambda_alias.report_worker_live","aws_lambda_function.report_worker","aws_rds_cluster.aurora","aws_s3_bucket.pdf_reports","aws_security_group.aurora","aws_security_group.lambda_aurora","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_lambda_function.line_bot","mode":"managed","type":"aws_lambda_function","name":"line_bot","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"CACHE_BACKEND":"hybrid","CACHE_TTL_HOURS":"24","LINE_CHANNEL_ACCESS_TOKEN":"cxxp26wwR/7Mi4/uIV/Uma9VioBm2IqDchSkZR9XbWRorvfz24Lj359QLFc8rSDoe0azQtH8fGXpVQcbTFNce+RUPBLtPtkFnoztFp5LXaXXSY2ozC+MHd98A1vG8XI6Jq5B1jvxx8lwPXIr86TgpQdB04t89/1O/w1cDnyilFU=","LINE_CHANNEL_SECRET":"7af68e03b93401de6eb46f81bd87b267","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543","PDF_URL_EXPIRATION_HOURS":"24"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"line-bot-ticker-report","handler":"","id":"line-bot-ticker-report","image_config":[{"command":["lambda_handler.lambda_handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/line-bot-ticker-report","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":false,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/line-bot-ticker-report-role","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"line-bot","Component":"webhook-handler","CostCenter":"engineering","Environment":"dev","Interface":"function-url","ManagedBy":"Terraform","Name":"line-bot-ticker-report","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"line-bot","Component":"webhook-handler","CostCenter":"engineering","Environment":"dev","Interface":"function-url","ManagedBy":"Terraform","Name":"line-bot-ticker-report","Owner":"data-team","Project":"dr-daily-report"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"LINE_CHANNEL_ACCESS_TOKEN":true,"LINE_CHANNEL_SECRET":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"depends_on":["aws_ecr_repository.lambda","aws_iam_role.lambda_role","aws_iam_role_policy_attachment.lambda_basic","aws_s3_bucket.pdf_reports","data.aws_caller_identity.current"]},{"address":"aws_lambda_function.report_worker","mode":"managed","type":"aws_lambda_function","name":"report_worker","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"AURORA_DATABASE":"ticker_data","AURORA_HOST":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","AURORA_PASSWORD":"AuroraDevDb2025SecureX1","AURORA_PORT":"3306","AURORA_USER":"admin","JOBS_TABLE_NAME":"dr-daily-report-telegram-jobs-dev","LANGSMITH_API_KEY":"","LANGSMITH_TRACING_V2":"false","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-report-worker-dev","handler":"","id":"dr-daily-report-report-worker-dev","image_config":[{"command":["report_worker_handler.handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-report-worker-dev","system_log_level":""}],"memory_size":1024,"package_type":"Image","publish":true,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:25","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-report-worker-dev:25/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-report-worker-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"report-worker","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-dev","Owner":"data-team","Project":"dr-daily-report","Trigger":"sqs"},"tags_all":{"App":"telegram-api","Component":"report-worker","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-worker-dev","Owner":"data-team","Project":"dr-daily-report","Trigger":"sqs"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"25","vpc_config":[{"ipv6_allowed_for_dual_stack":false,"security_group_ids":["sg-0185a0d8d92968d03"],"subnet_ids":["subnet-012d60cbb95430cd6","subnet-030760a3f13e4eacc","subnet-0bfaf6ef0e1a456a6","subnet-0da9ef11b7da7ce3a","subnet-0e3861e4ea942da39","subnet-0ef493a1aae3b4af4"],"vpc_id":"vpc-0fb04b10ef8c3d18b"}]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"AURORA_PASSWORD":true,"LANGSMITH_API_KEY":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[false],"subnet_ids":[false,false,false,false,false,false]}]},"depends_on":["aws_db_subnet_group.aurora","aws_dynamodb_table.report_jobs","aws_ecr_repository.lambda","aws_iam_role.report_worker_role","aws_iam_role_policy_attachment.report_worker_basic","aws_rds_cluster.aurora","aws_s3_bucket.pdf_reports","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_caller_identity.current","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_lambda_function.telegram_api","mode":"managed","type":"aws_lambda_function","name":"telegram_api","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"CACHE_BACKEND":"hybrid","CACHE_TTL_HOURS":"24","DYNAMODB_WATCHLIST_TABLE":"dr-daily-report-telegram-watchlist-dev","ENVIRONMENT":"dev","JOBS_TABLE_NAME":"dr-daily-report-telegram-jobs-dev","LANGSMITH_API_KEY":"","LANGSMITH_TRACING_V2":"false","LOG_LEVEL":"INFO","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543","PDF_STORAGE_BUCKET":"line-bot-pdf-reports-755283537543","PDF_URL_EXPIRATION_HOURS":"24","REPORT_JOBS_QUEUE_URL":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","TELEGRAM_APP_HASH":"","TELEGRAM_APP_ID":"","TELEGRAM_BOT_TOKEN":"","TELEGRAM_WEBAPP_URL":"https://demjoigiw6myp.cloudfront.net"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-telegram-api-dev","handler":"","id":"dr-daily-report-telegram-api-dev","image_config":[{"command":["telegram_lambda_handler.handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-telegram-api-dev","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":true,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:34","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-telegram-api-dev:34/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"rest-api","CostCenter":"engineering","Environment":"dev","Interface":"api-gateway","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"rest-api","CostCenter":"engineering","Environment":"dev","Interface":"api-gateway","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-api-dev","Owner":"data-team","Project":"dr-daily-report"},"timeout":120,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"34","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"LANGSMITH_API_KEY":true,"OPENROUTER_API_KEY":true,"TELEGRAM_APP_HASH":true,"TELEGRAM_APP_ID":true,"TELEGRAM_BOT_TOKEN":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"depends_on":["aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_s3_bucket.pdf_reports","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_lambda_function.ticker_scheduler","mode":"managed","type":"aws_lambda_function","name":"ticker_scheduler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev","code_sha256":"8098f774a0a7f1323878de74eb32e165be576b83523d1b3cc1385728cd210a21","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"AURORA_DATABASE":"ticker_data","AURORA_HOST":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","AURORA_PASSWORD":"AuroraDevDb2025SecureX1","AURORA_PORT":"3306","AURORA_USER":"admin","ENVIRONMENT":"dev","LOG_LEVEL":"INFO","OPENROUTER_API_KEY":"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","PDF_BUCKET_NAME":"line-bot-pdf-reports-755283537543"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"dr-daily-report-ticker-scheduler-dev","handler":"","id":"dr-daily-report-ticker-scheduler-dev","image_config":[{"command":["src.scheduler.handler.lambda_handler"],"entry_point":[],"working_directory":""}],"image_uri":"755283537543.dkr.ecr.ap-southeast-1.amazonaws.com/dr-daily-report-lambda-dev:v20251201182404","invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:28:14.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/dr-daily-report-ticker-scheduler-dev","system_log_level":""}],"memory_size":512,"package_type":"Image","publish":false,"qualified_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/arn:aws:lambda:ap-southeast-1:755283537543:function:dr-daily-report-ticker-scheduler-dev:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::755283537543:role/dr-daily-report-telegram-api-role-dev","runtime":"","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"","source_code_size":0,"tags":{"App":"telegram-api","Component":"scheduler","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"tags_all":{"App":"telegram-api","Component":"scheduler","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-ticker-scheduler-dev","Owner":"data-team","Project":"dr-daily-report","Schedule":"daily-8am-bangkok"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[{"ipv6_allowed_for_dual_stack":false,"security_group_ids":["sg-0185a0d8d92968d03"],"subnet_ids":["subnet-012d60cbb95430cd6","subnet-030760a3f13e4eacc","subnet-0bfaf6ef0e1a456a6","subnet-0da9ef11b7da7ce3a","subnet-0e3861e4ea942da39","subnet-0ef493a1aae3b4af4"],"vpc_id":"vpc-0fb04b10ef8c3d18b"}]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{"AURORA_PASSWORD":true,"OPENROUTER_API_KEY":true}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[{"command":[false],"entry_point":[]}],"layers":[],"logging_config":[{}],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[false],"subnet_ids":[false,false,false,false,false,false]}]},"depends_on":["aws_db_subnet_group.aurora","aws_ecr_repository.lambda","aws_iam_role.telegram_lambda_role","aws_iam_role_policy.telegram_lambda_custom","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_rds_cluster.aurora","aws_s3_bucket.pdf_reports","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_caller_identity.current","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_lambda_function_url.line_webhook","mode":"managed","type":"aws_lambda_function_url","name":"line_webhook","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"authorization_type":"NONE","cors":[{"allow_credentials":false,"allow_headers":["*"],"allow_methods":["GET","POST"],"allow_origins":["*"],"expose_headers":[],"max_age":0}],"function_arn":"arn:aws:lambda:ap-southeast-1:755283537543:function:line-bot-ticker-report","function_name":"line-bot-ticker-report","function_url":"https://h53gesnt3xw5ggnqx6dywbc2640ffpnp.lambda-url.ap-southeast-1.on.aws/","id":"line-bot-ticker-report","invoke_mode":"BUFFERED","qualifier":"","timeouts":null,"url_id":"h53gesnt3xw5ggnqx6dywbc2640ffpnp"},"sensitive_values":{"cors":[{"allow_headers":[false],"allow_methods":[false,false],"allow_origins":[false],"expose_headers":[]}]},"depends_on":["aws_ecr_repository.lambda","aws_iam_role.lambda_role","aws_iam_role_policy_attachment.lambda_basic","aws_lambda_function.line_bot","aws_s3_bucket.pdf_reports","data.aws_caller_identity.current"]},{"address":"aws_lambda_permission.eventbridge_invoke_scheduler","mode":"managed","type":"aws_lambda_permission","name":"eventbridge_invoke_scheduler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-ticker-scheduler-dev","function_url_auth_type":null,"id":"AllowEventBridgeInvoke","principal":"events.amazonaws.com","principal_org_id":null,"qualifier":"","source_account":null,"source_arn":"arn:aws:events:ap-southeast-1:755283537543:rule/dr-daily-report-daily-ticker-fetch-dev","statement_id":"AllowEventBridgeInvoke","statement_id_prefix":""},"sensitive_values":{},"depends_on":["aws_cloudwatch_event_rule.daily_ticker_fetch","aws_db_subnet_group.aurora","aws_ecr_repository.lambda","aws_iam_role.telegram_lambda_role","aws_iam_role_policy.telegram_lambda_custom","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_lambda_function.ticker_scheduler","aws_rds_cluster.aurora","aws_s3_bucket.pdf_reports","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_caller_identity.current","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_lambda_permission.report_worker_sqs","mode":"managed","type":"aws_lambda_permission","name":"report_worker_sqs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-report-worker-dev","function_url_auth_type":null,"id":"AllowSQSInvoke","principal":"sqs.amazonaws.com","principal_org_id":null,"qualifier":"live","source_account":null,"source_arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","statement_id":"AllowSQSInvoke","statement_id_prefix":""},"sensitive_values":{},"depends_on":["aws_db_subnet_group.aurora","aws_dynamodb_table.report_jobs","aws_ecr_repository.lambda","aws_iam_role.report_worker_role","aws_iam_role_policy_attachment.report_worker_basic","aws_lambda_alias.report_worker_live","aws_lambda_function.report_worker","aws_rds_cluster.aurora","aws_s3_bucket.pdf_reports","aws_security_group.aurora","aws_security_group.lambda_aurora","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_lambda_permission.telegram_api_gateway","mode":"managed","type":"aws_lambda_permission","name":"telegram_api_gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"dr-daily-report-telegram-api-dev","function_url_auth_type":null,"id":"AllowAPIGatewayInvoke","principal":"apigateway.amazonaws.com","principal_org_id":null,"qualifier":"live","source_account":null,"source_arn":"arn:aws:execute-api:ap-southeast-1:755283537543:ou0ivives1/*/*","statement_id":"AllowAPIGatewayInvoke","statement_id_prefix":""},"sensitive_values":{},"depends_on":["aws_apigatewayv2_api.telegram_api","aws_cloudfront_distribution.webapp_test","aws_cloudfront_origin_access_identity.webapp","aws_dynamodb_table.report_jobs","aws_dynamodb_table.telegram_watchlist","aws_ecr_repository.lambda","aws_iam_policy.dynamodb_access","aws_iam_role.telegram_lambda_role","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb","aws_lambda_alias.telegram_api_live","aws_lambda_function.telegram_api","aws_s3_bucket.pdf_reports","aws_s3_bucket.webapp","aws_sqs_queue.report_jobs","aws_sqs_queue.report_jobs_dlq","data.aws_caller_identity.current"]},{"address":"aws_rds_cluster.aurora[0]","mode":"managed","type":"aws_rds_cluster","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"allocated_storage":1,"allow_major_version_upgrade":null,"apply_immediately":null,"arn":"arn:aws:rds:ap-southeast-1:755283537543:cluster:dr-daily-report-aurora-dev","availability_zones":["ap-southeast-1a","ap-southeast-1b","ap-southeast-1c"],"backtrack_window":0,"backup_retention_period":7,"ca_certificate_identifier":null,"ca_certificate_valid_till":null,"cluster_identifier":"dr-daily-report-aurora-dev","cluster_identifier_prefix":"","cluster_members":["dr-daily-report-aurora-instance-dev"],"cluster_resource_id":"cluster-HZWPMPCG6MDP34DFU2QTN4JXD4","cluster_scalability_type":"","copy_tags_to_snapshot":false,"database_insights_mode":"standard","database_name":"ticker_data","db_cluster_instance_class":"","db_cluster_parameter_group_name":"default.aurora-mysql8.0","db_instance_parameter_group_name":null,"db_subnet_group_name":"dr-daily-report-aurora-dev","db_system_id":"","delete_automated_backups":true,"deletion_protection":false,"domain":"","domain_iam_role_name":"","enable_global_write_forwarding":false,"enable_http_endpoint":false,"enable_local_write_forwarding":false,"enabled_cloudwatch_logs_exports":["error","slowquery"],"endpoint":"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","engine":"aurora-mysql","engine_lifecycle_support":"open-source-rds-extended-support","engine_mode":"provisioned","engine_version":"8.0.mysql_aurora.3.04.0","engine_version_actual":"8.0.mysql_aurora.3.04.0","final_snapshot_identifier":null,"global_cluster_identifier":"","hosted_zone_id":"Z2G0U3KFCY8NZ5","iam_database_authentication_enabled":false,"iam_roles":[],"id":"dr-daily-report-aurora-dev","iops":0,"kms_key_id":"","manage_master_user_password":null,"master_password":"AuroraDevDb2025SecureX1","master_password_wo":null,"master_password_wo_version":null,"master_user_secret":[],"master_user_secret_kms_key_id":null,"master_username":"admin","monitoring_interval":0,"monitoring_role_arn":"","network_type":"IPV4","performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"preferred_backup_window":"02:00-03:00","preferred_maintenance_window":"sun:15:47-sun:16:17","reader_endpoint":"dr-daily-report-aurora-dev.cluster-ro-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","replication_source_identifier":"","restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[{"max_capacity":2,"min_capacity":0.5,"seconds_until_auto_pause":0}],"skip_final_snapshot":true,"snapshot_identifier":null,"source_region":null,"storage_encrypted":false,"storage_type":"","tags":{"App":"shared","Component":"aurora-cluster","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-cluster","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-cluster","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-cluster","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_security_group_ids":["sg-090e3e8630b0902e5"]},"sensitive_values":{"availability_zones":[false,false,false],"cluster_members":[false],"enabled_cloudwatch_logs_exports":[false,false],"iam_roles":[],"master_password":true,"master_password_wo":true,"master_user_secret":[],"restore_to_point_in_time":[],"s3_import":[],"scaling_configuration":[],"serverlessv2_scaling_configuration":[{}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false]},"depends_on":["aws_db_subnet_group.aurora","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_rds_cluster_instance.aurora[0]","mode":"managed","type":"aws_rds_cluster_instance","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"apply_immediately":null,"arn":"arn:aws:rds:ap-southeast-1:755283537543:db:dr-daily-report-aurora-instance-dev","auto_minor_version_upgrade":true,"availability_zone":"ap-southeast-1c","ca_cert_identifier":"rds-ca-rsa2048-g1","cluster_identifier":"dr-daily-report-aurora-dev","copy_tags_to_snapshot":false,"custom_iam_instance_profile":"","db_parameter_group_name":"default.aurora-mysql8.0","db_subnet_group_name":"dr-daily-report-aurora-dev","dbi_resource_id":"db-UCIWAUSHZHTGROON7CZBMVMUEA","endpoint":"dr-daily-report-aurora-instance-dev.c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com","engine":"aurora-mysql","engine_version":"8.0.mysql_aurora.3.04.0","engine_version_actual":"8.0.mysql_aurora.3.04.0","force_destroy":null,"id":"dr-daily-report-aurora-instance-dev","identifier":"dr-daily-report-aurora-instance-dev","identifier_prefix":"","instance_class":"db.serverless","kms_key_id":"","monitoring_interval":0,"monitoring_role_arn":"","network_type":"IPV4","performance_insights_enabled":false,"performance_insights_kms_key_id":"","performance_insights_retention_period":0,"port":3306,"preferred_backup_window":"02:00-03:00","preferred_maintenance_window":"wed:15:42-wed:16:12","promotion_tier":0,"publicly_accessible":false,"storage_encrypted":false,"tags":{"App":"shared","Component":"aurora-instance","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-instance","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-instance","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-instance","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"writer":true},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["aws_db_subnet_group.aurora","aws_rds_cluster.aurora","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_s3_bucket.pdf_reports","mode":"managed","type":"aws_s3_bucket","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::line-bot-pdf-reports-755283537543","bucket":"line-bot-pdf-reports-755283537543","bucket_domain_name":"line-bot-pdf-reports-755283537543.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"line-bot-pdf-reports-755283537543.s3.ap-southeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"96092fbd02b598ed3a3c97f4a42cbd5c01bfdf3dc995dde83fe1996a26386e9f","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3O0J2DXBE1FTB","id":"line-bot-pdf-reports-755283537543","lifecycle_rule":[{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":30,"expired_object_delete_marker":false}],"id":"delete_old_pdfs","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"reports/","tags":{},"transition":[]},{"abort_incomplete_multipart_upload_days":0,"enabled":true,"expiration":[{"date":"","days":1,"expired_object_delete_marker":false}],"id":"delete_old_cache","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"cache/","tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"ap-southeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"App":"shared","Component":"pdf-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-pdf-reports","Owner":"data-team","Project":"dr-daily-report","SharedBy":"line-bot_telegram-api"},"tags_all":{"App":"shared","Component":"pdf-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"line-bot-pdf-reports","Owner":"data-team","Project":"dr-daily-report","SharedBy":"line-bot_telegram-api"},"timeouts":null,"versioning":[{"enabled":true,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_values":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]},{"expiration":[{}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"tags":{},"transition":[]}],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]},"depends_on":["data.aws_caller_identity.current"]},{"address":"aws_s3_bucket.webapp","mode":"managed","type":"aws_s3_bucket","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::dr-daily-report-webapp-dev","bucket":"dr-daily-report-webapp-dev","bucket_domain_name":"dr-daily-report-webapp-dev.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"dr-daily-report-webapp-dev.s3.ap-southeast-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"96092fbd02b598ed3a3c97f4a42cbd5c01bfdf3dc995dde83fe1996a26386e9f","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3O0J2DXBE1FTB","id":"dr-daily-report-webapp-dev","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX\"},\"Resource\":\"arn:aws:s3:::dr-daily-report-webapp-dev/*\",\"Sid\":\"AllowCloudFrontOAI\"}],\"Version\":\"2012-10-17\"}","region":"ap-southeast-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"App":"telegram-api","Component":"frontend-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"frontend-storage","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-webapp-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_values":{"cors_rule":[],"grant":[{"permissions":[false]}],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}],"tags":{},"tags_all":{},"versioning":[{}],"website":[]}},{"address":"aws_s3_bucket_lifecycle_configuration.pdf_reports","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"bucket":"line-bot-pdf-reports-755283537543","expected_bucket_owner":"","id":"line-bot-pdf-reports-755283537543","rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":30,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"reports/","tag":[]}],"id":"delete_old_pdfs","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]},{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":1,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"cache/","tag":[]}],"id":"delete_old_cache","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]},{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[]}]},"depends_on":["aws_s3_bucket.pdf_reports","data.aws_caller_identity.current"]},{"address":"aws_s3_bucket_policy.webapp","mode":"managed","type":"aws_s3_bucket_policy","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"dr-daily-report-webapp-dev","id":"dr-daily-report-webapp-dev","policy":"{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3TW52UDU2O6GX\"},\"Resource\":\"arn:aws:s3:::dr-daily-report-webapp-dev/*\",\"Sid\":\"AllowCloudFrontOAI\"}],\"Version\":\"2012-10-17\"}"},"sensitive_values":{},"depends_on":["aws_cloudfront_origin_access_identity.webapp","aws_s3_bucket.webapp"]},{"address":"aws_s3_bucket_public_access_block.pdf_reports","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"bucket":"line-bot-pdf-reports-755283537543","id":"line-bot-pdf-reports-755283537543","ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{},"depends_on":["aws_s3_bucket.pdf_reports","data.aws_caller_identity.current"]},{"address":"aws_s3_bucket_public_access_block.webapp","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"webapp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"bucket":"dr-daily-report-webapp-dev","id":"dr-daily-report-webapp-dev","ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{},"depends_on":["aws_s3_bucket.webapp"]},{"address":"aws_s3_bucket_versioning.pdf_reports","mode":"managed","type":"aws_s3_bucket_versioning","name":"pdf_reports","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"line-bot-pdf-reports-755283537543","expected_bucket_owner":"","id":"line-bot-pdf-reports-755283537543","mfa":null,"versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]},"depends_on":["aws_s3_bucket.pdf_reports","data.aws_caller_identity.current"]},{"address":"aws_secretsmanager_secret.aurora_credentials[0]","mode":"managed","type":"aws_secretsmanager_secret","name":"aurora_credentials","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT","description":"Aurora MySQL credentials for dr-daily-report","force_overwrite_replica_secret":false,"id":"dr-daily-report/aurora/dev","kms_key_id":"","name":"dr-daily-report/aurora/dev","name_prefix":"","policy":"","recovery_window_in_days":30,"replica":[],"tags":{"App":"shared","Component":"secrets-manager","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-credentials","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"secrets-manager","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-credentials","Owner":"data-team","Project":"dr-daily-report"}},"sensitive_values":{"replica":[],"tags":{},"tags_all":{}}},{"address":"aws_secretsmanager_secret_version.aurora_credentials[0]","mode":"managed","type":"aws_secretsmanager_secret_version","name":"aurora_credentials","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:secretsmanager:ap-southeast-1:755283537543:secret:dr-daily-report/aurora/dev-za5RyT","has_secret_string_wo":null,"id":"dr-daily-report/aurora/dev|terraform-20251201093349393500000003","secret_binary":"","secret_id":"dr-daily-report/aurora/dev","secret_string":"{\"database\":\"ticker_data\",\"host\":\"dr-daily-report-aurora-dev.cluster-c9a0288e4hqm.ap-southeast-1.rds.amazonaws.com\",\"password\":\"AuroraDevDb2025SecureX1\",\"port\":3306,\"username\":\"admin\"}","secret_string_wo":null,"secret_string_wo_version":null,"version_id":"terraform-20251201093349393500000003","version_stages":["AWSCURRENT"]},"sensitive_values":{"secret_binary":true,"secret_string":true,"secret_string_wo":true,"version_stages":[false]},"depends_on":["aws_db_subnet_group.aurora","aws_rds_cluster.aurora","aws_secretsmanager_secret.aurora_credentials","aws_security_group.aurora","aws_security_group.lambda_aurora","data.aws_subnets.default","data.aws_vpc.default"]},{"address":"aws_security_group.aurora[0]","mode":"managed","type":"aws_security_group","name":"aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-southeast-1:755283537543:security-group/sg-090e3e8630b0902e5","description":"Security group for Aurora MySQL cluster","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"All outbound traffic","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-090e3e8630b0902e5","ingress":[{"cidr_blocks":["172.31.0.0/16"],"description":"MySQL from VPC","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":3306},{"cidr_blocks":[],"description":"MySQL from Lambda","from_port":3306,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0185a0d8d92968d03"],"self":false,"to_port":3306}],"name":"dr-daily-report-aurora-dev","name_prefix":"","owner_id":"755283537543","revoke_rules_on_delete":null,"tags":{"App":"shared","Component":"aurora-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"aurora-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_id":"vpc-0fb04b10ef8c3d18b"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}},"depends_on":["aws_security_group.lambda_aurora","data.aws_vpc.default"]},{"address":"aws_security_group.lambda_aurora[0]","mode":"managed","type":"aws_security_group","name":"lambda_aurora","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:ap-southeast-1:755283537543:security-group/sg-0185a0d8d92968d03","description":"Security group for Lambda functions accessing Aurora","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"All outbound traffic","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0185a0d8d92968d03","ingress":[],"name":"dr-daily-report-lambda-aurora-dev","name_prefix":"","owner_id":"755283537543","revoke_rules_on_delete":false,"tags":{"App":"shared","Component":"lambda-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"shared","Component":"lambda-security-group","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-lambda-aurora-sg","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"vpc_id":"vpc-0fb04b10ef8c3d18b"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[],"tags":{},"tags_all":{}},"depends_on":["data.aws_vpc.default"]},{"address":"aws_sns_topic.telegram_alerts","mode":"managed","type":"aws_sns_topic","name":"telegram_alerts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":0,"archive_policy":"","arn":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev","beginning_archive_time":"","content_based_deduplication":false,"delivery_policy":"","display_name":"","fifo_throughput_scope":"","fifo_topic":false,"firehose_failure_feedback_role_arn":"","firehose_success_feedback_role_arn":"","firehose_success_feedback_sample_rate":0,"http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":0,"id":"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":0,"name":"dr-daily-report-telegram-alerts-dev","name_prefix":"","owner":"755283537543","policy":"{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"755283537543\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:ap-southeast-1:755283537543:dr-daily-report-telegram-alerts-dev\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2008-10-17\"}","signature_version":0,"sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":0,"tags":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-alerts-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"monitoring","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-telegram-alerts-dev","Owner":"data-team","Project":"dr-daily-report"},"tracing_config":""},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_sqs_queue.report_jobs","mode":"managed","type":"aws_sqs_queue","name":"report_jobs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dev","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":3600,"name":"dr-daily-report-report-jobs-dev","name_prefix":"","policy":"","receive_wait_time_seconds":10,"redrive_allow_policy":"","redrive_policy":"{\"deadLetterTargetArn\":\"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dlq-dev\",\"maxReceiveCount\":1}","sqs_managed_sse_enabled":true,"tags":{"App":"telegram-api","Component":"job-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"job-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"url":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dev","visibility_timeout_seconds":120},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["aws_sqs_queue.report_jobs_dlq"]},{"address":"aws_sqs_queue.report_jobs_dlq","mode":"managed","type":"aws_sqs_queue","name":"report_jobs_dlq","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:sqs:ap-southeast-1:755283537543:dr-daily-report-report-jobs-dlq-dev","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":1209600,"name":"dr-daily-report-report-jobs-dlq-dev","name_prefix":"","policy":"","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"","sqs_managed_sse_enabled":true,"tags":{"App":"telegram-api","Component":"dead-letter-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dlq-dev","Owner":"data-team","Project":"dr-daily-report"},"tags_all":{"App":"telegram-api","Component":"dead-letter-queue","CostCenter":"engineering","Environment":"dev","ManagedBy":"Terraform","Name":"dr-daily-report-report-jobs-dlq-dev","Owner":"data-team","Project":"dr-daily-report"},"timeouts":null,"url":"https://sqs.ap-southeast-1.amazonaws.com/755283537543/dr-daily-report-report-jobs-dlq-dev","visibility_timeout_seconds":60},"sensitive_values":{"tags":{},"tags_all":{}}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.0","expressions":{"region":{"references":["var.aws_region"]}}},"null":{"name":"null","full_name":"registry.terraform.io/hashicorp/null","version_constraint":"~\u003e 3.0"}},"root_module":{"outputs":{"aurora_cluster_endpoint":{"expression":{"references":["var.aurora_enabled","aws_rds_cluster.aurora[0].endpoint","aws_rds_cluster.aurora[0]","aws_rds_cluster.aurora"]},"description":"Aurora cluster endpoint for writes"},"aurora_cluster_port":{"expression":{"references":["var.aurora_enabled","aws_rds_cluster.aurora[0].port","aws_rds_cluster.aurora[0]","aws_rds_cluster.aurora"]},"description":"Aurora cluster port"},"aurora_cluster_reader_endpoint":{"expression":{"references":["var.aurora_enabled","aws_rds_cluster.aurora[0].reader_endpoint","aws_rds_cluster.aurora[0]","aws_rds_cluster.aurora"]},"description":"Aurora cluster reader endpoint for reads"},"aurora_credentials_secret_arn":{"expression":{"references":["var.aurora_enabled","aws_secretsmanager_secret.aurora_credentials[0].arn","aws_secretsmanager_secret.aurora_credentials[0]","aws_secretsmanager_secret.aurora_credentials"]},"description":"ARN of the Secrets Manager secret containing Aurora credentials"},"aurora_security_group_id":{"expression":{"references":["var.aurora_enabled","aws_security_group.aurora[0].id","aws_security_group.aurora[0]","aws_security_group.aurora"]},"description":"Security group ID for Aurora cluster"},"cloudfront_distribution_domain":{"expression":{"references":["aws_cloudfront_distribution.webapp.domain_name","aws_cloudfront_distribution.webapp"]},"description":"CloudFront domain name for the webapp"},"cloudfront_distribution_id":{"expression":{"references":["aws_cloudfront_distribution.webapp.id","aws_cloudfront_distribution.webapp"]},"description":"ID of the CloudFront distribution (needed for cache invalidation)"},"cloudfront_test_distribution_domain":{"expression":{"references":["aws_cloudfront_distribution.webapp_test.domain_name","aws_cloudfront_distribution.webapp_test"]},"description":"TEST CloudFront domain name (for E2E testing)"},"cloudfront_test_distribution_id":{"expression":{"references":["aws_cloudfront_distribution.webapp_test.id","aws_cloudfront_distribution.webapp_test"]},"description":"ID of the TEST CloudFront distribution (for E2E cache invalidation)"},"deployment_summary":{"expression":{"references":["aws_lambda_function.line_bot.function_name","aws_lambda_function.line_bot","aws_lambda_function_url.line_webhook.function_url","aws_lambda_function_url.line_webhook","var.aws_region","var.environment"]},"description":"Summary of deployed resources"},"ecr_repository_url":{"expression":{"references":["aws_ecr_repository.lambda.repository_url","aws_ecr_repository.lambda"]},"description":"ECR repository URL for Lambda container images"},"lambda_aurora_security_group_id":{"expression":{"references":["var.aurora_enabled","aws_security_group.lambda_aurora[0].id","aws_security_group.lambda_aurora[0]","aws_security_group.lambda_aurora"]},"description":"Security group ID for Lambda functions accessing Aurora"},"lambda_function_arn":{"expression":{"references":["aws_lambda_function.line_bot.arn","aws_lambda_function.line_bot"]},"description":"ARN of the Lambda function"},"lambda_function_name":{"expression":{"references":["aws_lambda_function.line_bot.function_name","aws_lambda_function.line_bot"]},"description":"Name of the Lambda function"},"lambda_function_version":{"expression":{"references":["aws_lambda_function.line_bot.version","aws_lambda_function.line_bot"]},"description":"Version of the Lambda function"},"pdf_storage_bucket":{"expression":{"references":["aws_s3_bucket.pdf_reports.id","aws_s3_bucket.pdf_reports"]},"description":"S3 bucket name for PDF reports storage"},"report_jobs_dlq_url":{"expression":{"references":["aws_sqs_queue.report_jobs_dlq.url","aws_sqs_queue.report_jobs_dlq"]},"description":"URL of the Dead Letter Queue for failed jobs"},"report_jobs_queue_arn":{"expression":{"references":["aws_sqs_queue.report_jobs.arn","aws_sqs_queue.report_jobs"]},"description":"ARN of the SQS queue for report jobs"},"report_jobs_queue_url":{"expression":{"references":["aws_sqs_queue.report_jobs.url","aws_sqs_queue.report_jobs"]},"description":"URL of the SQS queue for report jobs"},"report_jobs_table_arn":{"expression":{"references":["aws_dynamodb_table.report_jobs.arn","aws_dynamodb_table.report_jobs"]},"description":"ARN of the DynamoDB table for report jobs"},"report_jobs_table_name":{"expression":{"references":["aws_dynamodb_table.report_jobs.name","aws_dynamodb_table.report_jobs"]},"description":"Name of the DynamoDB table for report jobs"},"report_worker_function_arn":{"expression":{"references":["aws_lambda_function.report_worker.arn","aws_lambda_function.report_worker"]},"description":"ARN of the Report Worker Lambda function"},"report_worker_function_name":{"expression":{"references":["aws_lambda_function.report_worker.function_name","aws_lambda_function.report_worker"]},"description":"Name of the Report Worker Lambda function"},"sns_alerts_topic_arn":{"expression":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"description":"ARN of SNS topic for alarm notifications"},"telegram_api_gateway_id":{"expression":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"description":"ID of the Telegram API Gateway"},"telegram_api_gateway_url":{"expression":{"references":["aws_apigatewayv2_api.telegram_api.api_endpoint","aws_apigatewayv2_api.telegram_api"]},"description":"Base URL for Telegram API Gateway"},"telegram_api_invoke_url":{"expression":{"references":["aws_apigatewayv2_api.telegram_api.api_endpoint","aws_apigatewayv2_api.telegram_api"]},"description":"Full invoke URL for Telegram API (with /api/v1 prefix)"},"telegram_lambda_alias_arn":{"expression":{"references":["aws_lambda_alias.telegram_api_live.arn","aws_lambda_alias.telegram_api_live"]},"description":"ARN of the Telegram API Lambda 'live' alias"},"telegram_lambda_function_arn":{"expression":{"references":["aws_lambda_function.telegram_api.arn","aws_lambda_function.telegram_api"]},"description":"ARN of the Telegram API Lambda function"},"telegram_lambda_function_name":{"expression":{"references":["aws_lambda_function.telegram_api.function_name","aws_lambda_function.telegram_api"]},"description":"Name of the Telegram API Lambda function"},"telegram_lambda_role_arn":{"expression":{"references":["aws_iam_role.telegram_lambda_role.arn","aws_iam_role.telegram_lambda_role"]},"description":"ARN of the Telegram API Lambda IAM role"},"telegram_lambda_version":{"expression":{"references":["aws_lambda_function.telegram_api.version","aws_lambda_function.telegram_api"]},"description":"Current published version of the Telegram API Lambda"},"ticker_scheduler_enabled":{"expression":{"references":["aws_cloudwatch_event_rule.daily_ticker_fetch.state","aws_cloudwatch_event_rule.daily_ticker_fetch"]},"description":"Whether the daily ticker fetch schedule is enabled"},"ticker_scheduler_eventbridge_rule":{"expression":{"references":["aws_cloudwatch_event_rule.daily_ticker_fetch.name","aws_cloudwatch_event_rule.daily_ticker_fetch"]},"description":"Name of the EventBridge rule for daily ticker fetch"},"ticker_scheduler_function_arn":{"expression":{"references":["aws_lambda_function.ticker_scheduler.arn","aws_lambda_function.ticker_scheduler"]},"description":"ARN of the ticker scheduler Lambda function"},"ticker_scheduler_function_name":{"expression":{"references":["aws_lambda_function.ticker_scheduler.function_name","aws_lambda_function.ticker_scheduler"]},"description":"Name of the ticker scheduler Lambda function"},"watchlist_table_arn":{"expression":{"references":["aws_dynamodb_table.telegram_watchlist.arn","aws_dynamodb_table.telegram_watchlist"]},"description":"ARN of the watchlist DynamoDB table"},"watchlist_table_name":{"expression":{"references":["aws_dynamodb_table.telegram_watchlist.name","aws_dynamodb_table.telegram_watchlist"]},"description":"Name of the watchlist DynamoDB table"},"webapp_bucket_arn":{"expression":{"references":["aws_s3_bucket.webapp.arn","aws_s3_bucket.webapp"]},"description":"ARN of the S3 bucket for webapp files"},"webapp_bucket_name":{"expression":{"references":["aws_s3_bucket.webapp.id","aws_s3_bucket.webapp"]},"description":"Name of the S3 bucket for webapp files"},"webapp_test_url":{"expression":{"references":["aws_cloudfront_distribution.webapp_test.domain_name","aws_cloudfront_distribution.webapp_test"]},"description":"Full URL for E2E testing (invalidated before user-facing URL)"},"webapp_url":{"expression":{"references":["aws_cloudfront_distribution.webapp.domain_name","aws_cloudfront_distribution.webapp"]},"description":"Full URL for the Telegram Mini App (users)"},"webhook_url":{"expression":{"references":["aws_lambda_function_url.line_webhook.function_url","aws_lambda_function_url.line_webhook"]},"description":"Lambda Function URL for LINE webhook"}},"resources":[{"address":"aws_apigatewayv2_api.telegram_api","mode":"managed","type":"aws_apigatewayv2_api","name":"telegram_api","provider_config_key":"aws","expressions":{"cors_configuration":[{"allow_headers":{"constant_value":["Content-Type","X-Telegram-User-Id","X-Telegram-Init-Data","Authorization"]},"allow_methods":{"constant_value":["GET","POST","PUT","DELETE","OPTIONS"]},"allow_origins":{"references":["var.telegram_webapp_url","var.telegram_webapp_url","var.telegram_webapp_urls","aws_cloudfront_distribution.webapp_test.domain_name","aws_cloudfront_distribution.webapp_test"]},"expose_headers":{"constant_value":["X-Request-Id"]},"max_age":{"constant_value":300}}],"description":{"constant_value":"REST API for Telegram Mini App - ticker analysis and reports"},"name":{"references":["var.project_name","var.environment"]},"protocol_type":{"constant_value":"HTTP"},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_apigatewayv2_integration.telegram_lambda","mode":"managed","type":"aws_apigatewayv2_integration","name":"telegram_lambda","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"description":{"constant_value":"Lambda integration for Telegram Mini App API (via 'live' alias)"},"integration_method":{"constant_value":"POST"},"integration_type":{"constant_value":"AWS_PROXY"},"integration_uri":{"references":["aws_lambda_alias.telegram_api_live.invoke_arn","aws_lambda_alias.telegram_api_live"]},"payload_format_version":{"constant_value":"2.0"},"timeout_milliseconds":{"constant_value":30000}},"schema_version":0},{"address":"aws_apigatewayv2_route.health","mode":"managed","type":"aws_apigatewayv2_route","name":"health","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"route_key":{"constant_value":"GET /api/v1/health"},"target":{"references":["aws_apigatewayv2_integration.telegram_lambda.id","aws_apigatewayv2_integration.telegram_lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.rankings","mode":"managed","type":"aws_apigatewayv2_route","name":"rankings","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"route_key":{"constant_value":"GET /api/v1/rankings"},"target":{"references":["aws_apigatewayv2_integration.telegram_lambda.id","aws_apigatewayv2_integration.telegram_lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.report","mode":"managed","type":"aws_apigatewayv2_route","name":"report","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"route_key":{"constant_value":"GET /api/v1/report/{ticker}"},"target":{"references":["aws_apigatewayv2_integration.telegram_lambda.id","aws_apigatewayv2_integration.telegram_lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.report_async","mode":"managed","type":"aws_apigatewayv2_route","name":"report_async","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"route_key":{"constant_value":"POST /api/v1/report/{ticker}"},"target":{"references":["aws_apigatewayv2_integration.telegram_lambda.id","aws_apigatewayv2_integration.telegram_lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.report_status","mode":"managed","type":"aws_apigatewayv2_route","name":"report_status","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"route_key":{"constant_value":"GET /api/v1/report/status/{job_id}"},"target":{"references":["aws_apigatewayv2_integration.telegram_lambda.id","aws_apigatewayv2_integration.telegram_lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.search","mode":"managed","type":"aws_apigatewayv2_route","name":"search","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"route_key":{"constant_value":"GET /api/v1/search"},"target":{"references":["aws_apigatewayv2_integration.telegram_lambda.id","aws_apigatewayv2_integration.telegram_lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.telegram_default","mode":"managed","type":"aws_apigatewayv2_route","name":"telegram_default","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"route_key":{"constant_value":"$default"},"target":{"references":["aws_apigatewayv2_integration.telegram_lambda.id","aws_apigatewayv2_integration.telegram_lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.watchlist_delete","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_delete","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"route_key":{"constant_value":"DELETE /api/v1/watchlist/{ticker}"},"target":{"references":["aws_apigatewayv2_integration.telegram_lambda.id","aws_apigatewayv2_integration.telegram_lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.watchlist_get","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_get","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"route_key":{"constant_value":"GET /api/v1/watchlist"},"target":{"references":["aws_apigatewayv2_integration.telegram_lambda.id","aws_apigatewayv2_integration.telegram_lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.watchlist_post","mode":"managed","type":"aws_apigatewayv2_route","name":"watchlist_post","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"route_key":{"constant_value":"POST /api/v1/watchlist"},"target":{"references":["aws_apigatewayv2_integration.telegram_lambda.id","aws_apigatewayv2_integration.telegram_lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_stage.telegram_default","mode":"managed","type":"aws_apigatewayv2_stage","name":"telegram_default","provider_config_key":"aws","expressions":{"api_id":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"auto_deploy":{"constant_value":true},"default_route_settings":[{"detailed_metrics_enabled":{"constant_value":true},"throttling_burst_limit":{"constant_value":100},"throttling_rate_limit":{"constant_value":50}}],"name":{"constant_value":"$default"},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":0,"depends_on":["aws_cloudwatch_log_group.telegram_api_gateway_logs"]},{"address":"aws_cloudfront_distribution.webapp","mode":"managed","type":"aws_cloudfront_distribution","name":"webapp","provider_config_key":"aws","expressions":{"comment":{"references":["var.environment"]},"custom_error_response":[{"error_code":{"constant_value":404},"response_code":{"constant_value":200},"response_page_path":{"constant_value":"/index.html"}},{"error_code":{"constant_value":403},"response_code":{"constant_value":200},"response_page_path":{"constant_value":"/index.html"}}],"default_cache_behavior":[{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cached_methods":{"constant_value":["GET","HEAD"]},"compress":{"constant_value":true},"default_ttl":{"constant_value":3600},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"query_string":{"constant_value":false}}],"max_ttl":{"constant_value":86400},"min_ttl":{"constant_value":0},"target_origin_id":{"constant_value":"S3-webapp"},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}}],"default_root_object":{"constant_value":"index.html"},"enabled":{"constant_value":true},"is_ipv6_enabled":{"constant_value":true},"ordered_cache_behavior":[{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cached_methods":{"constant_value":["GET","HEAD"]},"compress":{"constant_value":true},"default_ttl":{"constant_value":300},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"query_string":{"constant_value":false}}],"max_ttl":{"constant_value":3600},"min_ttl":{"constant_value":0},"path_pattern":{"constant_value":"*.html"},"target_origin_id":{"constant_value":"S3-webapp"},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}},{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cached_methods":{"constant_value":["GET","HEAD"]},"compress":{"constant_value":true},"default_ttl":{"constant_value":86400},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"query_string":{"constant_value":false}}],"max_ttl":{"constant_value":604800},"min_ttl":{"constant_value":0},"path_pattern":{"constant_value":"*.js"},"target_origin_id":{"constant_value":"S3-webapp"},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}},{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cached_methods":{"constant_value":["GET","HEAD"]},"compress":{"constant_value":true},"default_ttl":{"constant_value":86400},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"query_string":{"constant_value":false}}],"max_ttl":{"constant_value":604800},"min_ttl":{"constant_value":0},"path_pattern":{"constant_value":"*.css"},"target_origin_id":{"constant_value":"S3-webapp"},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}}],"origin":[{"domain_name":{"references":["aws_s3_bucket.webapp.bucket_regional_domain_name","aws_s3_bucket.webapp"]},"origin_id":{"constant_value":"S3-webapp"},"s3_origin_config":[{"origin_access_identity":{"references":["aws_cloudfront_origin_access_identity.webapp.cloudfront_access_identity_path","aws_cloudfront_origin_access_identity.webapp"]}}]}],"price_class":{"constant_value":"PriceClass_200"},"restrictions":[{"geo_restriction":[{"restriction_type":{"constant_value":"none"}}]}],"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"viewer_certificate":[{"cloudfront_default_certificate":{"constant_value":true}}]},"schema_version":1},{"address":"aws_cloudfront_distribution.webapp_test","mode":"managed","type":"aws_cloudfront_distribution","name":"webapp_test","provider_config_key":"aws","expressions":{"comment":{"references":["var.environment"]},"custom_error_response":[{"error_code":{"constant_value":404},"response_code":{"constant_value":200},"response_page_path":{"constant_value":"/index.html"}},{"error_code":{"constant_value":403},"response_code":{"constant_value":200},"response_page_path":{"constant_value":"/index.html"}}],"default_cache_behavior":[{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cached_methods":{"constant_value":["GET","HEAD"]},"compress":{"constant_value":true},"default_ttl":{"constant_value":3600},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"query_string":{"constant_value":false}}],"max_ttl":{"constant_value":86400},"min_ttl":{"constant_value":0},"target_origin_id":{"constant_value":"S3-webapp-test"},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}}],"default_root_object":{"constant_value":"index.html"},"enabled":{"constant_value":true},"is_ipv6_enabled":{"constant_value":true},"ordered_cache_behavior":[{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cached_methods":{"constant_value":["GET","HEAD"]},"compress":{"constant_value":true},"default_ttl":{"constant_value":300},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"query_string":{"constant_value":false}}],"max_ttl":{"constant_value":3600},"min_ttl":{"constant_value":0},"path_pattern":{"constant_value":"*.html"},"target_origin_id":{"constant_value":"S3-webapp-test"},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}},{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cached_methods":{"constant_value":["GET","HEAD"]},"compress":{"constant_value":true},"default_ttl":{"constant_value":86400},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"query_string":{"constant_value":false}}],"max_ttl":{"constant_value":604800},"min_ttl":{"constant_value":0},"path_pattern":{"constant_value":"*.js"},"target_origin_id":{"constant_value":"S3-webapp-test"},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}},{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cached_methods":{"constant_value":["GET","HEAD"]},"compress":{"constant_value":true},"default_ttl":{"constant_value":86400},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"query_string":{"constant_value":false}}],"max_ttl":{"constant_value":604800},"min_ttl":{"constant_value":0},"path_pattern":{"constant_value":"*.css"},"target_origin_id":{"constant_value":"S3-webapp-test"},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}}],"origin":[{"domain_name":{"references":["aws_s3_bucket.webapp.bucket_regional_domain_name","aws_s3_bucket.webapp"]},"origin_id":{"constant_value":"S3-webapp-test"},"s3_origin_config":[{"origin_access_identity":{"references":["aws_cloudfront_origin_access_identity.webapp.cloudfront_access_identity_path","aws_cloudfront_origin_access_identity.webapp"]}}]}],"price_class":{"constant_value":"PriceClass_200"},"restrictions":[{"geo_restriction":[{"restriction_type":{"constant_value":"none"}}]}],"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"viewer_certificate":[{"cloudfront_default_certificate":{"constant_value":true}}]},"schema_version":1},{"address":"aws_cloudfront_origin_access_identity.webapp","mode":"managed","type":"aws_cloudfront_origin_access_identity","name":"webapp","provider_config_key":"aws","expressions":{"comment":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_cloudwatch_event_rule.daily_ticker_fetch","mode":"managed","type":"aws_cloudwatch_event_rule","name":"daily_ticker_fetch","provider_config_key":"aws","expressions":{"description":{"constant_value":"Fetch ticker data daily at 8 AM Bangkok time (UTC+7)"},"name":{"references":["var.project_name","var.environment"]},"schedule_expression":{"constant_value":"cron(0 1 * * ? *)"},"state":{"constant_value":"ENABLED"},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":1},{"address":"aws_cloudwatch_event_target.ticker_scheduler","mode":"managed","type":"aws_cloudwatch_event_target","name":"ticker_scheduler","provider_config_key":"aws","expressions":{"arn":{"references":["aws_lambda_function.ticker_scheduler.arn","aws_lambda_function.ticker_scheduler"]},"input":{},"rule":{"references":["aws_cloudwatch_event_rule.daily_ticker_fetch.name","aws_cloudwatch_event_rule.daily_ticker_fetch"]},"target_id":{"constant_value":"ticker-scheduler-lambda"}},"schema_version":1},{"address":"aws_cloudwatch_log_group.telegram_api_gateway_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"telegram_api_gateway_logs","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name","var.environment"]},"retention_in_days":{"references":["var.log_retention_days"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.telegram_api_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"telegram_api_logs","provider_config_key":"aws","expressions":{"name":{"references":["aws_lambda_function.telegram_api.function_name","aws_lambda_function.telegram_api"]},"retention_in_days":{"references":["var.log_retention_days"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.ticker_scheduler_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"ticker_scheduler_logs","provider_config_key":"aws","expressions":{"name":{"references":["aws_lambda_function.ticker_scheduler.function_name","aws_lambda_function.ticker_scheduler"]},"retention_in_days":{"references":["var.log_retention_days"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_cloudwatch_metric_alarm.api_4xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_4xx_errors","provider_config_key":"aws","expressions":{"alarm_actions":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"alarm_description":{"constant_value":"API Gateway 4xx error rate is high (\u003e50 errors in 15 minutes)"},"alarm_name":{"references":["var.project_name","var.environment"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"evaluation_periods":{"constant_value":3},"metric_name":{"constant_value":"4xx"},"namespace":{"constant_value":"AWS/ApiGateway"},"period":{"constant_value":300},"statistic":{"constant_value":"Sum"},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"threshold":{"constant_value":50},"treat_missing_data":{"constant_value":"notBreaching"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.api_5xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_5xx_errors","provider_config_key":"aws","expressions":{"alarm_actions":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"alarm_description":{"constant_value":"API Gateway 5xx error rate is high (\u003e10 errors in 5 minutes)"},"alarm_name":{"references":["var.project_name","var.environment"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["aws_apigatewayv2_api.telegram_api.id","aws_apigatewayv2_api.telegram_api"]},"evaluation_periods":{"constant_value":2},"metric_name":{"constant_value":"5xx"},"namespace":{"constant_value":"AWS/ApiGateway"},"ok_actions":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"period":{"constant_value":300},"statistic":{"constant_value":"Sum"},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"threshold":{"constant_value":10},"treat_missing_data":{"constant_value":"notBreaching"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.dlq_messages","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"dlq_messages","provider_config_key":"aws","expressions":{"alarm_actions":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"alarm_description":{"constant_value":"Messages in DLQ - report jobs are failing"},"alarm_name":{"references":["var.project_name","var.environment"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["aws_sqs_queue.report_jobs_dlq.name","aws_sqs_queue.report_jobs_dlq"]},"evaluation_periods":{"constant_value":1},"metric_name":{"constant_value":"ApproximateNumberOfMessagesVisible"},"namespace":{"constant_value":"AWS/SQS"},"ok_actions":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"period":{"constant_value":300},"statistic":{"constant_value":"Sum"},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"threshold":{"constant_value":1},"treat_missing_data":{"constant_value":"notBreaching"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.report_worker_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"report_worker_errors","provider_config_key":"aws","expressions":{"alarm_actions":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"alarm_description":{"constant_value":"Report Worker Lambda error rate is high (\u003e3 errors in 5 minutes)"},"alarm_name":{"references":["var.project_name","var.environment"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["aws_lambda_function.report_worker.function_name","aws_lambda_function.report_worker"]},"evaluation_periods":{"constant_value":2},"metric_name":{"constant_value":"Errors"},"namespace":{"constant_value":"AWS/Lambda"},"ok_actions":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"period":{"constant_value":300},"statistic":{"constant_value":"Sum"},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"threshold":{"constant_value":3},"treat_missing_data":{"constant_value":"notBreaching"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.telegram_api_duration","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"telegram_api_duration","provider_config_key":"aws","expressions":{"alarm_actions":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"alarm_description":{"constant_value":"Telegram API Lambda average duration is approaching timeout"},"alarm_name":{"references":["var.project_name","var.environment"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["aws_lambda_function.telegram_api.function_name","aws_lambda_function.telegram_api"]},"evaluation_periods":{"constant_value":2},"metric_name":{"constant_value":"Duration"},"namespace":{"constant_value":"AWS/Lambda"},"ok_actions":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"period":{"constant_value":300},"statistic":{"constant_value":"Average"},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"threshold":{"constant_value":45000},"treat_missing_data":{"constant_value":"notBreaching"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.telegram_api_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"telegram_api_errors","provider_config_key":"aws","expressions":{"alarm_actions":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"alarm_description":{"constant_value":"Telegram API Lambda error rate is high (\u003e5 errors in 5 minutes)"},"alarm_name":{"references":["var.project_name","var.environment"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["aws_lambda_function.telegram_api.function_name","aws_lambda_function.telegram_api"]},"evaluation_periods":{"constant_value":2},"metric_name":{"constant_value":"Errors"},"namespace":{"constant_value":"AWS/Lambda"},"ok_actions":{"references":["aws_sns_topic.telegram_alerts.arn","aws_sns_topic.telegram_alerts"]},"period":{"constant_value":300},"statistic":{"constant_value":"Sum"},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"threshold":{"constant_value":5},"treat_missing_data":{"constant_value":"notBreaching"}},"schema_version":1},{"address":"aws_db_subnet_group.aurora","mode":"managed","type":"aws_db_subnet_group","name":"aurora","provider_config_key":"aws","expressions":{"description":{"constant_value":"Subnet group for Aurora cluster"},"name":{"references":["var.project_name","var.environment"]},"subnet_ids":{"references":["data.aws_subnets.default.ids","data.aws_subnets.default"]},"tags":{"references":["local.common_tags","var.project_name"]}},"schema_version":0,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_dynamodb_table.report_jobs","mode":"managed","type":"aws_dynamodb_table","name":"report_jobs","provider_config_key":"aws","expressions":{"attribute":[{"name":{"constant_value":"job_id"},"type":{"constant_value":"S"}}],"billing_mode":{"constant_value":"PAY_PER_REQUEST"},"hash_key":{"constant_value":"job_id"},"name":{"references":["var.project_name","var.environment"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"ttl":[{"attribute_name":{"constant_value":"ttl"},"enabled":{"constant_value":true}}]},"schema_version":1},{"address":"aws_dynamodb_table.telegram_watchlist","mode":"managed","type":"aws_dynamodb_table","name":"telegram_watchlist","provider_config_key":"aws","expressions":{"attribute":[{"name":{"constant_value":"user_id"},"type":{"constant_value":"S"}},{"name":{"constant_value":"ticker"},"type":{"constant_value":"S"}}],"billing_mode":{"constant_value":"PAY_PER_REQUEST"},"hash_key":{"constant_value":"user_id"},"name":{"references":["var.project_name","var.environment"]},"range_key":{"constant_value":"ticker"},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"ttl":[{"attribute_name":{"constant_value":"ttl"},"enabled":{"constant_value":true}}]},"schema_version":1},{"address":"aws_ecr_lifecycle_policy.lambda","mode":"managed","type":"aws_ecr_lifecycle_policy","name":"lambda","provider_config_key":"aws","expressions":{"policy":{},"repository":{"references":["aws_ecr_repository.lambda.name","aws_ecr_repository.lambda"]}},"schema_version":0},{"address":"aws_ecr_repository.lambda","mode":"managed","type":"aws_ecr_repository","name":"lambda","provider_config_key":"aws","expressions":{"image_scanning_configuration":[{"scan_on_push":{"constant_value":true}}],"image_tag_mutability":{"constant_value":"IMMUTABLE"},"name":{"references":["var.project_name","var.environment"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_ecr_repository_policy.lambda","mode":"managed","type":"aws_ecr_repository_policy","name":"lambda","provider_config_key":"aws","expressions":{"policy":{},"repository":{"references":["aws_ecr_repository.lambda.name","aws_ecr_repository.lambda"]}},"schema_version":0},{"address":"aws_iam_policy.dynamodb_access","mode":"managed","type":"aws_iam_policy","name":"dynamodb_access","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow Lambda to access DynamoDB tables for Telegram Mini App"},"name":{"references":["var.project_name","var.environment"]},"policy":{"references":["aws_dynamodb_table.telegram_watchlist.arn","aws_dynamodb_table.telegram_watchlist"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_iam_policy.lambda_aurora_access","mode":"managed","type":"aws_iam_policy","name":"lambda_aurora_access","provider_config_key":"aws","expressions":{"description":{"constant_value":"Allow Lambda to access Aurora cluster"},"name":{"references":["var.project_name","var.environment"]},"policy":{"references":["aws_rds_cluster.aurora[0].arn","aws_rds_cluster.aurora[0]","aws_rds_cluster.aurora"]},"tags":{"references":["local.common_tags","var.project_name"]}},"schema_version":0,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_iam_role.lambda_role","mode":"managed","type":"aws_iam_role","name":"lambda_role","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"references":["var.function_name"]},"tags":{"references":["local.common_tags","var.function_name"]}},"schema_version":0},{"address":"aws_iam_role.report_worker_role","mode":"managed","type":"aws_iam_role","name":"report_worker_role","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"references":["var.project_name","var.environment"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_iam_role.telegram_lambda_role","mode":"managed","type":"aws_iam_role","name":"telegram_lambda_role","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"references":["var.project_name","var.environment"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_iam_role_policy.lambda_custom","mode":"managed","type":"aws_iam_role_policy","name":"lambda_custom","provider_config_key":"aws","expressions":{"name":{"references":["var.function_name"]},"policy":{"references":["aws_s3_bucket.pdf_reports.arn","aws_s3_bucket.pdf_reports","aws_s3_bucket.pdf_reports.arn","aws_s3_bucket.pdf_reports"]},"role":{"references":["aws_iam_role.lambda_role.id","aws_iam_role.lambda_role"]}},"schema_version":0},{"address":"aws_iam_role_policy.report_worker_policy","mode":"managed","type":"aws_iam_role_policy","name":"report_worker_policy","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name","var.environment"]},"policy":{"references":["aws_sqs_queue.report_jobs.arn","aws_sqs_queue.report_jobs","aws_dynamodb_table.report_jobs.arn","aws_dynamodb_table.report_jobs","aws_s3_bucket.pdf_reports.arn","aws_s3_bucket.pdf_reports"]},"role":{"references":["aws_iam_role.report_worker_role.id","aws_iam_role.report_worker_role"]}},"schema_version":0},{"address":"aws_iam_role_policy.scheduler_secrets_access","mode":"managed","type":"aws_iam_role_policy","name":"scheduler_secrets_access","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name","var.environment"]},"policy":{"references":["aws_secretsmanager_secret.aurora_credentials[0].arn","aws_secretsmanager_secret.aurora_credentials[0]","aws_secretsmanager_secret.aurora_credentials"]},"role":{"references":["aws_iam_role.telegram_lambda_role.id","aws_iam_role.telegram_lambda_role"]}},"schema_version":0,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_iam_role_policy.telegram_api_async_policy","mode":"managed","type":"aws_iam_role_policy","name":"telegram_api_async_policy","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name","var.environment"]},"policy":{"references":["aws_sqs_queue.report_jobs.arn","aws_sqs_queue.report_jobs","aws_dynamodb_table.report_jobs.arn","aws_dynamodb_table.report_jobs"]},"role":{"references":["aws_iam_role.telegram_lambda_role.id","aws_iam_role.telegram_lambda_role"]}},"schema_version":0},{"address":"aws_iam_role_policy.telegram_lambda_custom","mode":"managed","type":"aws_iam_role_policy","name":"telegram_lambda_custom","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name","var.environment"]},"policy":{"references":["aws_s3_bucket.pdf_reports.arn","aws_s3_bucket.pdf_reports","aws_s3_bucket.pdf_reports.arn","aws_s3_bucket.pdf_reports"]},"role":{"references":["aws_iam_role.telegram_lambda_role.id","aws_iam_role.telegram_lambda_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_basic","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"},"role":{"references":["aws_iam_role.lambda_role.name","aws_iam_role.lambda_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_dynamodb","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dynamodb_access.arn","aws_iam_policy.dynamodb_access"]},"role":{"references":["aws_iam_role.lambda_role.name","aws_iam_role.lambda_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.report_worker_aurora_access","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_aurora_access","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.lambda_aurora_access[0].arn","aws_iam_policy.lambda_aurora_access[0]","aws_iam_policy.lambda_aurora_access"]},"role":{"references":["aws_iam_role.report_worker_role.name","aws_iam_role.report_worker_role"]}},"schema_version":0,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_iam_role_policy_attachment.report_worker_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_basic","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"},"role":{"references":["aws_iam_role.report_worker_role.name","aws_iam_role.report_worker_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.report_worker_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"report_worker_vpc","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"},"role":{"references":["aws_iam_role.report_worker_role.name","aws_iam_role.report_worker_role"]}},"schema_version":0,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_iam_role_policy_attachment.scheduler_aurora_access","mode":"managed","type":"aws_iam_role_policy_attachment","name":"scheduler_aurora_access","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.lambda_aurora_access[0].arn","aws_iam_policy.lambda_aurora_access[0]","aws_iam_policy.lambda_aurora_access"]},"role":{"references":["aws_iam_role.telegram_lambda_role.name","aws_iam_role.telegram_lambda_role"]}},"schema_version":0,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_iam_role_policy_attachment.telegram_lambda_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"telegram_lambda_basic","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"},"role":{"references":["aws_iam_role.telegram_lambda_role.name","aws_iam_role.telegram_lambda_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.telegram_lambda_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"telegram_lambda_dynamodb","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.dynamodb_access.arn","aws_iam_policy.dynamodb_access"]},"role":{"references":["aws_iam_role.telegram_lambda_role.name","aws_iam_role.telegram_lambda_role"]}},"schema_version":0},{"address":"aws_lambda_alias.report_worker_live","mode":"managed","type":"aws_lambda_alias","name":"report_worker_live","provider_config_key":"aws","expressions":{"description":{"constant_value":"Production alias for report worker - update to rollback"},"function_name":{"references":["aws_lambda_function.report_worker.function_name","aws_lambda_function.report_worker"]},"function_version":{"references":["aws_lambda_function.report_worker.version","aws_lambda_function.report_worker"]},"name":{"constant_value":"live"}},"schema_version":0},{"address":"aws_lambda_alias.telegram_api_live","mode":"managed","type":"aws_lambda_alias","name":"telegram_api_live","provider_config_key":"aws","expressions":{"description":{"constant_value":"Production traffic alias - update to rollback"},"function_name":{"references":["aws_lambda_function.telegram_api.function_name","aws_lambda_function.telegram_api"]},"function_version":{"references":["aws_lambda_function.telegram_api.version","aws_lambda_function.telegram_api"]},"name":{"constant_value":"live"}},"schema_version":0},{"address":"aws_lambda_event_source_mapping.report_jobs_trigger","mode":"managed","type":"aws_lambda_event_source_mapping","name":"report_jobs_trigger","provider_config_key":"aws","expressions":{"batch_size":{"constant_value":1},"event_source_arn":{"references":["aws_sqs_queue.report_jobs.arn","aws_sqs_queue.report_jobs"]},"function_name":{"references":["aws_lambda_alias.report_worker_live.arn","aws_lambda_alias.report_worker_live"]},"function_response_types":{"constant_value":[]}},"schema_version":0,"depends_on":["aws_lambda_alias.report_worker_live","aws_iam_role_policy.report_worker_policy"]},{"address":"aws_lambda_function.line_bot","mode":"managed","type":"aws_lambda_function","name":"line_bot","provider_config_key":"aws","expressions":{"environment":[{"variables":{"references":["var.OPENROUTER_API_KEY","var.LINE_CHANNEL_ACCESS_TOKEN","var.LINE_CHANNEL_SECRET","aws_s3_bucket.pdf_reports.id","aws_s3_bucket.pdf_reports","aws_s3_bucket.pdf_reports.id","aws_s3_bucket.pdf_reports"]}}],"function_name":{"references":["var.function_name"]},"image_config":[{"command":{"constant_value":["lambda_handler.lambda_handler"]}}],"image_uri":{"references":["aws_ecr_repository.lambda.repository_url","aws_ecr_repository.lambda","var.lambda_image_tag"]},"memory_size":{"references":["var.lambda_memory"]},"package_type":{"constant_value":"Image"},"role":{"references":["aws_iam_role.lambda_role.arn","aws_iam_role.lambda_role"]},"tags":{"references":["local.common_tags","var.function_name"]},"timeout":{"references":["var.lambda_timeout"]}},"schema_version":0,"depends_on":["aws_ecr_repository.lambda","aws_iam_role_policy_attachment.lambda_basic"]},{"address":"aws_lambda_function.report_worker","mode":"managed","type":"aws_lambda_function","name":"report_worker","provider_config_key":"aws","expressions":{"environment":[{"variables":{"references":["var.OPENROUTER_API_KEY","aws_dynamodb_table.report_jobs.name","aws_dynamodb_table.report_jobs","aws_s3_bucket.pdf_reports.id","aws_s3_bucket.pdf_reports","aws_s3_bucket.pdf_reports.id","aws_s3_bucket.pdf_reports","var.langsmith_tracing_enabled","var.langsmith_api_key","var.aurora_enabled","aws_rds_cluster.aurora[0].endpoint","aws_rds_cluster.aurora[0]","aws_rds_cluster.aurora","var.aurora_database_name","var.aurora_master_username","var.aurora_enabled","var.AURORA_MASTER_PASSWORD"]}}],"function_name":{"references":["var.project_name","var.environment"]},"image_config":[{"command":{"constant_value":["report_worker_handler.handler"]}}],"image_uri":{"references":["aws_ecr_repository.lambda.repository_url","aws_ecr_repository.lambda","var.lambda_image_tag"]},"memory_size":{"constant_value":1024},"package_type":{"constant_value":"Image"},"publish":{"constant_value":true},"role":{"references":["aws_iam_role.report_worker_role.arn","aws_iam_role.report_worker_role"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"timeout":{"constant_value":120}},"schema_version":0,"depends_on":["aws_ecr_repository.lambda","aws_iam_role_policy_attachment.report_worker_basic"]},{"address":"aws_lambda_function.telegram_api","mode":"managed","type":"aws_lambda_function","name":"telegram_api","provider_config_key":"aws","expressions":{"environment":[{"variables":{"references":["var.OPENROUTER_API_KEY","aws_s3_bucket.pdf_reports.id","aws_s3_bucket.pdf_reports","aws_s3_bucket.pdf_reports.id","aws_s3_bucket.pdf_reports","aws_dynamodb_table.telegram_watchlist.name","aws_dynamodb_table.telegram_watchlist","aws_dynamodb_table.report_jobs.name","aws_dynamodb_table.report_jobs","aws_sqs_queue.report_jobs.url","aws_sqs_queue.report_jobs","var.telegram_bot_token","var.telegram_app_id","var.telegram_app_hash","var.telegram_webapp_url","var.langsmith_tracing_enabled","var.langsmith_api_key","var.environment"]}}],"function_name":{"references":["var.project_name","var.environment"]},"image_config":[{"command":{"constant_value":["telegram_lambda_handler.handler"]}}],"image_uri":{"references":["aws_ecr_repository.lambda.repository_url","aws_ecr_repository.lambda","var.lambda_image_tag"]},"memory_size":{"references":["var.lambda_memory"]},"package_type":{"constant_value":"Image"},"publish":{"constant_value":true},"role":{"references":["aws_iam_role.telegram_lambda_role.arn","aws_iam_role.telegram_lambda_role"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"timeout":{"references":["var.lambda_timeout"]}},"schema_version":0,"depends_on":["aws_ecr_repository.lambda","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy_attachment.telegram_lambda_dynamodb"]},{"address":"aws_lambda_function.ticker_scheduler","mode":"managed","type":"aws_lambda_function","name":"ticker_scheduler","provider_config_key":"aws","expressions":{"environment":[{"variables":{"references":["aws_s3_bucket.pdf_reports.id","aws_s3_bucket.pdf_reports","var.environment","var.OPENROUTER_API_KEY","var.aurora_enabled","aws_rds_cluster.aurora[0].endpoint","aws_rds_cluster.aurora[0]","aws_rds_cluster.aurora","var.aurora_database_name","var.aurora_master_username","var.aurora_enabled","var.AURORA_MASTER_PASSWORD"]}}],"function_name":{"references":["var.project_name","var.environment"]},"image_config":[{"command":{"constant_value":["src.scheduler.handler.lambda_handler"]}}],"image_uri":{"references":["aws_ecr_repository.lambda.repository_url","aws_ecr_repository.lambda","var.lambda_image_tag"]},"memory_size":{"constant_value":512},"package_type":{"constant_value":"Image"},"role":{"references":["aws_iam_role.telegram_lambda_role.arn","aws_iam_role.telegram_lambda_role"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"timeout":{"constant_value":300}},"schema_version":0,"depends_on":["aws_ecr_repository.lambda","aws_iam_role_policy_attachment.telegram_lambda_basic","aws_iam_role_policy.telegram_lambda_custom"]},{"address":"aws_lambda_function_url.line_webhook","mode":"managed","type":"aws_lambda_function_url","name":"line_webhook","provider_config_key":"aws","expressions":{"authorization_type":{"constant_value":"NONE"},"cors":[{"allow_headers":{"constant_value":["*"]},"allow_methods":{"constant_value":["POST","GET"]},"allow_origins":{"constant_value":["*"]}}],"function_name":{"references":["aws_lambda_function.line_bot.function_name","aws_lambda_function.line_bot"]}},"schema_version":0,"depends_on":["aws_lambda_function.line_bot"]},{"address":"aws_lambda_permission.eventbridge_invoke_scheduler","mode":"managed","type":"aws_lambda_permission","name":"eventbridge_invoke_scheduler","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"references":["aws_lambda_function.ticker_scheduler.function_name","aws_lambda_function.ticker_scheduler"]},"principal":{"constant_value":"events.amazonaws.com"},"source_arn":{"references":["aws_cloudwatch_event_rule.daily_ticker_fetch.arn","aws_cloudwatch_event_rule.daily_ticker_fetch"]},"statement_id":{"constant_value":"AllowEventBridgeInvoke"}},"schema_version":0},{"address":"aws_lambda_permission.report_worker_sqs","mode":"managed","type":"aws_lambda_permission","name":"report_worker_sqs","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"references":["aws_lambda_function.report_worker.function_name","aws_lambda_function.report_worker"]},"principal":{"constant_value":"sqs.amazonaws.com"},"qualifier":{"references":["aws_lambda_alias.report_worker_live.name","aws_lambda_alias.report_worker_live"]},"source_arn":{"references":["aws_sqs_queue.report_jobs.arn","aws_sqs_queue.report_jobs"]},"statement_id":{"constant_value":"AllowSQSInvoke"}},"schema_version":0},{"address":"aws_lambda_permission.telegram_api_gateway","mode":"managed","type":"aws_lambda_permission","name":"telegram_api_gateway","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"references":["aws_lambda_function.telegram_api.function_name","aws_lambda_function.telegram_api"]},"principal":{"constant_value":"apigateway.amazonaws.com"},"qualifier":{"references":["aws_lambda_alias.telegram_api_live.name","aws_lambda_alias.telegram_api_live"]},"source_arn":{"references":["aws_apigatewayv2_api.telegram_api.execution_arn","aws_apigatewayv2_api.telegram_api"]},"statement_id":{"constant_value":"AllowAPIGatewayInvoke"}},"schema_version":0},{"address":"aws_rds_cluster.aurora","mode":"managed","type":"aws_rds_cluster","name":"aurora","provider_config_key":"aws","expressions":{"backup_retention_period":{"constant_value":7},"cluster_identifier":{"references":["var.project_name","var.environment"]},"database_name":{"references":["var.aurora_database_name"]},"db_subnet_group_name":{"references":["aws_db_subnet_group.aurora[0].name","aws_db_subnet_group.aurora[0]","aws_db_subnet_group.aurora"]},"deletion_protection":{"references":["var.environment"]},"enabled_cloudwatch_logs_exports":{"constant_value":["error","slowquery"]},"engine":{"constant_value":"aurora-mysql"},"engine_mode":{"constant_value":"provisioned"},"engine_version":{"constant_value":"8.0.mysql_aurora.3.04.0"},"final_snapshot_identifier":{"references":["var.environment","var.project_name","var.environment"]},"master_password":{"references":["var.AURORA_MASTER_PASSWORD"]},"master_username":{"references":["var.aurora_master_username"]},"preferred_backup_window":{"constant_value":"02:00-03:00"},"serverlessv2_scaling_configuration":[{"max_capacity":{"references":["var.aurora_max_acu"]},"min_capacity":{"references":["var.aurora_min_acu"]}}],"skip_final_snapshot":{"references":["var.environment"]},"tags":{"references":["local.common_tags","var.project_name"]},"vpc_security_group_ids":{"references":["aws_security_group.aurora[0].id","aws_security_group.aurora[0]","aws_security_group.aurora"]}},"schema_version":1,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_rds_cluster_instance.aurora","mode":"managed","type":"aws_rds_cluster_instance","name":"aurora","provider_config_key":"aws","expressions":{"cluster_identifier":{"references":["aws_rds_cluster.aurora[0].id","aws_rds_cluster.aurora[0]","aws_rds_cluster.aurora"]},"engine":{"references":["aws_rds_cluster.aurora[0].engine","aws_rds_cluster.aurora[0]","aws_rds_cluster.aurora"]},"engine_version":{"references":["aws_rds_cluster.aurora[0].engine_version","aws_rds_cluster.aurora[0]","aws_rds_cluster.aurora"]},"identifier":{"references":["var.project_name","var.environment"]},"instance_class":{"constant_value":"db.serverless"},"performance_insights_enabled":{"references":["var.environment"]},"performance_insights_retention_period":{"references":["var.environment"]},"tags":{"references":["local.common_tags","var.project_name"]}},"schema_version":0,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_s3_bucket.pdf_reports","mode":"managed","type":"aws_s3_bucket","name":"pdf_reports","provider_config_key":"aws","expressions":{"bucket":{"references":["data.aws_caller_identity.current.account_id","data.aws_caller_identity.current"]},"tags":{"references":["local.common_tags"]}},"schema_version":0},{"address":"aws_s3_bucket.webapp","mode":"managed","type":"aws_s3_bucket","name":"webapp","provider_config_key":"aws","expressions":{"bucket":{"references":["var.project_name","var.environment"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_s3_bucket_lifecycle_configuration.pdf_reports","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"pdf_reports","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.pdf_reports.id","aws_s3_bucket.pdf_reports"]},"rule":[{"expiration":[{"days":{"constant_value":30}}],"filter":[{"prefix":{"constant_value":"reports/"}}],"id":{"constant_value":"delete_old_pdfs"},"status":{"constant_value":"Enabled"}},{"expiration":[{"days":{"constant_value":1}}],"filter":[{"prefix":{"constant_value":"cache/"}}],"id":{"constant_value":"delete_old_cache"},"status":{"constant_value":"Enabled"}}]},"schema_version":1},{"address":"aws_s3_bucket_policy.webapp","mode":"managed","type":"aws_s3_bucket_policy","name":"webapp","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.webapp.id","aws_s3_bucket.webapp"]},"policy":{"references":["aws_cloudfront_origin_access_identity.webapp.iam_arn","aws_cloudfront_origin_access_identity.webapp","aws_s3_bucket.webapp.arn","aws_s3_bucket.webapp"]}},"schema_version":0},{"address":"aws_s3_bucket_public_access_block.pdf_reports","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"pdf_reports","provider_config_key":"aws","expressions":{"block_public_acls":{"constant_value":true},"block_public_policy":{"constant_value":true},"bucket":{"references":["aws_s3_bucket.pdf_reports.id","aws_s3_bucket.pdf_reports"]},"ignore_public_acls":{"constant_value":true},"restrict_public_buckets":{"constant_value":true}},"schema_version":0},{"address":"aws_s3_bucket_public_access_block.webapp","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"webapp","provider_config_key":"aws","expressions":{"block_public_acls":{"constant_value":true},"block_public_policy":{"constant_value":true},"bucket":{"references":["aws_s3_bucket.webapp.id","aws_s3_bucket.webapp"]},"ignore_public_acls":{"constant_value":true},"restrict_public_buckets":{"constant_value":true}},"schema_version":0},{"address":"aws_s3_bucket_versioning.pdf_reports","mode":"managed","type":"aws_s3_bucket_versioning","name":"pdf_reports","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.pdf_reports.id","aws_s3_bucket.pdf_reports"]},"versioning_configuration":[{"status":{"constant_value":"Enabled"}}]},"schema_version":0},{"address":"aws_secretsmanager_secret.aurora_credentials","mode":"managed","type":"aws_secretsmanager_secret","name":"aurora_credentials","provider_config_key":"aws","expressions":{"description":{"references":["var.project_name"]},"name":{"references":["var.project_name","var.environment"]},"tags":{"references":["local.common_tags","var.project_name"]}},"schema_version":0,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_secretsmanager_secret_version.aurora_credentials","mode":"managed","type":"aws_secretsmanager_secret_version","name":"aurora_credentials","provider_config_key":"aws","expressions":{"secret_id":{"references":["aws_secretsmanager_secret.aurora_credentials[0].id","aws_secretsmanager_secret.aurora_credentials[0]","aws_secretsmanager_secret.aurora_credentials"]},"secret_string":{"references":["var.aurora_master_username","var.AURORA_MASTER_PASSWORD","aws_rds_cluster.aurora[0].endpoint","aws_rds_cluster.aurora[0]","aws_rds_cluster.aurora","var.aurora_database_name"]}},"schema_version":0,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_security_group.aurora","mode":"managed","type":"aws_security_group","name":"aurora","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for Aurora MySQL cluster"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":"All outbound traffic","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"ingress":{"references":["aws_security_group.lambda_aurora[0].id","aws_security_group.lambda_aurora[0]","aws_security_group.lambda_aurora","data.aws_vpc.default.cidr_block","data.aws_vpc.default"]},"name":{"references":["var.project_name","var.environment"]},"tags":{"references":["local.common_tags","var.project_name"]},"vpc_id":{"references":["data.aws_vpc.default.id","data.aws_vpc.default"]}},"schema_version":1,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_security_group.lambda_aurora","mode":"managed","type":"aws_security_group","name":"lambda_aurora","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for Lambda functions accessing Aurora"},"egress":{"constant_value":[{"cidr_blocks":["0.0.0.0/0"],"description":"All outbound traffic","from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}]},"name":{"references":["var.project_name","var.environment"]},"tags":{"references":["local.common_tags","var.project_name"]},"vpc_id":{"references":["data.aws_vpc.default.id","data.aws_vpc.default"]}},"schema_version":1,"count_expression":{"references":["var.aurora_enabled"]}},{"address":"aws_sns_topic.telegram_alerts","mode":"managed","type":"aws_sns_topic","name":"telegram_alerts","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name","var.environment"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]}},"schema_version":0},{"address":"aws_sqs_queue.report_jobs","mode":"managed","type":"aws_sqs_queue","name":"report_jobs","provider_config_key":"aws","expressions":{"message_retention_seconds":{"constant_value":3600},"name":{"references":["var.project_name","var.environment"]},"receive_wait_time_seconds":{"constant_value":10},"redrive_policy":{"references":["aws_sqs_queue.report_jobs_dlq.arn","aws_sqs_queue.report_jobs_dlq"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"visibility_timeout_seconds":{"constant_value":120}},"schema_version":0},{"address":"aws_sqs_queue.report_jobs_dlq","mode":"managed","type":"aws_sqs_queue","name":"report_jobs_dlq","provider_config_key":"aws","expressions":{"message_retention_seconds":{"constant_value":1209600},"name":{"references":["var.project_name","var.environment"]},"tags":{"references":["local.common_tags","var.project_name","var.environment"]},"visibility_timeout_seconds":{"constant_value":60}},"schema_version":0},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_subnets.default","mode":"data","type":"aws_subnets","name":"default","provider_config_key":"aws","expressions":{"filter":[{"name":{"constant_value":"vpc-id"},"values":{"references":["data.aws_vpc.default.id","data.aws_vpc.default"]}}]},"schema_version":0},{"address":"data.aws_vpc.default","mode":"data","type":"aws_vpc","name":"default","provider_config_key":"aws","expressions":{"default":{"constant_value":true}},"schema_version":0}],"variables":{"AURORA_MASTER_PASSWORD":{"default":"","description":"Master password for Aurora cluster","sensitive":true},"LINE_CHANNEL_ACCESS_TOKEN":{"description":"LINE channel access token","sensitive":true},"LINE_CHANNEL_SECRET":{"description":"LINE channel secret","sensitive":true},"OPENROUTER_API_KEY":{"description":"OpenRouter API key for the Lambda function (provides access to OpenAI models)","sensitive":true},"aurora_database_name":{"default":"ticker_data","description":"Initial database name"},"aurora_enabled":{"default":false,"description":"Enable Aurora MySQL cluster (set to false to skip creation)"},"aurora_master_username":{"default":"admin","description":"Master username for Aurora cluster"},"aurora_max_acu":{"default":2,"description":"Maximum ACU capacity for Aurora Serverless v2"},"aurora_min_acu":{"default":0.5,"description":"Minimum ACU capacity for Aurora Serverless v2 (0.5 ACU = ~$43/month)"},"aws_region":{"default":"ap-southeast-1","description":"AWS region where resources will be created"},"cost_center":{"default":"engineering","description":"Cost center for billing attribution"},"ecr_repository_name":{"default":"line-bot-ticker-report","description":"Name of the ECR repository for Lambda container images"},"environment":{"default":"prod","description":"Environment name (dev, staging, prod)"},"function_name":{"default":"line-bot-ticker-report","description":"Name of the Lambda function"},"lambda_image_tag":{"default":"latest","description":"Docker image tag for Lambda functions (set by CI/CD, e.g., 'v20251201182404'). Use 'latest' only for initial bootstrap."},"lambda_memory":{"default":512,"description":"Memory size for Lambda function in MB"},"lambda_timeout":{"default":60,"description":"Timeout for Lambda function in seconds"},"langsmith_api_key":{"default":"","description":"LangSmith API key for tracing","sensitive":true},"langsmith_tracing_enabled":{"default":false,"description":"Enable LangSmith tracing"},"log_retention_days":{"default":7,"description":"CloudWatch Logs retention period in days"},"owner":{"default":"data-team","description":"Team or individual responsible for the resources"},"project_name":{"default":"dr-daily-report","description":"Project name for resource naming and tagging"},"telegram_app_hash":{"default":"","description":"Telegram App Hash","sensitive":true},"telegram_app_id":{"default":"","description":"Telegram App ID","sensitive":true},"telegram_bot_token":{"default":"","description":"Telegram Bot Token for Mini App","sensitive":true},"telegram_webapp_url":{"default":"","description":"Telegram Mini App WebApp URL (legacy, use telegram_webapp_urls for multiple)"},"telegram_webapp_urls":{"default":[],"description":"List of Telegram Mini App WebApp URLs (for CORS - dev, staging, prod)"}}}},"relevant_attributes":[{"resource":"aws_security_group.lambda_aurora[0]","attribute":["id"]},{"resource":"aws_iam_role.telegram_lambda_role","attribute":["arn"]},{"resource":"aws_secretsmanager_secret.aurora_credentials[0]","attribute":["arn"]},{"resource":"aws_security_group.aurora[0]","attribute":["id"]},{"resource":"aws_rds_cluster.aurora[0]","attribute":["reader_endpoint"]},{"resource":"aws_iam_role.report_worker_role","attribute":["arn"]},{"resource":"aws_dynamodb_table.report_jobs","attribute":["name"]},{"resource":"aws_rds_cluster.aurora[0]","attribute":["endpoint"]},{"resource":"aws_lambda_function.line_bot","attribute":["function_name"]},{"resource":"aws_lambda_function_url.line_webhook","attribute":["function_url"]},{"resource":"aws_ecr_repository.lambda","attribute":["repository_url"]},{"resource":"aws_s3_bucket.pdf_reports","attribute":["id"]},{"resource":"aws_rds_cluster.aurora[0]","attribute":["port"]}],"checks":[{"address":{"kind":"var","name":"LINE_CHANNEL_ACCESS_TOKEN","to_display":"var.LINE_CHANNEL_ACCESS_TOKEN"},"status":"pass","instances":[{"address":{"to_display":"var.LINE_CHANNEL_ACCESS_TOKEN"},"status":"pass"}]},{"address":{"kind":"var","name":"LINE_CHANNEL_SECRET","to_display":"var.LINE_CHANNEL_SECRET"},"status":"pass","instances":[{"address":{"to_display":"var.LINE_CHANNEL_SECRET"},"status":"pass"}]},{"address":{"kind":"var","name":"OPENROUTER_API_KEY","to_display":"var.OPENROUTER_API_KEY"},"status":"pass","instances":[{"address":{"to_display":"var.OPENROUTER_API_KEY"},"status":"pass"}]},{"address":{"kind":"var","name":"environment","to_display":"var.environment"},"status":"pass","instances":[{"address":{"to_display":"var.environment"},"status":"pass"}]}],"timestamp":"2025-12-02T14:12:57Z","applyable":true,"complete":true,"errored":false}
